var z1=Object.create;var Dc=Object.defineProperty;var B1=Object.getOwnPropertyDescriptor;var Z1=Object.getOwnPropertyNames;var V1=Object.getPrototypeOf,H1=Object.prototype.hasOwnProperty;var j=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),hg=(t,e)=>{for(var r in e)Dc(t,r,{get:e[r],enumerable:!0})},vg=(t,e,r,a)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of Z1(e))!H1.call(t,s)&&s!==r&&Dc(t,s,{get:()=>e[s],enumerable:!(a=B1(e,s))||a.enumerable});return t};var Pe=(t,e,r)=>(r=t!=null?z1(V1(t)):{},vg(e||!t||!t.__esModule?Dc(r,"default",{value:t,enumerable:!0}):r,t)),G1=t=>vg(Dc({},"__esModule",{value:!0}),t);var wg=j((Z5,_g)=>{_g.exports=bg;bg.sync=K1;var yg=require("fs");function W1(t,e){var r=e.pathExt!==void 0?e.pathExt:process.env.PATHEXT;if(!r||(r=r.split(";"),r.indexOf("")!==-1))return!0;for(var a=0;a<r.length;a++){var s=r[a].toLowerCase();if(s&&t.substr(-s.length).toLowerCase()===s)return!0}return!1}function xg(t,e,r){return!t.isSymbolicLink()&&!t.isFile()?!1:W1(e,r)}function bg(t,e,r){yg.stat(t,function(a,s){r(a,a?!1:xg(s,t,e))})}function K1(t,e){return xg(yg.statSync(t),t,e)}});var Cg=j((V5,Rg)=>{Rg.exports=Eg;Eg.sync=J1;var Sg=require("fs");function Eg(t,e,r){Sg.stat(t,function(a,s){r(a,a?!1:Pg(s,e))})}function J1(t,e){return Pg(Sg.statSync(t),e)}function Pg(t,e){return t.isFile()&&Q1(t,e)}function Q1(t,e){var r=t.mode,a=t.uid,s=t.gid,i=e.uid!==void 0?e.uid:process.getuid&&process.getuid(),n=e.gid!==void 0?e.gid:process.getgid&&process.getgid(),o=parseInt("100",8),l=parseInt("010",8),c=parseInt("001",8),u=o|l,d=r&c||r&l&&s===n||r&o&&a===i||r&u&&i===0;return d}});var Og=j((G5,Tg)=>{var H5=require("fs"),Nc;process.platform==="win32"||global.TESTING_WINDOWS?Nc=wg():Nc=Cg();Tg.exports=Xd;Xd.sync=Y1;function Xd(t,e,r){if(typeof e=="function"&&(r=e,e={}),!r){if(typeof Promise!="function")throw new TypeError("callback not provided");return new Promise(function(a,s){Xd(t,e||{},function(i,n){i?s(i):a(n)})})}Nc(t,e||{},function(a,s){a&&(a.code==="EACCES"||e&&e.ignoreErrors)&&(a=null,s=!1),r(a,s)})}function Y1(t,e){try{return Nc.sync(t,e||{})}catch(r){if(e&&e.ignoreErrors||r.code==="EACCES")return!1;throw r}}});var $g=j((W5,Ng)=>{var Wn=process.platform==="win32"||process.env.OSTYPE==="cygwin"||process.env.OSTYPE==="msys",Ig=require("path"),X1=Wn?";":":",Ag=Og(),kg=t=>Object.assign(new Error(`not found: ${t}`),{code:"ENOENT"}),jg=(t,e)=>{let r=e.colon||X1,a=t.match(/\//)||Wn&&t.match(/\\/)?[""]:[...Wn?[process.cwd()]:[],...(e.path||process.env.PATH||"").split(r)],s=Wn?e.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM":"",i=Wn?s.split(r):[""];return Wn&&t.indexOf(".")!==-1&&i[0]!==""&&i.unshift(""),{pathEnv:a,pathExt:i,pathExtExe:s}},Dg=(t,e,r)=>{typeof e=="function"&&(r=e,e={}),e||(e={});let{pathEnv:a,pathExt:s,pathExtExe:i}=jg(t,e),n=[],o=c=>new Promise((u,d)=>{if(c===a.length)return e.all&&n.length?u(n):d(kg(t));let h=a[c],p=/^".*"$/.test(h)?h.slice(1,-1):h,m=Ig.join(p,t),f=!p&&/^\.[\\\/]/.test(t)?t.slice(0,2)+m:m;u(l(f,c,0))}),l=(c,u,d)=>new Promise((h,p)=>{if(d===s.length)return h(o(u+1));let m=s[d];Ag(c+m,{pathExt:i},(f,v)=>{if(!f&&v)if(e.all)n.push(c+m);else return h(c+m);return h(l(c,u,d+1))})});return r?o(0).then(c=>r(null,c),r):o(0)},eI=(t,e)=>{e=e||{};let{pathEnv:r,pathExt:a,pathExtExe:s}=jg(t,e),i=[];for(let n=0;n<r.length;n++){let o=r[n],l=/^".*"$/.test(o)?o.slice(1,-1):o,c=Ig.join(l,t),u=!l&&/^\.[\\\/]/.test(t)?t.slice(0,2)+c:c;for(let d=0;d<a.length;d++){let h=u+a[d];try{if(Ag.sync(h,{pathExt:s}))if(e.all)i.push(h);else return h}catch{}}}if(e.all&&i.length)return i;if(e.nothrow)return null;throw kg(t)};Ng.exports=Dg;Dg.sync=eI});var Fg=j((K5,ep)=>{"use strict";var Lg=(t={})=>{let e=t.env||process.env;return(t.platform||process.platform)!=="win32"?"PATH":Object.keys(e).reverse().find(a=>a.toUpperCase()==="PATH")||"Path"};ep.exports=Lg;ep.exports.default=Lg});var zg=j((J5,Ug)=>{"use strict";var qg=require("path"),tI=$g(),rI=Fg();function Mg(t,e){let r=t.options.env||process.env,a=process.cwd(),s=t.options.cwd!=null,i=s&&process.chdir!==void 0&&!process.chdir.disabled;if(i)try{process.chdir(t.options.cwd)}catch{}let n;try{n=tI.sync(t.command,{path:r[rI({env:r})],pathExt:e?qg.delimiter:void 0})}catch{}finally{i&&process.chdir(a)}return n&&(n=qg.resolve(s?t.options.cwd:"",n)),n}function aI(t){return Mg(t)||Mg(t,!0)}Ug.exports=aI});var Bg=j((Q5,rp)=>{"use strict";var tp=/([()\][%!^"`<>&|;, *?])/g;function sI(t){return t=t.replace(tp,"^$1"),t}function nI(t,e){return t=`${t}`,t=t.replace(/(?=(\\+?)?)\1"/g,'$1$1\\"'),t=t.replace(/(?=(\\+?)?)\1$/,"$1$1"),t=`"${t}"`,t=t.replace(tp,"^$1"),e&&(t=t.replace(tp,"^$1")),t}rp.exports.command=sI;rp.exports.argument=nI});var Vg=j((Y5,Zg)=>{"use strict";Zg.exports=/^#!(.*)/});var Gg=j((X5,Hg)=>{"use strict";var iI=Vg();Hg.exports=(t="")=>{let e=t.match(iI);if(!e)return null;let[r,a]=e[0].replace(/#! ?/,"").split(" "),s=r.split("/").pop();return s==="env"?a:a?`${s} ${a}`:s}});var Kg=j((eG,Wg)=>{"use strict";var ap=require("fs"),oI=Gg();function cI(t){let r=Buffer.alloc(150),a;try{a=ap.openSync(t,"r"),ap.readSync(a,r,0,150,0),ap.closeSync(a)}catch{}return oI(r.toString())}Wg.exports=cI});var Xg=j((tG,Yg)=>{"use strict";var lI=require("path"),Jg=zg(),Qg=Bg(),uI=Kg(),dI=process.platform==="win32",pI=/\.(?:com|exe)$/i,fI=/node_modules[\\/].bin[\\/][^\\/]+\.cmd$/i;function mI(t){t.file=Jg(t);let e=t.file&&uI(t.file);return e?(t.args.unshift(t.file),t.command=e,Jg(t)):t.file}function hI(t){if(!dI)return t;let e=mI(t),r=!pI.test(e);if(t.options.forceShell||r){let a=fI.test(e);t.command=lI.normalize(t.command),t.command=Qg.command(t.command),t.args=t.args.map(i=>Qg.argument(i,a));let s=[t.command].concat(t.args).join(" ");t.args=["/d","/s","/c",`"${s}"`],t.command=process.env.comspec||"cmd.exe",t.options.windowsVerbatimArguments=!0}return t}function vI(t,e,r){e&&!Array.isArray(e)&&(r=e,e=null),e=e?e.slice(0):[],r=Object.assign({},r);let a={command:t,args:e,options:r,file:void 0,original:{command:t,args:e}};return r.shell?a:hI(a)}Yg.exports=vI});var ry=j((rG,ty)=>{"use strict";var sp=process.platform==="win32";function np(t,e){return Object.assign(new Error(`${e} ${t.command} ENOENT`),{code:"ENOENT",errno:"ENOENT",syscall:`${e} ${t.command}`,path:t.command,spawnargs:t.args})}function gI(t,e){if(!sp)return;let r=t.emit;t.emit=function(a,s){if(a==="exit"){let i=ey(s,e);if(i)return r.call(t,"error",i)}return r.apply(t,arguments)}}function ey(t,e){return sp&&t===1&&!e.file?np(e.original,"spawn"):null}function yI(t,e){return sp&&t===1&&!e.file?np(e.original,"spawnSync"):null}ty.exports={hookChildProcess:gI,verifyENOENT:ey,verifyENOENTSync:yI,notFoundError:np}});var ny=j((aG,Kn)=>{"use strict";var ay=require("child_process"),ip=Xg(),op=ry();function sy(t,e,r){let a=ip(t,e,r),s=ay.spawn(a.command,a.args,a.options);return op.hookChildProcess(s,a),s}function xI(t,e,r){let a=ip(t,e,r),s=ay.spawnSync(a.command,a.args,a.options);return s.error=s.error||op.verifyENOENTSync(s.status,a),s}Kn.exports=sy;Kn.exports.spawn=sy;Kn.exports.sync=xI;Kn.exports._parse=ip;Kn.exports._enoent=op});var Fy=j((YG,Ly)=>{"use strict";var{PassThrough:dA}=require("stream");Ly.exports=function(){var t=[],e=new dA({objectMode:!0});return e.setMaxListeners(0),e.add=r,e.isEmpty=a,e.on("unpipe",s),Array.prototype.slice.call(arguments).forEach(r),e;function r(i){return Array.isArray(i)?(i.forEach(r),this):(t.push(i),i.once("end",s.bind(null,i)),i.once("error",e.emit.bind(e,"error")),i.pipe(e,{end:!1}),this)}function a(){return t.length==0}function s(i){t=t.filter(function(n){return n!==i}),!t.length&&e.readable&&e.end()}}});var xo=j((bW,ox)=>{"use strict";var RA="2.0.0",CA=Number.MAX_SAFE_INTEGER||9007199254740991,TA=16,OA=250,IA=["major","premajor","minor","preminor","patch","prepatch","prerelease"];ox.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:TA,MAX_SAFE_BUILD_LENGTH:OA,MAX_SAFE_INTEGER:CA,RELEASE_TYPES:IA,SEMVER_SPEC_VERSION:RA,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var bo=j((_W,cx)=>{"use strict";var AA=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};cx.exports=AA});var Qn=j((pa,lx)=>{"use strict";var{MAX_SAFE_COMPONENT_LENGTH:kp,MAX_SAFE_BUILD_LENGTH:kA,MAX_LENGTH:jA}=xo(),DA=bo();pa=lx.exports={};var NA=pa.re=[],$A=pa.safeRe=[],fe=pa.src=[],LA=pa.safeSrc=[],me=pa.t={},FA=0,jp="[a-zA-Z0-9-]",qA=[["\\s",1],["\\d",jA],[jp,kA]],MA=t=>{for(let[e,r]of qA)t=t.split(`${e}*`).join(`${e}{0,${r}}`).split(`${e}+`).join(`${e}{1,${r}}`);return t},ze=(t,e,r)=>{let a=MA(e),s=FA++;DA(t,s,e),me[t]=s,fe[s]=e,LA[s]=a,NA[s]=new RegExp(e,r?"g":void 0),$A[s]=new RegExp(a,r?"g":void 0)};ze("NUMERICIDENTIFIER","0|[1-9]\\d*");ze("NUMERICIDENTIFIERLOOSE","\\d+");ze("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${jp}*`);ze("MAINVERSION",`(${fe[me.NUMERICIDENTIFIER]})\\.(${fe[me.NUMERICIDENTIFIER]})\\.(${fe[me.NUMERICIDENTIFIER]})`);ze("MAINVERSIONLOOSE",`(${fe[me.NUMERICIDENTIFIERLOOSE]})\\.(${fe[me.NUMERICIDENTIFIERLOOSE]})\\.(${fe[me.NUMERICIDENTIFIERLOOSE]})`);ze("PRERELEASEIDENTIFIER",`(?:${fe[me.NONNUMERICIDENTIFIER]}|${fe[me.NUMERICIDENTIFIER]})`);ze("PRERELEASEIDENTIFIERLOOSE",`(?:${fe[me.NONNUMERICIDENTIFIER]}|${fe[me.NUMERICIDENTIFIERLOOSE]})`);ze("PRERELEASE",`(?:-(${fe[me.PRERELEASEIDENTIFIER]}(?:\\.${fe[me.PRERELEASEIDENTIFIER]})*))`);ze("PRERELEASELOOSE",`(?:-?(${fe[me.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${fe[me.PRERELEASEIDENTIFIERLOOSE]})*))`);ze("BUILDIDENTIFIER",`${jp}+`);ze("BUILD",`(?:\\+(${fe[me.BUILDIDENTIFIER]}(?:\\.${fe[me.BUILDIDENTIFIER]})*))`);ze("FULLPLAIN",`v?${fe[me.MAINVERSION]}${fe[me.PRERELEASE]}?${fe[me.BUILD]}?`);ze("FULL",`^${fe[me.FULLPLAIN]}$`);ze("LOOSEPLAIN",`[v=\\s]*${fe[me.MAINVERSIONLOOSE]}${fe[me.PRERELEASELOOSE]}?${fe[me.BUILD]}?`);ze("LOOSE",`^${fe[me.LOOSEPLAIN]}$`);ze("GTLT","((?:<|>)?=?)");ze("XRANGEIDENTIFIERLOOSE",`${fe[me.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);ze("XRANGEIDENTIFIER",`${fe[me.NUMERICIDENTIFIER]}|x|X|\\*`);ze("XRANGEPLAIN",`[v=\\s]*(${fe[me.XRANGEIDENTIFIER]})(?:\\.(${fe[me.XRANGEIDENTIFIER]})(?:\\.(${fe[me.XRANGEIDENTIFIER]})(?:${fe[me.PRERELEASE]})?${fe[me.BUILD]}?)?)?`);ze("XRANGEPLAINLOOSE",`[v=\\s]*(${fe[me.XRANGEIDENTIFIERLOOSE]})(?:\\.(${fe[me.XRANGEIDENTIFIERLOOSE]})(?:\\.(${fe[me.XRANGEIDENTIFIERLOOSE]})(?:${fe[me.PRERELEASELOOSE]})?${fe[me.BUILD]}?)?)?`);ze("XRANGE",`^${fe[me.GTLT]}\\s*${fe[me.XRANGEPLAIN]}$`);ze("XRANGELOOSE",`^${fe[me.GTLT]}\\s*${fe[me.XRANGEPLAINLOOSE]}$`);ze("COERCEPLAIN",`(^|[^\\d])(\\d{1,${kp}})(?:\\.(\\d{1,${kp}}))?(?:\\.(\\d{1,${kp}}))?`);ze("COERCE",`${fe[me.COERCEPLAIN]}(?:$|[^\\d])`);ze("COERCEFULL",fe[me.COERCEPLAIN]+`(?:${fe[me.PRERELEASE]})?(?:${fe[me.BUILD]})?(?:$|[^\\d])`);ze("COERCERTL",fe[me.COERCE],!0);ze("COERCERTLFULL",fe[me.COERCEFULL],!0);ze("LONETILDE","(?:~>?)");ze("TILDETRIM",`(\\s*)${fe[me.LONETILDE]}\\s+`,!0);pa.tildeTrimReplace="$1~";ze("TILDE",`^${fe[me.LONETILDE]}${fe[me.XRANGEPLAIN]}$`);ze("TILDELOOSE",`^${fe[me.LONETILDE]}${fe[me.XRANGEPLAINLOOSE]}$`);ze("LONECARET","(?:\\^)");ze("CARETTRIM",`(\\s*)${fe[me.LONECARET]}\\s+`,!0);pa.caretTrimReplace="$1^";ze("CARET",`^${fe[me.LONECARET]}${fe[me.XRANGEPLAIN]}$`);ze("CARETLOOSE",`^${fe[me.LONECARET]}${fe[me.XRANGEPLAINLOOSE]}$`);ze("COMPARATORLOOSE",`^${fe[me.GTLT]}\\s*(${fe[me.LOOSEPLAIN]})$|^$`);ze("COMPARATOR",`^${fe[me.GTLT]}\\s*(${fe[me.FULLPLAIN]})$|^$`);ze("COMPARATORTRIM",`(\\s*)${fe[me.GTLT]}\\s*(${fe[me.LOOSEPLAIN]}|${fe[me.XRANGEPLAIN]})`,!0);pa.comparatorTrimReplace="$1$2$3";ze("HYPHENRANGE",`^\\s*(${fe[me.XRANGEPLAIN]})\\s+-\\s+(${fe[me.XRANGEPLAIN]})\\s*$`);ze("HYPHENRANGELOOSE",`^\\s*(${fe[me.XRANGEPLAINLOOSE]})\\s+-\\s+(${fe[me.XRANGEPLAINLOOSE]})\\s*$`);ze("STAR","(<|>)?=?\\s*\\*");ze("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");ze("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var Jc=j((wW,ux)=>{"use strict";var UA=Object.freeze({loose:!0}),zA=Object.freeze({}),BA=t=>t?typeof t!="object"?UA:t:zA;ux.exports=BA});var Dp=j((SW,fx)=>{"use strict";var dx=/^[0-9]+$/,px=(t,e)=>{let r=dx.test(t),a=dx.test(e);return r&&a&&(t=+t,e=+e),t===e?0:r&&!a?-1:a&&!r?1:t<e?-1:1},ZA=(t,e)=>px(e,t);fx.exports={compareIdentifiers:px,rcompareIdentifiers:ZA}});var Bt=j((EW,hx)=>{"use strict";var Qc=bo(),{MAX_LENGTH:mx,MAX_SAFE_INTEGER:Yc}=xo(),{safeRe:Xc,t:el}=Qn(),VA=Jc(),{compareIdentifiers:Yn}=Dp(),Np=class t{constructor(e,r){if(r=VA(r),e instanceof t){if(e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>mx)throw new TypeError(`version is longer than ${mx} characters`);Qc("SemVer",e,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;let a=e.trim().match(r.loose?Xc[el.LOOSE]:Xc[el.FULL]);if(!a)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+a[1],this.minor=+a[2],this.patch=+a[3],this.major>Yc||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Yc||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Yc||this.patch<0)throw new TypeError("Invalid patch version");a[4]?this.prerelease=a[4].split(".").map(s=>{if(/^[0-9]+$/.test(s)){let i=+s;if(i>=0&&i<Yc)return i}return s}):this.prerelease=[],this.build=a[5]?a[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(Qc("SemVer.compare",this.version,this.options,e),!(e instanceof t)){if(typeof e=="string"&&e===this.version)return 0;e=new t(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof t||(e=new t(e,this.options)),Yn(this.major,e.major)||Yn(this.minor,e.minor)||Yn(this.patch,e.patch)}comparePre(e){if(e instanceof t||(e=new t(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let r=0;do{let a=this.prerelease[r],s=e.prerelease[r];if(Qc("prerelease compare",r,a,s),a===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(a===void 0)return-1;if(a===s)continue;return Yn(a,s)}while(++r)}compareBuild(e){e instanceof t||(e=new t(e,this.options));let r=0;do{let a=this.build[r],s=e.build[r];if(Qc("build compare",r,a,s),a===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(a===void 0)return-1;if(a===s)continue;return Yn(a,s)}while(++r)}inc(e,r,a){if(e.startsWith("pre")){if(!r&&a===!1)throw new Error("invalid increment argument: identifier is empty");if(r){let s=`-${r}`.match(this.options.loose?Xc[el.PRERELEASELOOSE]:Xc[el.PRERELEASE]);if(!s||s[1]!==r)throw new Error(`invalid identifier: ${r}`)}}switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,a);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,a);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,a),this.inc("pre",r,a);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,a),this.inc("pre",r,a);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let s=Number(a)?1:0;if(this.prerelease.length===0)this.prerelease=[s];else{let i=this.prerelease.length;for(;--i>=0;)typeof this.prerelease[i]=="number"&&(this.prerelease[i]++,i=-2);if(i===-1){if(r===this.prerelease.join(".")&&a===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(s)}}if(r){let i=[r,s];a===!1&&(i=[r]),Yn(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=i):this.prerelease=i}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};hx.exports=Np});var Ns=j((PW,gx)=>{"use strict";var vx=Bt(),HA=(t,e,r=!1)=>{if(t instanceof vx)return t;try{return new vx(t,e)}catch(a){if(!r)return null;throw a}};gx.exports=HA});var xx=j((RW,yx)=>{"use strict";var GA=Ns(),WA=(t,e)=>{let r=GA(t,e);return r?r.version:null};yx.exports=WA});var _x=j((CW,bx)=>{"use strict";var KA=Ns(),JA=(t,e)=>{let r=KA(t.trim().replace(/^[=v]+/,""),e);return r?r.version:null};bx.exports=JA});var Ex=j((TW,Sx)=>{"use strict";var wx=Bt(),QA=(t,e,r,a,s)=>{typeof r=="string"&&(s=a,a=r,r=void 0);try{return new wx(t instanceof wx?t.version:t,r).inc(e,a,s).version}catch{return null}};Sx.exports=QA});var Cx=j((OW,Rx)=>{"use strict";var Px=Ns(),YA=(t,e)=>{let r=Px(t,null,!0),a=Px(e,null,!0),s=r.compare(a);if(s===0)return null;let i=s>0,n=i?r:a,o=i?a:r,l=!!n.prerelease.length;if(!!o.prerelease.length&&!l){if(!o.patch&&!o.minor)return"major";if(o.compareMain(n)===0)return o.minor&&!o.patch?"minor":"patch"}let u=l?"pre":"";return r.major!==a.major?u+"major":r.minor!==a.minor?u+"minor":r.patch!==a.patch?u+"patch":"prerelease"};Rx.exports=YA});var Ox=j((IW,Tx)=>{"use strict";var XA=Bt(),ek=(t,e)=>new XA(t,e).major;Tx.exports=ek});var Ax=j((AW,Ix)=>{"use strict";var tk=Bt(),rk=(t,e)=>new tk(t,e).minor;Ix.exports=rk});var jx=j((kW,kx)=>{"use strict";var ak=Bt(),sk=(t,e)=>new ak(t,e).patch;kx.exports=sk});var Nx=j((jW,Dx)=>{"use strict";var nk=Ns(),ik=(t,e)=>{let r=nk(t,e);return r&&r.prerelease.length?r.prerelease:null};Dx.exports=ik});var Ar=j((DW,Lx)=>{"use strict";var $x=Bt(),ok=(t,e,r)=>new $x(t,r).compare(new $x(e,r));Lx.exports=ok});var qx=j((NW,Fx)=>{"use strict";var ck=Ar(),lk=(t,e,r)=>ck(e,t,r);Fx.exports=lk});var Ux=j(($W,Mx)=>{"use strict";var uk=Ar(),dk=(t,e)=>uk(t,e,!0);Mx.exports=dk});var tl=j((LW,Bx)=>{"use strict";var zx=Bt(),pk=(t,e,r)=>{let a=new zx(t,r),s=new zx(e,r);return a.compare(s)||a.compareBuild(s)};Bx.exports=pk});var Vx=j((FW,Zx)=>{"use strict";var fk=tl(),mk=(t,e)=>t.sort((r,a)=>fk(r,a,e));Zx.exports=mk});var Gx=j((qW,Hx)=>{"use strict";var hk=tl(),vk=(t,e)=>t.sort((r,a)=>hk(a,r,e));Hx.exports=vk});var _o=j((MW,Wx)=>{"use strict";var gk=Ar(),yk=(t,e,r)=>gk(t,e,r)>0;Wx.exports=yk});var rl=j((UW,Kx)=>{"use strict";var xk=Ar(),bk=(t,e,r)=>xk(t,e,r)<0;Kx.exports=bk});var $p=j((zW,Jx)=>{"use strict";var _k=Ar(),wk=(t,e,r)=>_k(t,e,r)===0;Jx.exports=wk});var Lp=j((BW,Qx)=>{"use strict";var Sk=Ar(),Ek=(t,e,r)=>Sk(t,e,r)!==0;Qx.exports=Ek});var al=j((ZW,Yx)=>{"use strict";var Pk=Ar(),Rk=(t,e,r)=>Pk(t,e,r)>=0;Yx.exports=Rk});var sl=j((VW,Xx)=>{"use strict";var Ck=Ar(),Tk=(t,e,r)=>Ck(t,e,r)<=0;Xx.exports=Tk});var Fp=j((HW,eb)=>{"use strict";var Ok=$p(),Ik=Lp(),Ak=_o(),kk=al(),jk=rl(),Dk=sl(),Nk=(t,e,r,a)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t===r;case"!==":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t!==r;case"":case"=":case"==":return Ok(t,r,a);case"!=":return Ik(t,r,a);case">":return Ak(t,r,a);case">=":return kk(t,r,a);case"<":return jk(t,r,a);case"<=":return Dk(t,r,a);default:throw new TypeError(`Invalid operator: ${e}`)}};eb.exports=Nk});var rb=j((GW,tb)=>{"use strict";var $k=Bt(),Lk=Ns(),{safeRe:nl,t:il}=Qn(),Fk=(t,e)=>{if(t instanceof $k)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};let r=null;if(!e.rtl)r=t.match(e.includePrerelease?nl[il.COERCEFULL]:nl[il.COERCE]);else{let l=e.includePrerelease?nl[il.COERCERTLFULL]:nl[il.COERCERTL],c;for(;(c=l.exec(t))&&(!r||r.index+r[0].length!==t.length);)(!r||c.index+c[0].length!==r.index+r[0].length)&&(r=c),l.lastIndex=c.index+c[1].length+c[2].length;l.lastIndex=-1}if(r===null)return null;let a=r[2],s=r[3]||"0",i=r[4]||"0",n=e.includePrerelease&&r[5]?`-${r[5]}`:"",o=e.includePrerelease&&r[6]?`+${r[6]}`:"";return Lk(`${a}.${s}.${i}${n}${o}`,e)};tb.exports=Fk});var sb=j((WW,ab)=>{"use strict";var qp=class{constructor(){this.max=1e3,this.map=new Map}get(e){let r=this.map.get(e);if(r!==void 0)return this.map.delete(e),this.map.set(e,r),r}delete(e){return this.map.delete(e)}set(e,r){if(!this.delete(e)&&r!==void 0){if(this.map.size>=this.max){let s=this.map.keys().next().value;this.delete(s)}this.map.set(e,r)}return this}};ab.exports=qp});var kr=j((KW,cb)=>{"use strict";var qk=/\s+/g,Mp=class t{constructor(e,r){if(r=Uk(r),e instanceof t)return e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease?e:new t(e.raw,r);if(e instanceof Up)return this.raw=e.value,this.set=[[e]],this.formatted=void 0,this;if(this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease,this.raw=e.trim().replace(qk," "),this.set=this.raw.split("||").map(a=>this.parseRange(a.trim())).filter(a=>a.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let a=this.set[0];if(this.set=this.set.filter(s=>!ib(s[0])),this.set.length===0)this.set=[a];else if(this.set.length>1){for(let s of this.set)if(s.length===1&&Wk(s[0])){this.set=[s];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let e=0;e<this.set.length;e++){e>0&&(this.formatted+="||");let r=this.set[e];for(let a=0;a<r.length;a++)a>0&&(this.formatted+=" "),this.formatted+=r[a].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(e){let a=((this.options.includePrerelease&&Hk)|(this.options.loose&&Gk))+":"+e,s=nb.get(a);if(s)return s;let i=this.options.loose,n=i?rr[Ht.HYPHENRANGELOOSE]:rr[Ht.HYPHENRANGE];e=e.replace(n,sj(this.options.includePrerelease)),gt("hyphen replace",e),e=e.replace(rr[Ht.COMPARATORTRIM],Bk),gt("comparator trim",e),e=e.replace(rr[Ht.TILDETRIM],Zk),gt("tilde trim",e),e=e.replace(rr[Ht.CARETTRIM],Vk),gt("caret trim",e);let o=e.split(" ").map(d=>Kk(d,this.options)).join(" ").split(/\s+/).map(d=>aj(d,this.options));i&&(o=o.filter(d=>(gt("loose invalid filter",d,this.options),!!d.match(rr[Ht.COMPARATORLOOSE])))),gt("range list",o);let l=new Map,c=o.map(d=>new Up(d,this.options));for(let d of c){if(ib(d))return[d];l.set(d.value,d)}l.size>1&&l.has("")&&l.delete("");let u=[...l.values()];return nb.set(a,u),u}intersects(e,r){if(!(e instanceof t))throw new TypeError("a Range is required");return this.set.some(a=>ob(a,r)&&e.set.some(s=>ob(s,r)&&a.every(i=>s.every(n=>i.intersects(n,r)))))}test(e){if(!e)return!1;if(typeof e=="string")try{e=new zk(e,this.options)}catch{return!1}for(let r=0;r<this.set.length;r++)if(nj(this.set[r],e,this.options))return!0;return!1}};cb.exports=Mp;var Mk=sb(),nb=new Mk,Uk=Jc(),Up=wo(),gt=bo(),zk=Bt(),{safeRe:rr,t:Ht,comparatorTrimReplace:Bk,tildeTrimReplace:Zk,caretTrimReplace:Vk}=Qn(),{FLAG_INCLUDE_PRERELEASE:Hk,FLAG_LOOSE:Gk}=xo(),ib=t=>t.value==="<0.0.0-0",Wk=t=>t.value==="",ob=(t,e)=>{let r=!0,a=t.slice(),s=a.pop();for(;r&&a.length;)r=a.every(i=>s.intersects(i,e)),s=a.pop();return r},Kk=(t,e)=>(gt("comp",t,e),t=Yk(t,e),gt("caret",t),t=Jk(t,e),gt("tildes",t),t=ej(t,e),gt("xrange",t),t=rj(t,e),gt("stars",t),t),Gt=t=>!t||t.toLowerCase()==="x"||t==="*",Jk=(t,e)=>t.trim().split(/\s+/).map(r=>Qk(r,e)).join(" "),Qk=(t,e)=>{let r=e.loose?rr[Ht.TILDELOOSE]:rr[Ht.TILDE];return t.replace(r,(a,s,i,n,o)=>{gt("tilde",t,a,s,i,n,o);let l;return Gt(s)?l="":Gt(i)?l=`>=${s}.0.0 <${+s+1}.0.0-0`:Gt(n)?l=`>=${s}.${i}.0 <${s}.${+i+1}.0-0`:o?(gt("replaceTilde pr",o),l=`>=${s}.${i}.${n}-${o} <${s}.${+i+1}.0-0`):l=`>=${s}.${i}.${n} <${s}.${+i+1}.0-0`,gt("tilde return",l),l})},Yk=(t,e)=>t.trim().split(/\s+/).map(r=>Xk(r,e)).join(" "),Xk=(t,e)=>{gt("caret",t,e);let r=e.loose?rr[Ht.CARETLOOSE]:rr[Ht.CARET],a=e.includePrerelease?"-0":"";return t.replace(r,(s,i,n,o,l)=>{gt("caret",t,s,i,n,o,l);let c;return Gt(i)?c="":Gt(n)?c=`>=${i}.0.0${a} <${+i+1}.0.0-0`:Gt(o)?i==="0"?c=`>=${i}.${n}.0${a} <${i}.${+n+1}.0-0`:c=`>=${i}.${n}.0${a} <${+i+1}.0.0-0`:l?(gt("replaceCaret pr",l),i==="0"?n==="0"?c=`>=${i}.${n}.${o}-${l} <${i}.${n}.${+o+1}-0`:c=`>=${i}.${n}.${o}-${l} <${i}.${+n+1}.0-0`:c=`>=${i}.${n}.${o}-${l} <${+i+1}.0.0-0`):(gt("no pr"),i==="0"?n==="0"?c=`>=${i}.${n}.${o}${a} <${i}.${n}.${+o+1}-0`:c=`>=${i}.${n}.${o}${a} <${i}.${+n+1}.0-0`:c=`>=${i}.${n}.${o} <${+i+1}.0.0-0`),gt("caret return",c),c})},ej=(t,e)=>(gt("replaceXRanges",t,e),t.split(/\s+/).map(r=>tj(r,e)).join(" ")),tj=(t,e)=>{t=t.trim();let r=e.loose?rr[Ht.XRANGELOOSE]:rr[Ht.XRANGE];return t.replace(r,(a,s,i,n,o,l)=>{gt("xRange",t,a,s,i,n,o,l);let c=Gt(i),u=c||Gt(n),d=u||Gt(o),h=d;return s==="="&&h&&(s=""),l=e.includePrerelease?"-0":"",c?s===">"||s==="<"?a="<0.0.0-0":a="*":s&&h?(u&&(n=0),o=0,s===">"?(s=">=",u?(i=+i+1,n=0,o=0):(n=+n+1,o=0)):s==="<="&&(s="<",u?i=+i+1:n=+n+1),s==="<"&&(l="-0"),a=`${s+i}.${n}.${o}${l}`):u?a=`>=${i}.0.0${l} <${+i+1}.0.0-0`:d&&(a=`>=${i}.${n}.0${l} <${i}.${+n+1}.0-0`),gt("xRange return",a),a})},rj=(t,e)=>(gt("replaceStars",t,e),t.trim().replace(rr[Ht.STAR],"")),aj=(t,e)=>(gt("replaceGTE0",t,e),t.trim().replace(rr[e.includePrerelease?Ht.GTE0PRE:Ht.GTE0],"")),sj=t=>(e,r,a,s,i,n,o,l,c,u,d,h)=>(Gt(a)?r="":Gt(s)?r=`>=${a}.0.0${t?"-0":""}`:Gt(i)?r=`>=${a}.${s}.0${t?"-0":""}`:n?r=`>=${r}`:r=`>=${r}${t?"-0":""}`,Gt(c)?l="":Gt(u)?l=`<${+c+1}.0.0-0`:Gt(d)?l=`<${c}.${+u+1}.0-0`:h?l=`<=${c}.${u}.${d}-${h}`:t?l=`<${c}.${u}.${+d+1}-0`:l=`<=${l}`,`${r} ${l}`.trim()),nj=(t,e,r)=>{for(let a=0;a<t.length;a++)if(!t[a].test(e))return!1;if(e.prerelease.length&&!r.includePrerelease){for(let a=0;a<t.length;a++)if(gt(t[a].semver),t[a].semver!==Up.ANY&&t[a].semver.prerelease.length>0){let s=t[a].semver;if(s.major===e.major&&s.minor===e.minor&&s.patch===e.patch)return!0}return!1}return!0}});var wo=j((JW,mb)=>{"use strict";var So=Symbol("SemVer ANY"),Zp=class t{static get ANY(){return So}constructor(e,r){if(r=lb(r),e instanceof t){if(e.loose===!!r.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),Bp("comparator",e,r),this.options=r,this.loose=!!r.loose,this.parse(e),this.semver===So?this.value="":this.value=this.operator+this.semver.version,Bp("comp",this)}parse(e){let r=this.options.loose?ub[db.COMPARATORLOOSE]:ub[db.COMPARATOR],a=e.match(r);if(!a)throw new TypeError(`Invalid comparator: ${e}`);this.operator=a[1]!==void 0?a[1]:"",this.operator==="="&&(this.operator=""),a[2]?this.semver=new pb(a[2],this.options.loose):this.semver=So}toString(){return this.value}test(e){if(Bp("Comparator.test",e,this.options.loose),this.semver===So||e===So)return!0;if(typeof e=="string")try{e=new pb(e,this.options)}catch{return!1}return zp(e,this.operator,this.semver,this.options)}intersects(e,r){if(!(e instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new fb(e.value,r).test(this.value):e.operator===""?e.value===""?!0:new fb(this.value,r).test(e.semver):(r=lb(r),r.includePrerelease&&(this.value==="<0.0.0-0"||e.value==="<0.0.0-0")||!r.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&e.operator.startsWith(">")||this.operator.startsWith("<")&&e.operator.startsWith("<")||this.semver.version===e.semver.version&&this.operator.includes("=")&&e.operator.includes("=")||zp(this.semver,"<",e.semver,r)&&this.operator.startsWith(">")&&e.operator.startsWith("<")||zp(this.semver,">",e.semver,r)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}};mb.exports=Zp;var lb=Jc(),{safeRe:ub,t:db}=Qn(),zp=Fp(),Bp=bo(),pb=Bt(),fb=kr()});var Eo=j((QW,hb)=>{"use strict";var ij=kr(),oj=(t,e,r)=>{try{e=new ij(e,r)}catch{return!1}return e.test(t)};hb.exports=oj});var gb=j((YW,vb)=>{"use strict";var cj=kr(),lj=(t,e)=>new cj(t,e).set.map(r=>r.map(a=>a.value).join(" ").trim().split(" "));vb.exports=lj});var xb=j((XW,yb)=>{"use strict";var uj=Bt(),dj=kr(),pj=(t,e,r)=>{let a=null,s=null,i=null;try{i=new dj(e,r)}catch{return null}return t.forEach(n=>{i.test(n)&&(!a||s.compare(n)===-1)&&(a=n,s=new uj(a,r))}),a};yb.exports=pj});var _b=j((e8,bb)=>{"use strict";var fj=Bt(),mj=kr(),hj=(t,e,r)=>{let a=null,s=null,i=null;try{i=new mj(e,r)}catch{return null}return t.forEach(n=>{i.test(n)&&(!a||s.compare(n)===1)&&(a=n,s=new fj(a,r))}),a};bb.exports=hj});var Eb=j((t8,Sb)=>{"use strict";var Vp=Bt(),vj=kr(),wb=_o(),gj=(t,e)=>{t=new vj(t,e);let r=new Vp("0.0.0");if(t.test(r)||(r=new Vp("0.0.0-0"),t.test(r)))return r;r=null;for(let a=0;a<t.set.length;++a){let s=t.set[a],i=null;s.forEach(n=>{let o=new Vp(n.semver.version);switch(n.operator){case">":o.prerelease.length===0?o.patch++:o.prerelease.push(0),o.raw=o.format();case"":case">=":(!i||wb(o,i))&&(i=o);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${n.operator}`)}}),i&&(!r||wb(r,i))&&(r=i)}return r&&t.test(r)?r:null};Sb.exports=gj});var Rb=j((r8,Pb)=>{"use strict";var yj=kr(),xj=(t,e)=>{try{return new yj(t,e).range||"*"}catch{return null}};Pb.exports=xj});var ol=j((a8,Ib)=>{"use strict";var bj=Bt(),Ob=wo(),{ANY:_j}=Ob,wj=kr(),Sj=Eo(),Cb=_o(),Tb=rl(),Ej=sl(),Pj=al(),Rj=(t,e,r,a)=>{t=new bj(t,a),e=new wj(e,a);let s,i,n,o,l;switch(r){case">":s=Cb,i=Ej,n=Tb,o=">",l=">=";break;case"<":s=Tb,i=Pj,n=Cb,o="<",l="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(Sj(t,e,a))return!1;for(let c=0;c<e.set.length;++c){let u=e.set[c],d=null,h=null;if(u.forEach(p=>{p.semver===_j&&(p=new Ob(">=0.0.0")),d=d||p,h=h||p,s(p.semver,d.semver,a)?d=p:n(p.semver,h.semver,a)&&(h=p)}),d.operator===o||d.operator===l||(!h.operator||h.operator===o)&&i(t,h.semver))return!1;if(h.operator===l&&n(t,h.semver))return!1}return!0};Ib.exports=Rj});var kb=j((s8,Ab)=>{"use strict";var Cj=ol(),Tj=(t,e,r)=>Cj(t,e,">",r);Ab.exports=Tj});var Db=j((n8,jb)=>{"use strict";var Oj=ol(),Ij=(t,e,r)=>Oj(t,e,"<",r);jb.exports=Ij});var Lb=j((i8,$b)=>{"use strict";var Nb=kr(),Aj=(t,e,r)=>(t=new Nb(t,r),e=new Nb(e,r),t.intersects(e,r));$b.exports=Aj});var qb=j((o8,Fb)=>{"use strict";var kj=Eo(),jj=Ar();Fb.exports=(t,e,r)=>{let a=[],s=null,i=null,n=t.sort((u,d)=>jj(u,d,r));for(let u of n)kj(u,e,r)?(i=u,s||(s=u)):(i&&a.push([s,i]),i=null,s=null);s&&a.push([s,null]);let o=[];for(let[u,d]of a)u===d?o.push(u):!d&&u===n[0]?o.push("*"):d?u===n[0]?o.push(`<=${d}`):o.push(`${u} - ${d}`):o.push(`>=${u}`);let l=o.join(" || "),c=typeof e.raw=="string"?e.raw:String(e);return l.length<c.length?l:e}});var Vb=j((c8,Zb)=>{"use strict";var Mb=kr(),Gp=wo(),{ANY:Hp}=Gp,Po=Eo(),Wp=Ar(),Dj=(t,e,r={})=>{if(t===e)return!0;t=new Mb(t,r),e=new Mb(e,r);let a=!1;e:for(let s of t.set){for(let i of e.set){let n=$j(s,i,r);if(a=a||n!==null,n)continue e}if(a)return!1}return!0},Nj=[new Gp(">=0.0.0-0")],Ub=[new Gp(">=0.0.0")],$j=(t,e,r)=>{if(t===e)return!0;if(t.length===1&&t[0].semver===Hp){if(e.length===1&&e[0].semver===Hp)return!0;r.includePrerelease?t=Nj:t=Ub}if(e.length===1&&e[0].semver===Hp){if(r.includePrerelease)return!0;e=Ub}let a=new Set,s,i;for(let p of t)p.operator===">"||p.operator===">="?s=zb(s,p,r):p.operator==="<"||p.operator==="<="?i=Bb(i,p,r):a.add(p.semver);if(a.size>1)return null;let n;if(s&&i){if(n=Wp(s.semver,i.semver,r),n>0)return null;if(n===0&&(s.operator!==">="||i.operator!=="<="))return null}for(let p of a){if(s&&!Po(p,String(s),r)||i&&!Po(p,String(i),r))return null;for(let m of e)if(!Po(p,String(m),r))return!1;return!0}let o,l,c,u,d=i&&!r.includePrerelease&&i.semver.prerelease.length?i.semver:!1,h=s&&!r.includePrerelease&&s.semver.prerelease.length?s.semver:!1;d&&d.prerelease.length===1&&i.operator==="<"&&d.prerelease[0]===0&&(d=!1);for(let p of e){if(u=u||p.operator===">"||p.operator===">=",c=c||p.operator==="<"||p.operator==="<=",s){if(h&&p.semver.prerelease&&p.semver.prerelease.length&&p.semver.major===h.major&&p.semver.minor===h.minor&&p.semver.patch===h.patch&&(h=!1),p.operator===">"||p.operator===">="){if(o=zb(s,p,r),o===p&&o!==s)return!1}else if(s.operator===">="&&!Po(s.semver,String(p),r))return!1}if(i){if(d&&p.semver.prerelease&&p.semver.prerelease.length&&p.semver.major===d.major&&p.semver.minor===d.minor&&p.semver.patch===d.patch&&(d=!1),p.operator==="<"||p.operator==="<="){if(l=Bb(i,p,r),l===p&&l!==i)return!1}else if(i.operator==="<="&&!Po(i.semver,String(p),r))return!1}if(!p.operator&&(i||s)&&n!==0)return!1}return!(s&&c&&!i&&n!==0||i&&u&&!s&&n!==0||h||d)},zb=(t,e,r)=>{if(!t)return e;let a=Wp(t.semver,e.semver,r);return a>0?t:a<0||e.operator===">"&&t.operator===">="?e:t},Bb=(t,e,r)=>{if(!t)return e;let a=Wp(t.semver,e.semver,r);return a<0?t:a>0||e.operator==="<"&&t.operator==="<="?e:t};Zb.exports=Dj});var Jp=j((l8,Wb)=>{"use strict";var Kp=Qn(),Hb=xo(),Lj=Bt(),Gb=Dp(),Fj=Ns(),qj=xx(),Mj=_x(),Uj=Ex(),zj=Cx(),Bj=Ox(),Zj=Ax(),Vj=jx(),Hj=Nx(),Gj=Ar(),Wj=qx(),Kj=Ux(),Jj=tl(),Qj=Vx(),Yj=Gx(),Xj=_o(),eD=rl(),tD=$p(),rD=Lp(),aD=al(),sD=sl(),nD=Fp(),iD=rb(),oD=wo(),cD=kr(),lD=Eo(),uD=gb(),dD=xb(),pD=_b(),fD=Eb(),mD=Rb(),hD=ol(),vD=kb(),gD=Db(),yD=Lb(),xD=qb(),bD=Vb();Wb.exports={parse:Fj,valid:qj,clean:Mj,inc:Uj,diff:zj,major:Bj,minor:Zj,patch:Vj,prerelease:Hj,compare:Gj,rcompare:Wj,compareLoose:Kj,compareBuild:Jj,sort:Qj,rsort:Yj,gt:Xj,lt:eD,eq:tD,neq:rD,gte:aD,lte:sD,cmp:nD,coerce:iD,Comparator:oD,Range:cD,satisfies:lD,toComparators:uD,maxSatisfying:dD,minSatisfying:pD,minVersion:fD,validRange:mD,outside:hD,gtr:vD,ltr:gD,intersects:yD,simplifyRange:xD,subset:bD,SemVer:Lj,re:Kp.re,src:Kp.src,tokens:Kp.t,SEMVER_SPEC_VERSION:Hb.SEMVER_SPEC_VERSION,RELEASE_TYPES:Hb.RELEASE_TYPES,compareIdentifiers:Gb.compareIdentifiers,rcompareIdentifiers:Gb.rcompareIdentifiers}});var sw=j((jJ,aw)=>{"use strict";aw.exports=function(e){return e.map(function(r){return r===""?"''":r&&typeof r=="object"?r.op.replace(/(.)/g,"\\$1"):/["\s\\]/.test(r)&&!/'/.test(r)?"'"+r.replace(/(['])/g,"\\$1")+"'":/["'\s]/.test(r)?'"'+r.replace(/(["\\$`!])/g,"\\$1")+'"':String(r).replace(/([A-Za-z]:)?([#!"$&'()*,:;<=>?@[\\\]^`{|}])/g,"$1\\$2")}).join(" ")}});var dw=j((DJ,uw)=>{"use strict";var lw="(?:"+["\\|\\|","\\&\\&",";;","\\|\\&","\\<\\(","\\<\\<\\<",">>",">\\&","<\\&","[&;()|<>]"].join("|")+")",nw=new RegExp("^"+lw+"$"),iw="|&;()<> \\t",Qq='"((\\\\"|[^"])*?)"',Yq="'((\\\\'|[^'])*?)'",Xq=/^#$/,ow="'",cw='"',Kf="$",an="",eM=4294967296;for(Jf=0;Jf<4;Jf++)an+=(eM*Math.random()).toString(16);var Jf,tM=new RegExp("^"+an);function rM(t,e){for(var r=e.lastIndex,a=[],s;s=e.exec(t);)a.push(s),e.lastIndex===s.index&&(e.lastIndex+=1);return e.lastIndex=r,a}function aM(t,e,r){var a=typeof t=="function"?t(r):t[r];return typeof a>"u"&&r!=""?a="":typeof a>"u"&&(a="$"),typeof a=="object"?e+an+JSON.stringify(a)+an:e+a}function sM(t,e,r){r||(r={});var a=r.escape||"\\",s="(\\"+a+`['"`+iw+`]|[^\\s'"`+iw+"])+",i=new RegExp(["("+lw+")","("+s+"|"+Qq+"|"+Yq+")+"].join("|"),"g"),n=rM(t,i);if(n.length===0)return[];e||(e={});var o=!1;return n.map(function(l){var c=l[0];if(!c||o)return;if(nw.test(c))return{op:c};var u=!1,d=!1,h="",p=!1,m;function f(){m+=1;var b,w,C=c.charAt(m);if(C==="{"){if(m+=1,c.charAt(m)==="}")throw new Error("Bad substitution: "+c.slice(m-2,m+1));if(b=c.indexOf("}",m),b<0)throw new Error("Bad substitution: "+c.slice(m));w=c.slice(m,b),m=b}else if(/[*@#?$!_-]/.test(C))w=C,m+=1;else{var T=c.slice(m);b=T.match(/[^\w\d_]/),b?(w=T.slice(0,b.index),m+=b.index-1):(w=T,m=c.length)}return aM(e,"",w)}for(m=0;m<c.length;m++){var v=c.charAt(m);if(p=p||!u&&(v==="*"||v==="?"),d)h+=v,d=!1;else if(u)v===u?u=!1:u==ow?h+=v:v===a?(m+=1,v=c.charAt(m),v===cw||v===a||v===Kf?h+=v:h+=a+v):v===Kf?h+=f():h+=v;else if(v===cw||v===ow)u=v;else{if(nw.test(v))return{op:c};if(Xq.test(v)){o=!0;var g={comment:t.slice(l.index+m+1)};return h.length?[h,g]:[g]}else v===a?d=!0:v===Kf?h+=f():h+=v}}return p?{op:"glob",pattern:h}:h}).reduce(function(l,c){return typeof c>"u"?l:l.concat(c)},[])}uw.exports=function(e,r,a){var s=sM(e,r,a);return typeof r!="function"?s:s.reduce(function(i,n){if(typeof n=="object")return i.concat(n);var o=n.split(RegExp("("+an+".*?"+an+")","g"));return o.length===1?i.concat(o[0]):i.concat(o.filter(Boolean).map(function(l){return tM.test(l)?JSON.parse(l.split(an)[1]):l}))},[])}});var Yf=j(Qf=>{"use strict";Qf.quote=sw();Qf.parse=dw()});var Sw=j((UJ,ww)=>{var _w=require("stream").Stream,BM=require("util");ww.exports=ra;function ra(){this.source=null,this.dataSize=0,this.maxDataSize=1024*1024,this.pauseStream=!0,this._maxDataSizeExceeded=!1,this._released=!1,this._bufferedEvents=[]}BM.inherits(ra,_w);ra.create=function(t,e){var r=new this;e=e||{};for(var a in e)r[a]=e[a];r.source=t;var s=t.emit;return t.emit=function(){return r._handleEmit(arguments),s.apply(t,arguments)},t.on("error",function(){}),r.pauseStream&&t.pause(),r};Object.defineProperty(ra.prototype,"readable",{configurable:!0,enumerable:!0,get:function(){return this.source.readable}});ra.prototype.setEncoding=function(){return this.source.setEncoding.apply(this.source,arguments)};ra.prototype.resume=function(){this._released||this.release(),this.source.resume()};ra.prototype.pause=function(){this.source.pause()};ra.prototype.release=function(){this._released=!0,this._bufferedEvents.forEach(function(t){this.emit.apply(this,t)}.bind(this)),this._bufferedEvents=[]};ra.prototype.pipe=function(){var t=_w.prototype.pipe.apply(this,arguments);return this.resume(),t};ra.prototype._handleEmit=function(t){if(this._released){this.emit.apply(this,t);return}t[0]==="data"&&(this.dataSize+=t[1].length,this._checkIfMaxDataSizeExceeded()),this._bufferedEvents.push(t)};ra.prototype._checkIfMaxDataSizeExceeded=function(){if(!this._maxDataSizeExceeded&&!(this.dataSize<=this.maxDataSize)){this._maxDataSizeExceeded=!0;var t="DelayedStream#maxDataSize of "+this.maxDataSize+" bytes exceeded.";this.emit("error",new Error(t))}}});var Cw=j((zJ,Rw)=>{var ZM=require("util"),Pw=require("stream").Stream,Ew=Sw();Rw.exports=Et;function Et(){this.writable=!1,this.readable=!0,this.dataSize=0,this.maxDataSize=2*1024*1024,this.pauseStreams=!0,this._released=!1,this._streams=[],this._currentStream=null,this._insideLoop=!1,this._pendingNext=!1}ZM.inherits(Et,Pw);Et.create=function(t){var e=new this;t=t||{};for(var r in t)e[r]=t[r];return e};Et.isStreamLike=function(t){return typeof t!="function"&&typeof t!="string"&&typeof t!="boolean"&&typeof t!="number"&&!Buffer.isBuffer(t)};Et.prototype.append=function(t){var e=Et.isStreamLike(t);if(e){if(!(t instanceof Ew)){var r=Ew.create(t,{maxDataSize:1/0,pauseStream:this.pauseStreams});t.on("data",this._checkDataSize.bind(this)),t=r}this._handleErrors(t),this.pauseStreams&&t.pause()}return this._streams.push(t),this};Et.prototype.pipe=function(t,e){return Pw.prototype.pipe.call(this,t,e),this.resume(),t};Et.prototype._getNext=function(){if(this._currentStream=null,this._insideLoop){this._pendingNext=!0;return}this._insideLoop=!0;try{do this._pendingNext=!1,this._realGetNext();while(this._pendingNext)}finally{this._insideLoop=!1}};Et.prototype._realGetNext=function(){var t=this._streams.shift();if(typeof t>"u"){this.end();return}if(typeof t!="function"){this._pipeNext(t);return}var e=t;e(function(r){var a=Et.isStreamLike(r);a&&(r.on("data",this._checkDataSize.bind(this)),this._handleErrors(r)),this._pipeNext(r)}.bind(this))};Et.prototype._pipeNext=function(t){this._currentStream=t;var e=Et.isStreamLike(t);if(e){t.on("end",this._getNext.bind(this)),t.pipe(this,{end:!1});return}var r=t;this.write(r),this._getNext()};Et.prototype._handleErrors=function(t){var e=this;t.on("error",function(r){e._emitError(r)})};Et.prototype.write=function(t){this.emit("data",t)};Et.prototype.pause=function(){this.pauseStreams&&(this.pauseStreams&&this._currentStream&&typeof this._currentStream.pause=="function"&&this._currentStream.pause(),this.emit("pause"))};Et.prototype.resume=function(){this._released||(this._released=!0,this.writable=!0,this._getNext()),this.pauseStreams&&this._currentStream&&typeof this._currentStream.resume=="function"&&this._currentStream.resume(),this.emit("resume")};Et.prototype.end=function(){this._reset(),this.emit("end")};Et.prototype.destroy=function(){this._reset(),this.emit("close")};Et.prototype._reset=function(){this.writable=!1,this._streams=[],this._currentStream=null};Et.prototype._checkDataSize=function(){if(this._updateDataSize(),!(this.dataSize<=this.maxDataSize)){var t="DelayedStream#maxDataSize of "+this.maxDataSize+" bytes exceeded.";this._emitError(new Error(t))}};Et.prototype._updateDataSize=function(){this.dataSize=0;var t=this;this._streams.forEach(function(e){e.dataSize&&(t.dataSize+=e.dataSize)}),this._currentStream&&this._currentStream.dataSize&&(this.dataSize+=this._currentStream.dataSize)};Et.prototype._emitError=function(t){this._reset(),this.emit("error",t)}});var Tw=j((BJ,VM)=>{VM.exports={"application/1d-interleaved-parityfec":{source:"iana"},"application/3gpdash-qoe-report+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/3gpp-ims+xml":{source:"iana",compressible:!0},"application/3gpphal+json":{source:"iana",compressible:!0},"application/3gpphalforms+json":{source:"iana",compressible:!0},"application/a2l":{source:"iana"},"application/ace+cbor":{source:"iana"},"application/activemessage":{source:"iana"},"application/activity+json":{source:"iana",compressible:!0},"application/alto-costmap+json":{source:"iana",compressible:!0},"application/alto-costmapfilter+json":{source:"iana",compressible:!0},"application/alto-directory+json":{source:"iana",compressible:!0},"application/alto-endpointcost+json":{source:"iana",compressible:!0},"application/alto-endpointcostparams+json":{source:"iana",compressible:!0},"application/alto-endpointprop+json":{source:"iana",compressible:!0},"application/alto-endpointpropparams+json":{source:"iana",compressible:!0},"application/alto-error+json":{source:"iana",compressible:!0},"application/alto-networkmap+json":{source:"iana",compressible:!0},"application/alto-networkmapfilter+json":{source:"iana",compressible:!0},"application/alto-updatestreamcontrol+json":{source:"iana",compressible:!0},"application/alto-updatestreamparams+json":{source:"iana",compressible:!0},"application/aml":{source:"iana"},"application/andrew-inset":{source:"iana",extensions:["ez"]},"application/applefile":{source:"iana"},"application/applixware":{source:"apache",extensions:["aw"]},"application/at+jwt":{source:"iana"},"application/atf":{source:"iana"},"application/atfx":{source:"iana"},"application/atom+xml":{source:"iana",compressible:!0,extensions:["atom"]},"application/atomcat+xml":{source:"iana",compressible:!0,extensions:["atomcat"]},"application/atomdeleted+xml":{source:"iana",compressible:!0,extensions:["atomdeleted"]},"application/atomicmail":{source:"iana"},"application/atomsvc+xml":{source:"iana",compressible:!0,extensions:["atomsvc"]},"application/atsc-dwd+xml":{source:"iana",compressible:!0,extensions:["dwd"]},"application/atsc-dynamic-event-message":{source:"iana"},"application/atsc-held+xml":{source:"iana",compressible:!0,extensions:["held"]},"application/atsc-rdt+json":{source:"iana",compressible:!0},"application/atsc-rsat+xml":{source:"iana",compressible:!0,extensions:["rsat"]},"application/atxml":{source:"iana"},"application/auth-policy+xml":{source:"iana",compressible:!0},"application/bacnet-xdd+zip":{source:"iana",compressible:!1},"application/batch-smtp":{source:"iana"},"application/bdoc":{compressible:!1,extensions:["bdoc"]},"application/beep+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/calendar+json":{source:"iana",compressible:!0},"application/calendar+xml":{source:"iana",compressible:!0,extensions:["xcs"]},"application/call-completion":{source:"iana"},"application/cals-1840":{source:"iana"},"application/captive+json":{source:"iana",compressible:!0},"application/cbor":{source:"iana"},"application/cbor-seq":{source:"iana"},"application/cccex":{source:"iana"},"application/ccmp+xml":{source:"iana",compressible:!0},"application/ccxml+xml":{source:"iana",compressible:!0,extensions:["ccxml"]},"application/cdfx+xml":{source:"iana",compressible:!0,extensions:["cdfx"]},"application/cdmi-capability":{source:"iana",extensions:["cdmia"]},"application/cdmi-container":{source:"iana",extensions:["cdmic"]},"application/cdmi-domain":{source:"iana",extensions:["cdmid"]},"application/cdmi-object":{source:"iana",extensions:["cdmio"]},"application/cdmi-queue":{source:"iana",extensions:["cdmiq"]},"application/cdni":{source:"iana"},"application/cea":{source:"iana"},"application/cea-2018+xml":{source:"iana",compressible:!0},"application/cellml+xml":{source:"iana",compressible:!0},"application/cfw":{source:"iana"},"application/city+json":{source:"iana",compressible:!0},"application/clr":{source:"iana"},"application/clue+xml":{source:"iana",compressible:!0},"application/clue_info+xml":{source:"iana",compressible:!0},"application/cms":{source:"iana"},"application/cnrp+xml":{source:"iana",compressible:!0},"application/coap-group+json":{source:"iana",compressible:!0},"application/coap-payload":{source:"iana"},"application/commonground":{source:"iana"},"application/conference-info+xml":{source:"iana",compressible:!0},"application/cose":{source:"iana"},"application/cose-key":{source:"iana"},"application/cose-key-set":{source:"iana"},"application/cpl+xml":{source:"iana",compressible:!0,extensions:["cpl"]},"application/csrattrs":{source:"iana"},"application/csta+xml":{source:"iana",compressible:!0},"application/cstadata+xml":{source:"iana",compressible:!0},"application/csvm+json":{source:"iana",compressible:!0},"application/cu-seeme":{source:"apache",extensions:["cu"]},"application/cwt":{source:"iana"},"application/cybercash":{source:"iana"},"application/dart":{compressible:!0},"application/dash+xml":{source:"iana",compressible:!0,extensions:["mpd"]},"application/dash-patch+xml":{source:"iana",compressible:!0,extensions:["mpp"]},"application/dashdelta":{source:"iana"},"application/davmount+xml":{source:"iana",compressible:!0,extensions:["davmount"]},"application/dca-rft":{source:"iana"},"application/dcd":{source:"iana"},"application/dec-dx":{source:"iana"},"application/dialog-info+xml":{source:"iana",compressible:!0},"application/dicom":{source:"iana"},"application/dicom+json":{source:"iana",compressible:!0},"application/dicom+xml":{source:"iana",compressible:!0},"application/dii":{source:"iana"},"application/dit":{source:"iana"},"application/dns":{source:"iana"},"application/dns+json":{source:"iana",compressible:!0},"application/dns-message":{source:"iana"},"application/docbook+xml":{source:"apache",compressible:!0,extensions:["dbk"]},"application/dots+cbor":{source:"iana"},"application/dskpp+xml":{source:"iana",compressible:!0},"application/dssc+der":{source:"iana",extensions:["dssc"]},"application/dssc+xml":{source:"iana",compressible:!0,extensions:["xdssc"]},"application/dvcs":{source:"iana"},"application/ecmascript":{source:"iana",compressible:!0,extensions:["es","ecma"]},"application/edi-consent":{source:"iana"},"application/edi-x12":{source:"iana",compressible:!1},"application/edifact":{source:"iana",compressible:!1},"application/efi":{source:"iana"},"application/elm+json":{source:"iana",charset:"UTF-8",compressible:!0},"application/elm+xml":{source:"iana",compressible:!0},"application/emergencycalldata.cap+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/emergencycalldata.comment+xml":{source:"iana",compressible:!0},"application/emergencycalldata.control+xml":{source:"iana",compressible:!0},"application/emergencycalldata.deviceinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.ecall.msd":{source:"iana"},"application/emergencycalldata.providerinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.serviceinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.subscriberinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.veds+xml":{source:"iana",compressible:!0},"application/emma+xml":{source:"iana",compressible:!0,extensions:["emma"]},"application/emotionml+xml":{source:"iana",compressible:!0,extensions:["emotionml"]},"application/encaprtp":{source:"iana"},"application/epp+xml":{source:"iana",compressible:!0},"application/epub+zip":{source:"iana",compressible:!1,extensions:["epub"]},"application/eshop":{source:"iana"},"application/exi":{source:"iana",extensions:["exi"]},"application/expect-ct-report+json":{source:"iana",compressible:!0},"application/express":{source:"iana",extensions:["exp"]},"application/fastinfoset":{source:"iana"},"application/fastsoap":{source:"iana"},"application/fdt+xml":{source:"iana",compressible:!0,extensions:["fdt"]},"application/fhir+json":{source:"iana",charset:"UTF-8",compressible:!0},"application/fhir+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/fido.trusted-apps+json":{compressible:!0},"application/fits":{source:"iana"},"application/flexfec":{source:"iana"},"application/font-sfnt":{source:"iana"},"application/font-tdpfr":{source:"iana",extensions:["pfr"]},"application/font-woff":{source:"iana",compressible:!1},"application/framework-attributes+xml":{source:"iana",compressible:!0},"application/geo+json":{source:"iana",compressible:!0,extensions:["geojson"]},"application/geo+json-seq":{source:"iana"},"application/geopackage+sqlite3":{source:"iana"},"application/geoxacml+xml":{source:"iana",compressible:!0},"application/gltf-buffer":{source:"iana"},"application/gml+xml":{source:"iana",compressible:!0,extensions:["gml"]},"application/gpx+xml":{source:"apache",compressible:!0,extensions:["gpx"]},"application/gxf":{source:"apache",extensions:["gxf"]},"application/gzip":{source:"iana",compressible:!1,extensions:["gz"]},"application/h224":{source:"iana"},"application/held+xml":{source:"iana",compressible:!0},"application/hjson":{extensions:["hjson"]},"application/http":{source:"iana"},"application/hyperstudio":{source:"iana",extensions:["stk"]},"application/ibe-key-request+xml":{source:"iana",compressible:!0},"application/ibe-pkg-reply+xml":{source:"iana",compressible:!0},"application/ibe-pp-data":{source:"iana"},"application/iges":{source:"iana"},"application/im-iscomposing+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/index":{source:"iana"},"application/index.cmd":{source:"iana"},"application/index.obj":{source:"iana"},"application/index.response":{source:"iana"},"application/index.vnd":{source:"iana"},"application/inkml+xml":{source:"iana",compressible:!0,extensions:["ink","inkml"]},"application/iotp":{source:"iana"},"application/ipfix":{source:"iana",extensions:["ipfix"]},"application/ipp":{source:"iana"},"application/isup":{source:"iana"},"application/its+xml":{source:"iana",compressible:!0,extensions:["its"]},"application/java-archive":{source:"apache",compressible:!1,extensions:["jar","war","ear"]},"application/java-serialized-object":{source:"apache",compressible:!1,extensions:["ser"]},"application/java-vm":{source:"apache",compressible:!1,extensions:["class"]},"application/javascript":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["js","mjs"]},"application/jf2feed+json":{source:"iana",compressible:!0},"application/jose":{source:"iana"},"application/jose+json":{source:"iana",compressible:!0},"application/jrd+json":{source:"iana",compressible:!0},"application/jscalendar+json":{source:"iana",compressible:!0},"application/json":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["json","map"]},"application/json-patch+json":{source:"iana",compressible:!0},"application/json-seq":{source:"iana"},"application/json5":{extensions:["json5"]},"application/jsonml+json":{source:"apache",compressible:!0,extensions:["jsonml"]},"application/jwk+json":{source:"iana",compressible:!0},"application/jwk-set+json":{source:"iana",compressible:!0},"application/jwt":{source:"iana"},"application/kpml-request+xml":{source:"iana",compressible:!0},"application/kpml-response+xml":{source:"iana",compressible:!0},"application/ld+json":{source:"iana",compressible:!0,extensions:["jsonld"]},"application/lgr+xml":{source:"iana",compressible:!0,extensions:["lgr"]},"application/link-format":{source:"iana"},"application/load-control+xml":{source:"iana",compressible:!0},"application/lost+xml":{source:"iana",compressible:!0,extensions:["lostxml"]},"application/lostsync+xml":{source:"iana",compressible:!0},"application/lpf+zip":{source:"iana",compressible:!1},"application/lxf":{source:"iana"},"application/mac-binhex40":{source:"iana",extensions:["hqx"]},"application/mac-compactpro":{source:"apache",extensions:["cpt"]},"application/macwriteii":{source:"iana"},"application/mads+xml":{source:"iana",compressible:!0,extensions:["mads"]},"application/manifest+json":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["webmanifest"]},"application/marc":{source:"iana",extensions:["mrc"]},"application/marcxml+xml":{source:"iana",compressible:!0,extensions:["mrcx"]},"application/mathematica":{source:"iana",extensions:["ma","nb","mb"]},"application/mathml+xml":{source:"iana",compressible:!0,extensions:["mathml"]},"application/mathml-content+xml":{source:"iana",compressible:!0},"application/mathml-presentation+xml":{source:"iana",compressible:!0},"application/mbms-associated-procedure-description+xml":{source:"iana",compressible:!0},"application/mbms-deregister+xml":{source:"iana",compressible:!0},"application/mbms-envelope+xml":{source:"iana",compressible:!0},"application/mbms-msk+xml":{source:"iana",compressible:!0},"application/mbms-msk-response+xml":{source:"iana",compressible:!0},"application/mbms-protection-description+xml":{source:"iana",compressible:!0},"application/mbms-reception-report+xml":{source:"iana",compressible:!0},"application/mbms-register+xml":{source:"iana",compressible:!0},"application/mbms-register-response+xml":{source:"iana",compressible:!0},"application/mbms-schedule+xml":{source:"iana",compressible:!0},"application/mbms-user-service-description+xml":{source:"iana",compressible:!0},"application/mbox":{source:"iana",extensions:["mbox"]},"application/media-policy-dataset+xml":{source:"iana",compressible:!0,extensions:["mpf"]},"application/media_control+xml":{source:"iana",compressible:!0},"application/mediaservercontrol+xml":{source:"iana",compressible:!0,extensions:["mscml"]},"application/merge-patch+json":{source:"iana",compressible:!0},"application/metalink+xml":{source:"apache",compressible:!0,extensions:["metalink"]},"application/metalink4+xml":{source:"iana",compressible:!0,extensions:["meta4"]},"application/mets+xml":{source:"iana",compressible:!0,extensions:["mets"]},"application/mf4":{source:"iana"},"application/mikey":{source:"iana"},"application/mipc":{source:"iana"},"application/missing-blocks+cbor-seq":{source:"iana"},"application/mmt-aei+xml":{source:"iana",compressible:!0,extensions:["maei"]},"application/mmt-usd+xml":{source:"iana",compressible:!0,extensions:["musd"]},"application/mods+xml":{source:"iana",compressible:!0,extensions:["mods"]},"application/moss-keys":{source:"iana"},"application/moss-signature":{source:"iana"},"application/mosskey-data":{source:"iana"},"application/mosskey-request":{source:"iana"},"application/mp21":{source:"iana",extensions:["m21","mp21"]},"application/mp4":{source:"iana",extensions:["mp4s","m4p"]},"application/mpeg4-generic":{source:"iana"},"application/mpeg4-iod":{source:"iana"},"application/mpeg4-iod-xmt":{source:"iana"},"application/mrb-consumer+xml":{source:"iana",compressible:!0},"application/mrb-publish+xml":{source:"iana",compressible:!0},"application/msc-ivr+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/msc-mixer+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/msword":{source:"iana",compressible:!1,extensions:["doc","dot"]},"application/mud+json":{source:"iana",compressible:!0},"application/multipart-core":{source:"iana"},"application/mxf":{source:"iana",extensions:["mxf"]},"application/n-quads":{source:"iana",extensions:["nq"]},"application/n-triples":{source:"iana",extensions:["nt"]},"application/nasdata":{source:"iana"},"application/news-checkgroups":{source:"iana",charset:"US-ASCII"},"application/news-groupinfo":{source:"iana",charset:"US-ASCII"},"application/news-transmission":{source:"iana"},"application/nlsml+xml":{source:"iana",compressible:!0},"application/node":{source:"iana",extensions:["cjs"]},"application/nss":{source:"iana"},"application/oauth-authz-req+jwt":{source:"iana"},"application/oblivious-dns-message":{source:"iana"},"application/ocsp-request":{source:"iana"},"application/ocsp-response":{source:"iana"},"application/octet-stream":{source:"iana",compressible:!1,extensions:["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"]},"application/oda":{source:"iana",extensions:["oda"]},"application/odm+xml":{source:"iana",compressible:!0},"application/odx":{source:"iana"},"application/oebps-package+xml":{source:"iana",compressible:!0,extensions:["opf"]},"application/ogg":{source:"iana",compressible:!1,extensions:["ogx"]},"application/omdoc+xml":{source:"apache",compressible:!0,extensions:["omdoc"]},"application/onenote":{source:"apache",extensions:["onetoc","onetoc2","onetmp","onepkg"]},"application/opc-nodeset+xml":{source:"iana",compressible:!0},"application/oscore":{source:"iana"},"application/oxps":{source:"iana",extensions:["oxps"]},"application/p21":{source:"iana"},"application/p21+zip":{source:"iana",compressible:!1},"application/p2p-overlay+xml":{source:"iana",compressible:!0,extensions:["relo"]},"application/parityfec":{source:"iana"},"application/passport":{source:"iana"},"application/patch-ops-error+xml":{source:"iana",compressible:!0,extensions:["xer"]},"application/pdf":{source:"iana",compressible:!1,extensions:["pdf"]},"application/pdx":{source:"iana"},"application/pem-certificate-chain":{source:"iana"},"application/pgp-encrypted":{source:"iana",compressible:!1,extensions:["pgp"]},"application/pgp-keys":{source:"iana",extensions:["asc"]},"application/pgp-signature":{source:"iana",extensions:["asc","sig"]},"application/pics-rules":{source:"apache",extensions:["prf"]},"application/pidf+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/pidf-diff+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/pkcs10":{source:"iana",extensions:["p10"]},"application/pkcs12":{source:"iana"},"application/pkcs7-mime":{source:"iana",extensions:["p7m","p7c"]},"application/pkcs7-signature":{source:"iana",extensions:["p7s"]},"application/pkcs8":{source:"iana",extensions:["p8"]},"application/pkcs8-encrypted":{source:"iana"},"application/pkix-attr-cert":{source:"iana",extensions:["ac"]},"application/pkix-cert":{source:"iana",extensions:["cer"]},"application/pkix-crl":{source:"iana",extensions:["crl"]},"application/pkix-pkipath":{source:"iana",extensions:["pkipath"]},"application/pkixcmp":{source:"iana",extensions:["pki"]},"application/pls+xml":{source:"iana",compressible:!0,extensions:["pls"]},"application/poc-settings+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/postscript":{source:"iana",compressible:!0,extensions:["ai","eps","ps"]},"application/ppsp-tracker+json":{source:"iana",compressible:!0},"application/problem+json":{source:"iana",compressible:!0},"application/problem+xml":{source:"iana",compressible:!0},"application/provenance+xml":{source:"iana",compressible:!0,extensions:["provx"]},"application/prs.alvestrand.titrax-sheet":{source:"iana"},"application/prs.cww":{source:"iana",extensions:["cww"]},"application/prs.cyn":{source:"iana",charset:"7-BIT"},"application/prs.hpub+zip":{source:"iana",compressible:!1},"application/prs.nprend":{source:"iana"},"application/prs.plucker":{source:"iana"},"application/prs.rdf-xml-crypt":{source:"iana"},"application/prs.xsf+xml":{source:"iana",compressible:!0},"application/pskc+xml":{source:"iana",compressible:!0,extensions:["pskcxml"]},"application/pvd+json":{source:"iana",compressible:!0},"application/qsig":{source:"iana"},"application/raml+yaml":{compressible:!0,extensions:["raml"]},"application/raptorfec":{source:"iana"},"application/rdap+json":{source:"iana",compressible:!0},"application/rdf+xml":{source:"iana",compressible:!0,extensions:["rdf","owl"]},"application/reginfo+xml":{source:"iana",compressible:!0,extensions:["rif"]},"application/relax-ng-compact-syntax":{source:"iana",extensions:["rnc"]},"application/remote-printing":{source:"iana"},"application/reputon+json":{source:"iana",compressible:!0},"application/resource-lists+xml":{source:"iana",compressible:!0,extensions:["rl"]},"application/resource-lists-diff+xml":{source:"iana",compressible:!0,extensions:["rld"]},"application/rfc+xml":{source:"iana",compressible:!0},"application/riscos":{source:"iana"},"application/rlmi+xml":{source:"iana",compressible:!0},"application/rls-services+xml":{source:"iana",compressible:!0,extensions:["rs"]},"application/route-apd+xml":{source:"iana",compressible:!0,extensions:["rapd"]},"application/route-s-tsid+xml":{source:"iana",compressible:!0,extensions:["sls"]},"application/route-usd+xml":{source:"iana",compressible:!0,extensions:["rusd"]},"application/rpki-ghostbusters":{source:"iana",extensions:["gbr"]},"application/rpki-manifest":{source:"iana",extensions:["mft"]},"application/rpki-publication":{source:"iana"},"application/rpki-roa":{source:"iana",extensions:["roa"]},"application/rpki-updown":{source:"iana"},"application/rsd+xml":{source:"apache",compressible:!0,extensions:["rsd"]},"application/rss+xml":{source:"apache",compressible:!0,extensions:["rss"]},"application/rtf":{source:"iana",compressible:!0,extensions:["rtf"]},"application/rtploopback":{source:"iana"},"application/rtx":{source:"iana"},"application/samlassertion+xml":{source:"iana",compressible:!0},"application/samlmetadata+xml":{source:"iana",compressible:!0},"application/sarif+json":{source:"iana",compressible:!0},"application/sarif-external-properties+json":{source:"iana",compressible:!0},"application/sbe":{source:"iana"},"application/sbml+xml":{source:"iana",compressible:!0,extensions:["sbml"]},"application/scaip+xml":{source:"iana",compressible:!0},"application/scim+json":{source:"iana",compressible:!0},"application/scvp-cv-request":{source:"iana",extensions:["scq"]},"application/scvp-cv-response":{source:"iana",extensions:["scs"]},"application/scvp-vp-request":{source:"iana",extensions:["spq"]},"application/scvp-vp-response":{source:"iana",extensions:["spp"]},"application/sdp":{source:"iana",extensions:["sdp"]},"application/secevent+jwt":{source:"iana"},"application/senml+cbor":{source:"iana"},"application/senml+json":{source:"iana",compressible:!0},"application/senml+xml":{source:"iana",compressible:!0,extensions:["senmlx"]},"application/senml-etch+cbor":{source:"iana"},"application/senml-etch+json":{source:"iana",compressible:!0},"application/senml-exi":{source:"iana"},"application/sensml+cbor":{source:"iana"},"application/sensml+json":{source:"iana",compressible:!0},"application/sensml+xml":{source:"iana",compressible:!0,extensions:["sensmlx"]},"application/sensml-exi":{source:"iana"},"application/sep+xml":{source:"iana",compressible:!0},"application/sep-exi":{source:"iana"},"application/session-info":{source:"iana"},"application/set-payment":{source:"iana"},"application/set-payment-initiation":{source:"iana",extensions:["setpay"]},"application/set-registration":{source:"iana"},"application/set-registration-initiation":{source:"iana",extensions:["setreg"]},"application/sgml":{source:"iana"},"application/sgml-open-catalog":{source:"iana"},"application/shf+xml":{source:"iana",compressible:!0,extensions:["shf"]},"application/sieve":{source:"iana",extensions:["siv","sieve"]},"application/simple-filter+xml":{source:"iana",compressible:!0},"application/simple-message-summary":{source:"iana"},"application/simplesymbolcontainer":{source:"iana"},"application/sipc":{source:"iana"},"application/slate":{source:"iana"},"application/smil":{source:"iana"},"application/smil+xml":{source:"iana",compressible:!0,extensions:["smi","smil"]},"application/smpte336m":{source:"iana"},"application/soap+fastinfoset":{source:"iana"},"application/soap+xml":{source:"iana",compressible:!0},"application/sparql-query":{source:"iana",extensions:["rq"]},"application/sparql-results+xml":{source:"iana",compressible:!0,extensions:["srx"]},"application/spdx+json":{source:"iana",compressible:!0},"application/spirits-event+xml":{source:"iana",compressible:!0},"application/sql":{source:"iana"},"application/srgs":{source:"iana",extensions:["gram"]},"application/srgs+xml":{source:"iana",compressible:!0,extensions:["grxml"]},"application/sru+xml":{source:"iana",compressible:!0,extensions:["sru"]},"application/ssdl+xml":{source:"apache",compressible:!0,extensions:["ssdl"]},"application/ssml+xml":{source:"iana",compressible:!0,extensions:["ssml"]},"application/stix+json":{source:"iana",compressible:!0},"application/swid+xml":{source:"iana",compressible:!0,extensions:["swidtag"]},"application/tamp-apex-update":{source:"iana"},"application/tamp-apex-update-confirm":{source:"iana"},"application/tamp-community-update":{source:"iana"},"application/tamp-community-update-confirm":{source:"iana"},"application/tamp-error":{source:"iana"},"application/tamp-sequence-adjust":{source:"iana"},"application/tamp-sequence-adjust-confirm":{source:"iana"},"application/tamp-status-query":{source:"iana"},"application/tamp-status-response":{source:"iana"},"application/tamp-update":{source:"iana"},"application/tamp-update-confirm":{source:"iana"},"application/tar":{compressible:!0},"application/taxii+json":{source:"iana",compressible:!0},"application/td+json":{source:"iana",compressible:!0},"application/tei+xml":{source:"iana",compressible:!0,extensions:["tei","teicorpus"]},"application/tetra_isi":{source:"iana"},"application/thraud+xml":{source:"iana",compressible:!0,extensions:["tfi"]},"application/timestamp-query":{source:"iana"},"application/timestamp-reply":{source:"iana"},"application/timestamped-data":{source:"iana",extensions:["tsd"]},"application/tlsrpt+gzip":{source:"iana"},"application/tlsrpt+json":{source:"iana",compressible:!0},"application/tnauthlist":{source:"iana"},"application/token-introspection+jwt":{source:"iana"},"application/toml":{compressible:!0,extensions:["toml"]},"application/trickle-ice-sdpfrag":{source:"iana"},"application/trig":{source:"iana",extensions:["trig"]},"application/ttml+xml":{source:"iana",compressible:!0,extensions:["ttml"]},"application/tve-trigger":{source:"iana"},"application/tzif":{source:"iana"},"application/tzif-leap":{source:"iana"},"application/ubjson":{compressible:!1,extensions:["ubj"]},"application/ulpfec":{source:"iana"},"application/urc-grpsheet+xml":{source:"iana",compressible:!0},"application/urc-ressheet+xml":{source:"iana",compressible:!0,extensions:["rsheet"]},"application/urc-targetdesc+xml":{source:"iana",compressible:!0,extensions:["td"]},"application/urc-uisocketdesc+xml":{source:"iana",compressible:!0},"application/vcard+json":{source:"iana",compressible:!0},"application/vcard+xml":{source:"iana",compressible:!0},"application/vemmi":{source:"iana"},"application/vividence.scriptfile":{source:"apache"},"application/vnd.1000minds.decision-model+xml":{source:"iana",compressible:!0,extensions:["1km"]},"application/vnd.3gpp-prose+xml":{source:"iana",compressible:!0},"application/vnd.3gpp-prose-pc3ch+xml":{source:"iana",compressible:!0},"application/vnd.3gpp-v2x-local-service-information":{source:"iana"},"application/vnd.3gpp.5gnas":{source:"iana"},"application/vnd.3gpp.access-transfer-events+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.bsf+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.gmop+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.gtpc":{source:"iana"},"application/vnd.3gpp.interworking-data":{source:"iana"},"application/vnd.3gpp.lpp":{source:"iana"},"application/vnd.3gpp.mc-signalling-ear":{source:"iana"},"application/vnd.3gpp.mcdata-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-payload":{source:"iana"},"application/vnd.3gpp.mcdata-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-signalling":{source:"iana"},"application/vnd.3gpp.mcdata-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-floor-request+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-location-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-mbms-usage-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-signed+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-ue-init-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-affiliation-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-location-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-mbms-usage-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-transmission-request+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mid-call+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.ngap":{source:"iana"},"application/vnd.3gpp.pfcp":{source:"iana"},"application/vnd.3gpp.pic-bw-large":{source:"iana",extensions:["plb"]},"application/vnd.3gpp.pic-bw-small":{source:"iana",extensions:["psb"]},"application/vnd.3gpp.pic-bw-var":{source:"iana",extensions:["pvb"]},"application/vnd.3gpp.s1ap":{source:"iana"},"application/vnd.3gpp.sms":{source:"iana"},"application/vnd.3gpp.sms+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.srvcc-ext+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.srvcc-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.state-and-event-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.ussd+xml":{source:"iana",compressible:!0},"application/vnd.3gpp2.bcmcsinfo+xml":{source:"iana",compressible:!0},"application/vnd.3gpp2.sms":{source:"iana"},"application/vnd.3gpp2.tcap":{source:"iana",extensions:["tcap"]},"application/vnd.3lightssoftware.imagescal":{source:"iana"},"application/vnd.3m.post-it-notes":{source:"iana",extensions:["pwn"]},"application/vnd.accpac.simply.aso":{source:"iana",extensions:["aso"]},"application/vnd.accpac.simply.imp":{source:"iana",extensions:["imp"]},"application/vnd.acucobol":{source:"iana",extensions:["acu"]},"application/vnd.acucorp":{source:"iana",extensions:["atc","acutc"]},"application/vnd.adobe.air-application-installer-package+zip":{source:"apache",compressible:!1,extensions:["air"]},"application/vnd.adobe.flash.movie":{source:"iana"},"application/vnd.adobe.formscentral.fcdt":{source:"iana",extensions:["fcdt"]},"application/vnd.adobe.fxp":{source:"iana",extensions:["fxp","fxpl"]},"application/vnd.adobe.partial-upload":{source:"iana"},"application/vnd.adobe.xdp+xml":{source:"iana",compressible:!0,extensions:["xdp"]},"application/vnd.adobe.xfdf":{source:"iana",extensions:["xfdf"]},"application/vnd.aether.imp":{source:"iana"},"application/vnd.afpc.afplinedata":{source:"iana"},"application/vnd.afpc.afplinedata-pagedef":{source:"iana"},"application/vnd.afpc.cmoca-cmresource":{source:"iana"},"application/vnd.afpc.foca-charset":{source:"iana"},"application/vnd.afpc.foca-codedfont":{source:"iana"},"application/vnd.afpc.foca-codepage":{source:"iana"},"application/vnd.afpc.modca":{source:"iana"},"application/vnd.afpc.modca-cmtable":{source:"iana"},"application/vnd.afpc.modca-formdef":{source:"iana"},"application/vnd.afpc.modca-mediummap":{source:"iana"},"application/vnd.afpc.modca-objectcontainer":{source:"iana"},"application/vnd.afpc.modca-overlay":{source:"iana"},"application/vnd.afpc.modca-pagesegment":{source:"iana"},"application/vnd.age":{source:"iana",extensions:["age"]},"application/vnd.ah-barcode":{source:"iana"},"application/vnd.ahead.space":{source:"iana",extensions:["ahead"]},"application/vnd.airzip.filesecure.azf":{source:"iana",extensions:["azf"]},"application/vnd.airzip.filesecure.azs":{source:"iana",extensions:["azs"]},"application/vnd.amadeus+json":{source:"iana",compressible:!0},"application/vnd.amazon.ebook":{source:"apache",extensions:["azw"]},"application/vnd.amazon.mobi8-ebook":{source:"iana"},"application/vnd.americandynamics.acc":{source:"iana",extensions:["acc"]},"application/vnd.amiga.ami":{source:"iana",extensions:["ami"]},"application/vnd.amundsen.maze+xml":{source:"iana",compressible:!0},"application/vnd.android.ota":{source:"iana"},"application/vnd.android.package-archive":{source:"apache",compressible:!1,extensions:["apk"]},"application/vnd.anki":{source:"iana"},"application/vnd.anser-web-certificate-issue-initiation":{source:"iana",extensions:["cii"]},"application/vnd.anser-web-funds-transfer-initiation":{source:"apache",extensions:["fti"]},"application/vnd.antix.game-component":{source:"iana",extensions:["atx"]},"application/vnd.apache.arrow.file":{source:"iana"},"application/vnd.apache.arrow.stream":{source:"iana"},"application/vnd.apache.thrift.binary":{source:"iana"},"application/vnd.apache.thrift.compact":{source:"iana"},"application/vnd.apache.thrift.json":{source:"iana"},"application/vnd.api+json":{source:"iana",compressible:!0},"application/vnd.aplextor.warrp+json":{source:"iana",compressible:!0},"application/vnd.apothekende.reservation+json":{source:"iana",compressible:!0},"application/vnd.apple.installer+xml":{source:"iana",compressible:!0,extensions:["mpkg"]},"application/vnd.apple.keynote":{source:"iana",extensions:["key"]},"application/vnd.apple.mpegurl":{source:"iana",extensions:["m3u8"]},"application/vnd.apple.numbers":{source:"iana",extensions:["numbers"]},"application/vnd.apple.pages":{source:"iana",extensions:["pages"]},"application/vnd.apple.pkpass":{compressible:!1,extensions:["pkpass"]},"application/vnd.arastra.swi":{source:"iana"},"application/vnd.aristanetworks.swi":{source:"iana",extensions:["swi"]},"application/vnd.artisan+json":{source:"iana",compressible:!0},"application/vnd.artsquare":{source:"iana"},"application/vnd.astraea-software.iota":{source:"iana",extensions:["iota"]},"application/vnd.audiograph":{source:"iana",extensions:["aep"]},"application/vnd.autopackage":{source:"iana"},"application/vnd.avalon+json":{source:"iana",compressible:!0},"application/vnd.avistar+xml":{source:"iana",compressible:!0},"application/vnd.balsamiq.bmml+xml":{source:"iana",compressible:!0,extensions:["bmml"]},"application/vnd.balsamiq.bmpr":{source:"iana"},"application/vnd.banana-accounting":{source:"iana"},"application/vnd.bbf.usp.error":{source:"iana"},"application/vnd.bbf.usp.msg":{source:"iana"},"application/vnd.bbf.usp.msg+json":{source:"iana",compressible:!0},"application/vnd.bekitzur-stech+json":{source:"iana",compressible:!0},"application/vnd.bint.med-content":{source:"iana"},"application/vnd.biopax.rdf+xml":{source:"iana",compressible:!0},"application/vnd.blink-idb-value-wrapper":{source:"iana"},"application/vnd.blueice.multipass":{source:"iana",extensions:["mpm"]},"application/vnd.bluetooth.ep.oob":{source:"iana"},"application/vnd.bluetooth.le.oob":{source:"iana"},"application/vnd.bmi":{source:"iana",extensions:["bmi"]},"application/vnd.bpf":{source:"iana"},"application/vnd.bpf3":{source:"iana"},"application/vnd.businessobjects":{source:"iana",extensions:["rep"]},"application/vnd.byu.uapi+json":{source:"iana",compressible:!0},"application/vnd.cab-jscript":{source:"iana"},"application/vnd.canon-cpdl":{source:"iana"},"application/vnd.canon-lips":{source:"iana"},"application/vnd.capasystems-pg+json":{source:"iana",compressible:!0},"application/vnd.cendio.thinlinc.clientconf":{source:"iana"},"application/vnd.century-systems.tcp_stream":{source:"iana"},"application/vnd.chemdraw+xml":{source:"iana",compressible:!0,extensions:["cdxml"]},"application/vnd.chess-pgn":{source:"iana"},"application/vnd.chipnuts.karaoke-mmd":{source:"iana",extensions:["mmd"]},"application/vnd.ciedi":{source:"iana"},"application/vnd.cinderella":{source:"iana",extensions:["cdy"]},"application/vnd.cirpack.isdn-ext":{source:"iana"},"application/vnd.citationstyles.style+xml":{source:"iana",compressible:!0,extensions:["csl"]},"application/vnd.claymore":{source:"iana",extensions:["cla"]},"application/vnd.cloanto.rp9":{source:"iana",extensions:["rp9"]},"application/vnd.clonk.c4group":{source:"iana",extensions:["c4g","c4d","c4f","c4p","c4u"]},"application/vnd.cluetrust.cartomobile-config":{source:"iana",extensions:["c11amc"]},"application/vnd.cluetrust.cartomobile-config-pkg":{source:"iana",extensions:["c11amz"]},"application/vnd.coffeescript":{source:"iana"},"application/vnd.collabio.xodocuments.document":{source:"iana"},"application/vnd.collabio.xodocuments.document-template":{source:"iana"},"application/vnd.collabio.xodocuments.presentation":{source:"iana"},"application/vnd.collabio.xodocuments.presentation-template":{source:"iana"},"application/vnd.collabio.xodocuments.spreadsheet":{source:"iana"},"application/vnd.collabio.xodocuments.spreadsheet-template":{source:"iana"},"application/vnd.collection+json":{source:"iana",compressible:!0},"application/vnd.collection.doc+json":{source:"iana",compressible:!0},"application/vnd.collection.next+json":{source:"iana",compressible:!0},"application/vnd.comicbook+zip":{source:"iana",compressible:!1},"application/vnd.comicbook-rar":{source:"iana"},"application/vnd.commerce-battelle":{source:"iana"},"application/vnd.commonspace":{source:"iana",extensions:["csp"]},"application/vnd.contact.cmsg":{source:"iana",extensions:["cdbcmsg"]},"application/vnd.coreos.ignition+json":{source:"iana",compressible:!0},"application/vnd.cosmocaller":{source:"iana",extensions:["cmc"]},"application/vnd.crick.clicker":{source:"iana",extensions:["clkx"]},"application/vnd.crick.clicker.keyboard":{source:"iana",extensions:["clkk"]},"application/vnd.crick.clicker.palette":{source:"iana",extensions:["clkp"]},"application/vnd.crick.clicker.template":{source:"iana",extensions:["clkt"]},"application/vnd.crick.clicker.wordbank":{source:"iana",extensions:["clkw"]},"application/vnd.criticaltools.wbs+xml":{source:"iana",compressible:!0,extensions:["wbs"]},"application/vnd.cryptii.pipe+json":{source:"iana",compressible:!0},"application/vnd.crypto-shade-file":{source:"iana"},"application/vnd.cryptomator.encrypted":{source:"iana"},"application/vnd.cryptomator.vault":{source:"iana"},"application/vnd.ctc-posml":{source:"iana",extensions:["pml"]},"application/vnd.ctct.ws+xml":{source:"iana",compressible:!0},"application/vnd.cups-pdf":{source:"iana"},"application/vnd.cups-postscript":{source:"iana"},"application/vnd.cups-ppd":{source:"iana",extensions:["ppd"]},"application/vnd.cups-raster":{source:"iana"},"application/vnd.cups-raw":{source:"iana"},"application/vnd.curl":{source:"iana"},"application/vnd.curl.car":{source:"apache",extensions:["car"]},"application/vnd.curl.pcurl":{source:"apache",extensions:["pcurl"]},"application/vnd.cyan.dean.root+xml":{source:"iana",compressible:!0},"application/vnd.cybank":{source:"iana"},"application/vnd.cyclonedx+json":{source:"iana",compressible:!0},"application/vnd.cyclonedx+xml":{source:"iana",compressible:!0},"application/vnd.d2l.coursepackage1p0+zip":{source:"iana",compressible:!1},"application/vnd.d3m-dataset":{source:"iana"},"application/vnd.d3m-problem":{source:"iana"},"application/vnd.dart":{source:"iana",compressible:!0,extensions:["dart"]},"application/vnd.data-vision.rdz":{source:"iana",extensions:["rdz"]},"application/vnd.datapackage+json":{source:"iana",compressible:!0},"application/vnd.dataresource+json":{source:"iana",compressible:!0},"application/vnd.dbf":{source:"iana",extensions:["dbf"]},"application/vnd.debian.binary-package":{source:"iana"},"application/vnd.dece.data":{source:"iana",extensions:["uvf","uvvf","uvd","uvvd"]},"application/vnd.dece.ttml+xml":{source:"iana",compressible:!0,extensions:["uvt","uvvt"]},"application/vnd.dece.unspecified":{source:"iana",extensions:["uvx","uvvx"]},"application/vnd.dece.zip":{source:"iana",extensions:["uvz","uvvz"]},"application/vnd.denovo.fcselayout-link":{source:"iana",extensions:["fe_launch"]},"application/vnd.desmume.movie":{source:"iana"},"application/vnd.dir-bi.plate-dl-nosuffix":{source:"iana"},"application/vnd.dm.delegation+xml":{source:"iana",compressible:!0},"application/vnd.dna":{source:"iana",extensions:["dna"]},"application/vnd.document+json":{source:"iana",compressible:!0},"application/vnd.dolby.mlp":{source:"apache",extensions:["mlp"]},"application/vnd.dolby.mobile.1":{source:"iana"},"application/vnd.dolby.mobile.2":{source:"iana"},"application/vnd.doremir.scorecloud-binary-document":{source:"iana"},"application/vnd.dpgraph":{source:"iana",extensions:["dpg"]},"application/vnd.dreamfactory":{source:"iana",extensions:["dfac"]},"application/vnd.drive+json":{source:"iana",compressible:!0},"application/vnd.ds-keypoint":{source:"apache",extensions:["kpxx"]},"application/vnd.dtg.local":{source:"iana"},"application/vnd.dtg.local.flash":{source:"iana"},"application/vnd.dtg.local.html":{source:"iana"},"application/vnd.dvb.ait":{source:"iana",extensions:["ait"]},"application/vnd.dvb.dvbisl+xml":{source:"iana",compressible:!0},"application/vnd.dvb.dvbj":{source:"iana"},"application/vnd.dvb.esgcontainer":{source:"iana"},"application/vnd.dvb.ipdcdftnotifaccess":{source:"iana"},"application/vnd.dvb.ipdcesgaccess":{source:"iana"},"application/vnd.dvb.ipdcesgaccess2":{source:"iana"},"application/vnd.dvb.ipdcesgpdd":{source:"iana"},"application/vnd.dvb.ipdcroaming":{source:"iana"},"application/vnd.dvb.iptv.alfec-base":{source:"iana"},"application/vnd.dvb.iptv.alfec-enhancement":{source:"iana"},"application/vnd.dvb.notif-aggregate-root+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-container+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-generic+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-msglist+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-registration-request+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-registration-response+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-init+xml":{source:"iana",compressible:!0},"application/vnd.dvb.pfr":{source:"iana"},"application/vnd.dvb.service":{source:"iana",extensions:["svc"]},"application/vnd.dxr":{source:"iana"},"application/vnd.dynageo":{source:"iana",extensions:["geo"]},"application/vnd.dzr":{source:"iana"},"application/vnd.easykaraoke.cdgdownload":{source:"iana"},"application/vnd.ecdis-update":{source:"iana"},"application/vnd.ecip.rlp":{source:"iana"},"application/vnd.eclipse.ditto+json":{source:"iana",compressible:!0},"application/vnd.ecowin.chart":{source:"iana",extensions:["mag"]},"application/vnd.ecowin.filerequest":{source:"iana"},"application/vnd.ecowin.fileupdate":{source:"iana"},"application/vnd.ecowin.series":{source:"iana"},"application/vnd.ecowin.seriesrequest":{source:"iana"},"application/vnd.ecowin.seriesupdate":{source:"iana"},"application/vnd.efi.img":{source:"iana"},"application/vnd.efi.iso":{source:"iana"},"application/vnd.emclient.accessrequest+xml":{source:"iana",compressible:!0},"application/vnd.enliven":{source:"iana",extensions:["nml"]},"application/vnd.enphase.envoy":{source:"iana"},"application/vnd.eprints.data+xml":{source:"iana",compressible:!0},"application/vnd.epson.esf":{source:"iana",extensions:["esf"]},"application/vnd.epson.msf":{source:"iana",extensions:["msf"]},"application/vnd.epson.quickanime":{source:"iana",extensions:["qam"]},"application/vnd.epson.salt":{source:"iana",extensions:["slt"]},"application/vnd.epson.ssf":{source:"iana",extensions:["ssf"]},"application/vnd.ericsson.quickcall":{source:"iana"},"application/vnd.espass-espass+zip":{source:"iana",compressible:!1},"application/vnd.eszigno3+xml":{source:"iana",compressible:!0,extensions:["es3","et3"]},"application/vnd.etsi.aoc+xml":{source:"iana",compressible:!0},"application/vnd.etsi.asic-e+zip":{source:"iana",compressible:!1},"application/vnd.etsi.asic-s+zip":{source:"iana",compressible:!1},"application/vnd.etsi.cug+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvcommand+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvdiscovery+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvprofile+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-bc+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-cod+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-npvr+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvservice+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsync+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvueprofile+xml":{source:"iana",compressible:!0},"application/vnd.etsi.mcid+xml":{source:"iana",compressible:!0},"application/vnd.etsi.mheg5":{source:"iana"},"application/vnd.etsi.overload-control-policy-dataset+xml":{source:"iana",compressible:!0},"application/vnd.etsi.pstn+xml":{source:"iana",compressible:!0},"application/vnd.etsi.sci+xml":{source:"iana",compressible:!0},"application/vnd.etsi.simservs+xml":{source:"iana",compressible:!0},"application/vnd.etsi.timestamp-token":{source:"iana"},"application/vnd.etsi.tsl+xml":{source:"iana",compressible:!0},"application/vnd.etsi.tsl.der":{source:"iana"},"application/vnd.eu.kasparian.car+json":{source:"iana",compressible:!0},"application/vnd.eudora.data":{source:"iana"},"application/vnd.evolv.ecig.profile":{source:"iana"},"application/vnd.evolv.ecig.settings":{source:"iana"},"application/vnd.evolv.ecig.theme":{source:"iana"},"application/vnd.exstream-empower+zip":{source:"iana",compressible:!1},"application/vnd.exstream-package":{source:"iana"},"application/vnd.ezpix-album":{source:"iana",extensions:["ez2"]},"application/vnd.ezpix-package":{source:"iana",extensions:["ez3"]},"application/vnd.f-secure.mobile":{source:"iana"},"application/vnd.familysearch.gedcom+zip":{source:"iana",compressible:!1},"application/vnd.fastcopy-disk-image":{source:"iana"},"application/vnd.fdf":{source:"iana",extensions:["fdf"]},"application/vnd.fdsn.mseed":{source:"iana",extensions:["mseed"]},"application/vnd.fdsn.seed":{source:"iana",extensions:["seed","dataless"]},"application/vnd.ffsns":{source:"iana"},"application/vnd.ficlab.flb+zip":{source:"iana",compressible:!1},"application/vnd.filmit.zfc":{source:"iana"},"application/vnd.fints":{source:"iana"},"application/vnd.firemonkeys.cloudcell":{source:"iana"},"application/vnd.flographit":{source:"iana",extensions:["gph"]},"application/vnd.fluxtime.clip":{source:"iana",extensions:["ftc"]},"application/vnd.font-fontforge-sfd":{source:"iana"},"application/vnd.framemaker":{source:"iana",extensions:["fm","frame","maker","book"]},"application/vnd.frogans.fnc":{source:"iana",extensions:["fnc"]},"application/vnd.frogans.ltf":{source:"iana",extensions:["ltf"]},"application/vnd.fsc.weblaunch":{source:"iana",extensions:["fsc"]},"application/vnd.fujifilm.fb.docuworks":{source:"iana"},"application/vnd.fujifilm.fb.docuworks.binder":{source:"iana"},"application/vnd.fujifilm.fb.docuworks.container":{source:"iana"},"application/vnd.fujifilm.fb.jfi+xml":{source:"iana",compressible:!0},"application/vnd.fujitsu.oasys":{source:"iana",extensions:["oas"]},"application/vnd.fujitsu.oasys2":{source:"iana",extensions:["oa2"]},"application/vnd.fujitsu.oasys3":{source:"iana",extensions:["oa3"]},"application/vnd.fujitsu.oasysgp":{source:"iana",extensions:["fg5"]},"application/vnd.fujitsu.oasysprs":{source:"iana",extensions:["bh2"]},"application/vnd.fujixerox.art-ex":{source:"iana"},"application/vnd.fujixerox.art4":{source:"iana"},"application/vnd.fujixerox.ddd":{source:"iana",extensions:["ddd"]},"application/vnd.fujixerox.docuworks":{source:"iana",extensions:["xdw"]},"application/vnd.fujixerox.docuworks.binder":{source:"iana",extensions:["xbd"]},"application/vnd.fujixerox.docuworks.container":{source:"iana"},"application/vnd.fujixerox.hbpl":{source:"iana"},"application/vnd.fut-misnet":{source:"iana"},"application/vnd.futoin+cbor":{source:"iana"},"application/vnd.futoin+json":{source:"iana",compressible:!0},"application/vnd.fuzzysheet":{source:"iana",extensions:["fzs"]},"application/vnd.genomatix.tuxedo":{source:"iana",extensions:["txd"]},"application/vnd.gentics.grd+json":{source:"iana",compressible:!0},"application/vnd.geo+json":{source:"iana",compressible:!0},"application/vnd.geocube+xml":{source:"iana",compressible:!0},"application/vnd.geogebra.file":{source:"iana",extensions:["ggb"]},"application/vnd.geogebra.slides":{source:"iana"},"application/vnd.geogebra.tool":{source:"iana",extensions:["ggt"]},"application/vnd.geometry-explorer":{source:"iana",extensions:["gex","gre"]},"application/vnd.geonext":{source:"iana",extensions:["gxt"]},"application/vnd.geoplan":{source:"iana",extensions:["g2w"]},"application/vnd.geospace":{source:"iana",extensions:["g3w"]},"application/vnd.gerber":{source:"iana"},"application/vnd.globalplatform.card-content-mgt":{source:"iana"},"application/vnd.globalplatform.card-content-mgt-response":{source:"iana"},"application/vnd.gmx":{source:"iana",extensions:["gmx"]},"application/vnd.google-apps.document":{compressible:!1,extensions:["gdoc"]},"application/vnd.google-apps.presentation":{compressible:!1,extensions:["gslides"]},"application/vnd.google-apps.spreadsheet":{compressible:!1,extensions:["gsheet"]},"application/vnd.google-earth.kml+xml":{source:"iana",compressible:!0,extensions:["kml"]},"application/vnd.google-earth.kmz":{source:"iana",compressible:!1,extensions:["kmz"]},"application/vnd.gov.sk.e-form+xml":{source:"iana",compressible:!0},"application/vnd.gov.sk.e-form+zip":{source:"iana",compressible:!1},"application/vnd.gov.sk.xmldatacontainer+xml":{source:"iana",compressible:!0},"application/vnd.grafeq":{source:"iana",extensions:["gqf","gqs"]},"application/vnd.gridmp":{source:"iana"},"application/vnd.groove-account":{source:"iana",extensions:["gac"]},"application/vnd.groove-help":{source:"iana",extensions:["ghf"]},"application/vnd.groove-identity-message":{source:"iana",extensions:["gim"]},"application/vnd.groove-injector":{source:"iana",extensions:["grv"]},"application/vnd.groove-tool-message":{source:"iana",extensions:["gtm"]},"application/vnd.groove-tool-template":{source:"iana",extensions:["tpl"]},"application/vnd.groove-vcard":{source:"iana",extensions:["vcg"]},"application/vnd.hal+json":{source:"iana",compressible:!0},"application/vnd.hal+xml":{source:"iana",compressible:!0,extensions:["hal"]},"application/vnd.handheld-entertainment+xml":{source:"iana",compressible:!0,extensions:["zmm"]},"application/vnd.hbci":{source:"iana",extensions:["hbci"]},"application/vnd.hc+json":{source:"iana",compressible:!0},"application/vnd.hcl-bireports":{source:"iana"},"application/vnd.hdt":{source:"iana"},"application/vnd.heroku+json":{source:"iana",compressible:!0},"application/vnd.hhe.lesson-player":{source:"iana",extensions:["les"]},"application/vnd.hl7cda+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.hl7v2+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.hp-hpgl":{source:"iana",extensions:["hpgl"]},"application/vnd.hp-hpid":{source:"iana",extensions:["hpid"]},"application/vnd.hp-hps":{source:"iana",extensions:["hps"]},"application/vnd.hp-jlyt":{source:"iana",extensions:["jlt"]},"application/vnd.hp-pcl":{source:"iana",extensions:["pcl"]},"application/vnd.hp-pclxl":{source:"iana",extensions:["pclxl"]},"application/vnd.httphone":{source:"iana"},"application/vnd.hydrostatix.sof-data":{source:"iana",extensions:["sfd-hdstx"]},"application/vnd.hyper+json":{source:"iana",compressible:!0},"application/vnd.hyper-item+json":{source:"iana",compressible:!0},"application/vnd.hyperdrive+json":{source:"iana",compressible:!0},"application/vnd.hzn-3d-crossword":{source:"iana"},"application/vnd.ibm.afplinedata":{source:"iana"},"application/vnd.ibm.electronic-media":{source:"iana"},"application/vnd.ibm.minipay":{source:"iana",extensions:["mpy"]},"application/vnd.ibm.modcap":{source:"iana",extensions:["afp","listafp","list3820"]},"application/vnd.ibm.rights-management":{source:"iana",extensions:["irm"]},"application/vnd.ibm.secure-container":{source:"iana",extensions:["sc"]},"application/vnd.iccprofile":{source:"iana",extensions:["icc","icm"]},"application/vnd.ieee.1905":{source:"iana"},"application/vnd.igloader":{source:"iana",extensions:["igl"]},"application/vnd.imagemeter.folder+zip":{source:"iana",compressible:!1},"application/vnd.imagemeter.image+zip":{source:"iana",compressible:!1},"application/vnd.immervision-ivp":{source:"iana",extensions:["ivp"]},"application/vnd.immervision-ivu":{source:"iana",extensions:["ivu"]},"application/vnd.ims.imsccv1p1":{source:"iana"},"application/vnd.ims.imsccv1p2":{source:"iana"},"application/vnd.ims.imsccv1p3":{source:"iana"},"application/vnd.ims.lis.v2.result+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolconsumerprofile+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolproxy+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolproxy.id+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolsettings+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolsettings.simple+json":{source:"iana",compressible:!0},"application/vnd.informedcontrol.rms+xml":{source:"iana",compressible:!0},"application/vnd.informix-visionary":{source:"iana"},"application/vnd.infotech.project":{source:"iana"},"application/vnd.infotech.project+xml":{source:"iana",compressible:!0},"application/vnd.innopath.wamp.notification":{source:"iana"},"application/vnd.insors.igm":{source:"iana",extensions:["igm"]},"application/vnd.intercon.formnet":{source:"iana",extensions:["xpw","xpx"]},"application/vnd.intergeo":{source:"iana",extensions:["i2g"]},"application/vnd.intertrust.digibox":{source:"iana"},"application/vnd.intertrust.nncp":{source:"iana"},"application/vnd.intu.qbo":{source:"iana",extensions:["qbo"]},"application/vnd.intu.qfx":{source:"iana",extensions:["qfx"]},"application/vnd.iptc.g2.catalogitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.conceptitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.knowledgeitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.newsitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.newsmessage+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.packageitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.planningitem+xml":{source:"iana",compressible:!0},"application/vnd.ipunplugged.rcprofile":{source:"iana",extensions:["rcprofile"]},"application/vnd.irepository.package+xml":{source:"iana",compressible:!0,extensions:["irp"]},"application/vnd.is-xpr":{source:"iana",extensions:["xpr"]},"application/vnd.isac.fcs":{source:"iana",extensions:["fcs"]},"application/vnd.iso11783-10+zip":{source:"iana",compressible:!1},"application/vnd.jam":{source:"iana",extensions:["jam"]},"application/vnd.japannet-directory-service":{source:"iana"},"application/vnd.japannet-jpnstore-wakeup":{source:"iana"},"application/vnd.japannet-payment-wakeup":{source:"iana"},"application/vnd.japannet-registration":{source:"iana"},"application/vnd.japannet-registration-wakeup":{source:"iana"},"application/vnd.japannet-setstore-wakeup":{source:"iana"},"application/vnd.japannet-verification":{source:"iana"},"application/vnd.japannet-verification-wakeup":{source:"iana"},"application/vnd.jcp.javame.midlet-rms":{source:"iana",extensions:["rms"]},"application/vnd.jisp":{source:"iana",extensions:["jisp"]},"application/vnd.joost.joda-archive":{source:"iana",extensions:["joda"]},"application/vnd.jsk.isdn-ngn":{source:"iana"},"application/vnd.kahootz":{source:"iana",extensions:["ktz","ktr"]},"application/vnd.kde.karbon":{source:"iana",extensions:["karbon"]},"application/vnd.kde.kchart":{source:"iana",extensions:["chrt"]},"application/vnd.kde.kformula":{source:"iana",extensions:["kfo"]},"application/vnd.kde.kivio":{source:"iana",extensions:["flw"]},"application/vnd.kde.kontour":{source:"iana",extensions:["kon"]},"application/vnd.kde.kpresenter":{source:"iana",extensions:["kpr","kpt"]},"application/vnd.kde.kspread":{source:"iana",extensions:["ksp"]},"application/vnd.kde.kword":{source:"iana",extensions:["kwd","kwt"]},"application/vnd.kenameaapp":{source:"iana",extensions:["htke"]},"application/vnd.kidspiration":{source:"iana",extensions:["kia"]},"application/vnd.kinar":{source:"iana",extensions:["kne","knp"]},"application/vnd.koan":{source:"iana",extensions:["skp","skd","skt","skm"]},"application/vnd.kodak-descriptor":{source:"iana",extensions:["sse"]},"application/vnd.las":{source:"iana"},"application/vnd.las.las+json":{source:"iana",compressible:!0},"application/vnd.las.las+xml":{source:"iana",compressible:!0,extensions:["lasxml"]},"application/vnd.laszip":{source:"iana"},"application/vnd.leap+json":{source:"iana",compressible:!0},"application/vnd.liberty-request+xml":{source:"iana",compressible:!0},"application/vnd.llamagraphics.life-balance.desktop":{source:"iana",extensions:["lbd"]},"application/vnd.llamagraphics.life-balance.exchange+xml":{source:"iana",compressible:!0,extensions:["lbe"]},"application/vnd.logipipe.circuit+zip":{source:"iana",compressible:!1},"application/vnd.loom":{source:"iana"},"application/vnd.lotus-1-2-3":{source:"iana",extensions:["123"]},"application/vnd.lotus-approach":{source:"iana",extensions:["apr"]},"application/vnd.lotus-freelance":{source:"iana",extensions:["pre"]},"application/vnd.lotus-notes":{source:"iana",extensions:["nsf"]},"application/vnd.lotus-organizer":{source:"iana",extensions:["org"]},"application/vnd.lotus-screencam":{source:"iana",extensions:["scm"]},"application/vnd.lotus-wordpro":{source:"iana",extensions:["lwp"]},"application/vnd.macports.portpkg":{source:"iana",extensions:["portpkg"]},"application/vnd.mapbox-vector-tile":{source:"iana",extensions:["mvt"]},"application/vnd.marlin.drm.actiontoken+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.conftoken+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.license+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.mdcf":{source:"iana"},"application/vnd.mason+json":{source:"iana",compressible:!0},"application/vnd.maxar.archive.3tz+zip":{source:"iana",compressible:!1},"application/vnd.maxmind.maxmind-db":{source:"iana"},"application/vnd.mcd":{source:"iana",extensions:["mcd"]},"application/vnd.medcalcdata":{source:"iana",extensions:["mc1"]},"application/vnd.mediastation.cdkey":{source:"iana",extensions:["cdkey"]},"application/vnd.meridian-slingshot":{source:"iana"},"application/vnd.mfer":{source:"iana",extensions:["mwf"]},"application/vnd.mfmp":{source:"iana",extensions:["mfm"]},"application/vnd.micro+json":{source:"iana",compressible:!0},"application/vnd.micrografx.flo":{source:"iana",extensions:["flo"]},"application/vnd.micrografx.igx":{source:"iana",extensions:["igx"]},"application/vnd.microsoft.portable-executable":{source:"iana"},"application/vnd.microsoft.windows.thumbnail-cache":{source:"iana"},"application/vnd.miele+json":{source:"iana",compressible:!0},"application/vnd.mif":{source:"iana",extensions:["mif"]},"application/vnd.minisoft-hp3000-save":{source:"iana"},"application/vnd.mitsubishi.misty-guard.trustweb":{source:"iana"},"application/vnd.mobius.daf":{source:"iana",extensions:["daf"]},"application/vnd.mobius.dis":{source:"iana",extensions:["dis"]},"application/vnd.mobius.mbk":{source:"iana",extensions:["mbk"]},"application/vnd.mobius.mqy":{source:"iana",extensions:["mqy"]},"application/vnd.mobius.msl":{source:"iana",extensions:["msl"]},"application/vnd.mobius.plc":{source:"iana",extensions:["plc"]},"application/vnd.mobius.txf":{source:"iana",extensions:["txf"]},"application/vnd.mophun.application":{source:"iana",extensions:["mpn"]},"application/vnd.mophun.certificate":{source:"iana",extensions:["mpc"]},"application/vnd.motorola.flexsuite":{source:"iana"},"application/vnd.motorola.flexsuite.adsi":{source:"iana"},"application/vnd.motorola.flexsuite.fis":{source:"iana"},"application/vnd.motorola.flexsuite.gotap":{source:"iana"},"application/vnd.motorola.flexsuite.kmr":{source:"iana"},"application/vnd.motorola.flexsuite.ttc":{source:"iana"},"application/vnd.motorola.flexsuite.wem":{source:"iana"},"application/vnd.motorola.iprm":{source:"iana"},"application/vnd.mozilla.xul+xml":{source:"iana",compressible:!0,extensions:["xul"]},"application/vnd.ms-3mfdocument":{source:"iana"},"application/vnd.ms-artgalry":{source:"iana",extensions:["cil"]},"application/vnd.ms-asf":{source:"iana"},"application/vnd.ms-cab-compressed":{source:"iana",extensions:["cab"]},"application/vnd.ms-color.iccprofile":{source:"apache"},"application/vnd.ms-excel":{source:"iana",compressible:!1,extensions:["xls","xlm","xla","xlc","xlt","xlw"]},"application/vnd.ms-excel.addin.macroenabled.12":{source:"iana",extensions:["xlam"]},"application/vnd.ms-excel.sheet.binary.macroenabled.12":{source:"iana",extensions:["xlsb"]},"application/vnd.ms-excel.sheet.macroenabled.12":{source:"iana",extensions:["xlsm"]},"application/vnd.ms-excel.template.macroenabled.12":{source:"iana",extensions:["xltm"]},"application/vnd.ms-fontobject":{source:"iana",compressible:!0,extensions:["eot"]},"application/vnd.ms-htmlhelp":{source:"iana",extensions:["chm"]},"application/vnd.ms-ims":{source:"iana",extensions:["ims"]},"application/vnd.ms-lrm":{source:"iana",extensions:["lrm"]},"application/vnd.ms-office.activex+xml":{source:"iana",compressible:!0},"application/vnd.ms-officetheme":{source:"iana",extensions:["thmx"]},"application/vnd.ms-opentype":{source:"apache",compressible:!0},"application/vnd.ms-outlook":{compressible:!1,extensions:["msg"]},"application/vnd.ms-package.obfuscated-opentype":{source:"apache"},"application/vnd.ms-pki.seccat":{source:"apache",extensions:["cat"]},"application/vnd.ms-pki.stl":{source:"apache",extensions:["stl"]},"application/vnd.ms-playready.initiator+xml":{source:"iana",compressible:!0},"application/vnd.ms-powerpoint":{source:"iana",compressible:!1,extensions:["ppt","pps","pot"]},"application/vnd.ms-powerpoint.addin.macroenabled.12":{source:"iana",extensions:["ppam"]},"application/vnd.ms-powerpoint.presentation.macroenabled.12":{source:"iana",extensions:["pptm"]},"application/vnd.ms-powerpoint.slide.macroenabled.12":{source:"iana",extensions:["sldm"]},"application/vnd.ms-powerpoint.slideshow.macroenabled.12":{source:"iana",extensions:["ppsm"]},"application/vnd.ms-powerpoint.template.macroenabled.12":{source:"iana",extensions:["potm"]},"application/vnd.ms-printdevicecapabilities+xml":{source:"iana",compressible:!0},"application/vnd.ms-printing.printticket+xml":{source:"apache",compressible:!0},"application/vnd.ms-printschematicket+xml":{source:"iana",compressible:!0},"application/vnd.ms-project":{source:"iana",extensions:["mpp","mpt"]},"application/vnd.ms-tnef":{source:"iana"},"application/vnd.ms-windows.devicepairing":{source:"iana"},"application/vnd.ms-windows.nwprinting.oob":{source:"iana"},"application/vnd.ms-windows.printerpairing":{source:"iana"},"application/vnd.ms-windows.wsd.oob":{source:"iana"},"application/vnd.ms-wmdrm.lic-chlg-req":{source:"iana"},"application/vnd.ms-wmdrm.lic-resp":{source:"iana"},"application/vnd.ms-wmdrm.meter-chlg-req":{source:"iana"},"application/vnd.ms-wmdrm.meter-resp":{source:"iana"},"application/vnd.ms-word.document.macroenabled.12":{source:"iana",extensions:["docm"]},"application/vnd.ms-word.template.macroenabled.12":{source:"iana",extensions:["dotm"]},"application/vnd.ms-works":{source:"iana",extensions:["wps","wks","wcm","wdb"]},"application/vnd.ms-wpl":{source:"iana",extensions:["wpl"]},"application/vnd.ms-xpsdocument":{source:"iana",compressible:!1,extensions:["xps"]},"application/vnd.msa-disk-image":{source:"iana"},"application/vnd.mseq":{source:"iana",extensions:["mseq"]},"application/vnd.msign":{source:"iana"},"application/vnd.multiad.creator":{source:"iana"},"application/vnd.multiad.creator.cif":{source:"iana"},"application/vnd.music-niff":{source:"iana"},"application/vnd.musician":{source:"iana",extensions:["mus"]},"application/vnd.muvee.style":{source:"iana",extensions:["msty"]},"application/vnd.mynfc":{source:"iana",extensions:["taglet"]},"application/vnd.nacamar.ybrid+json":{source:"iana",compressible:!0},"application/vnd.ncd.control":{source:"iana"},"application/vnd.ncd.reference":{source:"iana"},"application/vnd.nearst.inv+json":{source:"iana",compressible:!0},"application/vnd.nebumind.line":{source:"iana"},"application/vnd.nervana":{source:"iana"},"application/vnd.netfpx":{source:"iana"},"application/vnd.neurolanguage.nlu":{source:"iana",extensions:["nlu"]},"application/vnd.nimn":{source:"iana"},"application/vnd.nintendo.nitro.rom":{source:"iana"},"application/vnd.nintendo.snes.rom":{source:"iana"},"application/vnd.nitf":{source:"iana",extensions:["ntf","nitf"]},"application/vnd.noblenet-directory":{source:"iana",extensions:["nnd"]},"application/vnd.noblenet-sealer":{source:"iana",extensions:["nns"]},"application/vnd.noblenet-web":{source:"iana",extensions:["nnw"]},"application/vnd.nokia.catalogs":{source:"iana"},"application/vnd.nokia.conml+wbxml":{source:"iana"},"application/vnd.nokia.conml+xml":{source:"iana",compressible:!0},"application/vnd.nokia.iptv.config+xml":{source:"iana",compressible:!0},"application/vnd.nokia.isds-radio-presets":{source:"iana"},"application/vnd.nokia.landmark+wbxml":{source:"iana"},"application/vnd.nokia.landmark+xml":{source:"iana",compressible:!0},"application/vnd.nokia.landmarkcollection+xml":{source:"iana",compressible:!0},"application/vnd.nokia.n-gage.ac+xml":{source:"iana",compressible:!0,extensions:["ac"]},"application/vnd.nokia.n-gage.data":{source:"iana",extensions:["ngdat"]},"application/vnd.nokia.n-gage.symbian.install":{source:"iana",extensions:["n-gage"]},"application/vnd.nokia.ncd":{source:"iana"},"application/vnd.nokia.pcd+wbxml":{source:"iana"},"application/vnd.nokia.pcd+xml":{source:"iana",compressible:!0},"application/vnd.nokia.radio-preset":{source:"iana",extensions:["rpst"]},"application/vnd.nokia.radio-presets":{source:"iana",extensions:["rpss"]},"application/vnd.novadigm.edm":{source:"iana",extensions:["edm"]},"application/vnd.novadigm.edx":{source:"iana",extensions:["edx"]},"application/vnd.novadigm.ext":{source:"iana",extensions:["ext"]},"application/vnd.ntt-local.content-share":{source:"iana"},"application/vnd.ntt-local.file-transfer":{source:"iana"},"application/vnd.ntt-local.ogw_remote-access":{source:"iana"},"application/vnd.ntt-local.sip-ta_remote":{source:"iana"},"application/vnd.ntt-local.sip-ta_tcp_stream":{source:"iana"},"application/vnd.oasis.opendocument.chart":{source:"iana",extensions:["odc"]},"application/vnd.oasis.opendocument.chart-template":{source:"iana",extensions:["otc"]},"application/vnd.oasis.opendocument.database":{source:"iana",extensions:["odb"]},"application/vnd.oasis.opendocument.formula":{source:"iana",extensions:["odf"]},"application/vnd.oasis.opendocument.formula-template":{source:"iana",extensions:["odft"]},"application/vnd.oasis.opendocument.graphics":{source:"iana",compressible:!1,extensions:["odg"]},"application/vnd.oasis.opendocument.graphics-template":{source:"iana",extensions:["otg"]},"application/vnd.oasis.opendocument.image":{source:"iana",extensions:["odi"]},"application/vnd.oasis.opendocument.image-template":{source:"iana",extensions:["oti"]},"application/vnd.oasis.opendocument.presentation":{source:"iana",compressible:!1,extensions:["odp"]},"application/vnd.oasis.opendocument.presentation-template":{source:"iana",extensions:["otp"]},"application/vnd.oasis.opendocument.spreadsheet":{source:"iana",compressible:!1,extensions:["ods"]},"application/vnd.oasis.opendocument.spreadsheet-template":{source:"iana",extensions:["ots"]},"application/vnd.oasis.opendocument.text":{source:"iana",compressible:!1,extensions:["odt"]},"application/vnd.oasis.opendocument.text-master":{source:"iana",extensions:["odm"]},"application/vnd.oasis.opendocument.text-template":{source:"iana",extensions:["ott"]},"application/vnd.oasis.opendocument.text-web":{source:"iana",extensions:["oth"]},"application/vnd.obn":{source:"iana"},"application/vnd.ocf+cbor":{source:"iana"},"application/vnd.oci.image.manifest.v1+json":{source:"iana",compressible:!0},"application/vnd.oftn.l10n+json":{source:"iana",compressible:!0},"application/vnd.oipf.contentaccessdownload+xml":{source:"iana",compressible:!0},"application/vnd.oipf.contentaccessstreaming+xml":{source:"iana",compressible:!0},"application/vnd.oipf.cspg-hexbinary":{source:"iana"},"application/vnd.oipf.dae.svg+xml":{source:"iana",compressible:!0},"application/vnd.oipf.dae.xhtml+xml":{source:"iana",compressible:!0},"application/vnd.oipf.mippvcontrolmessage+xml":{source:"iana",compressible:!0},"application/vnd.oipf.pae.gem":{source:"iana"},"application/vnd.oipf.spdiscovery+xml":{source:"iana",compressible:!0},"application/vnd.oipf.spdlist+xml":{source:"iana",compressible:!0},"application/vnd.oipf.ueprofile+xml":{source:"iana",compressible:!0},"application/vnd.oipf.userprofile+xml":{source:"iana",compressible:!0},"application/vnd.olpc-sugar":{source:"iana",extensions:["xo"]},"application/vnd.oma-scws-config":{source:"iana"},"application/vnd.oma-scws-http-request":{source:"iana"},"application/vnd.oma-scws-http-response":{source:"iana"},"application/vnd.oma.bcast.associated-procedure-parameter+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.drm-trigger+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.imd+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.ltkm":{source:"iana"},"application/vnd.oma.bcast.notification+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.provisioningtrigger":{source:"iana"},"application/vnd.oma.bcast.sgboot":{source:"iana"},"application/vnd.oma.bcast.sgdd+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.sgdu":{source:"iana"},"application/vnd.oma.bcast.simple-symbol-container":{source:"iana"},"application/vnd.oma.bcast.smartcard-trigger+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.sprov+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.stkm":{source:"iana"},"application/vnd.oma.cab-address-book+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-feature-handler+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-pcc+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-subs-invite+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-user-prefs+xml":{source:"iana",compressible:!0},"application/vnd.oma.dcd":{source:"iana"},"application/vnd.oma.dcdc":{source:"iana"},"application/vnd.oma.dd2+xml":{source:"iana",compressible:!0,extensions:["dd2"]},"application/vnd.oma.drm.risd+xml":{source:"iana",compressible:!0},"application/vnd.oma.group-usage-list+xml":{source:"iana",compressible:!0},"application/vnd.oma.lwm2m+cbor":{source:"iana"},"application/vnd.oma.lwm2m+json":{source:"iana",compressible:!0},"application/vnd.oma.lwm2m+tlv":{source:"iana"},"application/vnd.oma.pal+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.detailed-progress-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.final-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.groups+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.invocation-descriptor+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.optimized-progress-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.push":{source:"iana"},"application/vnd.oma.scidm.messages+xml":{source:"iana",compressible:!0},"application/vnd.oma.xcap-directory+xml":{source:"iana",compressible:!0},"application/vnd.omads-email+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omads-file+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omads-folder+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omaloc-supl-init":{source:"iana"},"application/vnd.onepager":{source:"iana"},"application/vnd.onepagertamp":{source:"iana"},"application/vnd.onepagertamx":{source:"iana"},"application/vnd.onepagertat":{source:"iana"},"application/vnd.onepagertatp":{source:"iana"},"application/vnd.onepagertatx":{source:"iana"},"application/vnd.openblox.game+xml":{source:"iana",compressible:!0,extensions:["obgx"]},"application/vnd.openblox.game-binary":{source:"iana"},"application/vnd.openeye.oeb":{source:"iana"},"application/vnd.openofficeorg.extension":{source:"apache",extensions:["oxt"]},"application/vnd.openstreetmap.data+xml":{source:"iana",compressible:!0,extensions:["osm"]},"application/vnd.opentimestamps.ots":{source:"iana"},"application/vnd.openxmlformats-officedocument.custom-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.customxmlproperties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawing+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.chart+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramcolors+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramdata+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramlayout+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramstyle+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.extended-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.commentauthors+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.handoutmaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.notesmaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.notesslide+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.presentation":{source:"iana",compressible:!1,extensions:["pptx"]},"application/vnd.openxmlformats-officedocument.presentationml.presentation.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.presprops+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slide":{source:"iana",extensions:["sldx"]},"application/vnd.openxmlformats-officedocument.presentationml.slide+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slidelayout+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slidemaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slideshow":{source:"iana",extensions:["ppsx"]},"application/vnd.openxmlformats-officedocument.presentationml.slideshow.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slideupdateinfo+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.tablestyles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.tags+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.template":{source:"iana",extensions:["potx"]},"application/vnd.openxmlformats-officedocument.presentationml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.viewprops+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.calcchain+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.externallink+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcachedefinition+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcacherecords+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivottable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.querytable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionheaders+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionlog+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedstrings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":{source:"iana",compressible:!1,extensions:["xlsx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetmetadata+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.tablesinglecells+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.template":{source:"iana",extensions:["xltx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.usernames+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.volatiledependencies+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.theme+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.themeoverride+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.vmldrawing":{source:"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.document":{source:"iana",compressible:!1,extensions:["docx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.glossary+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.endnotes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.fonttable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.template":{source:"iana",extensions:["dotx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.websettings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.core-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.digital-signature-xmlsignature+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.relationships+xml":{source:"iana",compressible:!0},"application/vnd.oracle.resource+json":{source:"iana",compressible:!0},"application/vnd.orange.indata":{source:"iana"},"application/vnd.osa.netdeploy":{source:"iana"},"application/vnd.osgeo.mapguide.package":{source:"iana",extensions:["mgp"]},"application/vnd.osgi.bundle":{source:"iana"},"application/vnd.osgi.dp":{source:"iana",extensions:["dp"]},"application/vnd.osgi.subsystem":{source:"iana",extensions:["esa"]},"application/vnd.otps.ct-kip+xml":{source:"iana",compressible:!0},"application/vnd.oxli.countgraph":{source:"iana"},"application/vnd.pagerduty+json":{source:"iana",compressible:!0},"application/vnd.palm":{source:"iana",extensions:["pdb","pqa","oprc"]},"application/vnd.panoply":{source:"iana"},"application/vnd.paos.xml":{source:"iana"},"application/vnd.patentdive":{source:"iana"},"application/vnd.patientecommsdoc":{source:"iana"},"application/vnd.pawaafile":{source:"iana",extensions:["paw"]},"application/vnd.pcos":{source:"iana"},"application/vnd.pg.format":{source:"iana",extensions:["str"]},"application/vnd.pg.osasli":{source:"iana",extensions:["ei6"]},"application/vnd.piaccess.application-licence":{source:"iana"},"application/vnd.picsel":{source:"iana",extensions:["efif"]},"application/vnd.pmi.widget":{source:"iana",extensions:["wg"]},"application/vnd.poc.group-advertisement+xml":{source:"iana",compressible:!0},"application/vnd.pocketlearn":{source:"iana",extensions:["plf"]},"application/vnd.powerbuilder6":{source:"iana",extensions:["pbd"]},"application/vnd.powerbuilder6-s":{source:"iana"},"application/vnd.powerbuilder7":{source:"iana"},"application/vnd.powerbuilder7-s":{source:"iana"},"application/vnd.powerbuilder75":{source:"iana"},"application/vnd.powerbuilder75-s":{source:"iana"},"application/vnd.preminet":{source:"iana"},"application/vnd.previewsystems.box":{source:"iana",extensions:["box"]},"application/vnd.proteus.magazine":{source:"iana",extensions:["mgz"]},"application/vnd.psfs":{source:"iana"},"application/vnd.publishare-delta-tree":{source:"iana",extensions:["qps"]},"application/vnd.pvi.ptid1":{source:"iana",extensions:["ptid"]},"application/vnd.pwg-multiplexed":{source:"iana"},"application/vnd.pwg-xhtml-print+xml":{source:"iana",compressible:!0},"application/vnd.qualcomm.brew-app-res":{source:"iana"},"application/vnd.quarantainenet":{source:"iana"},"application/vnd.quark.quarkxpress":{source:"iana",extensions:["qxd","qxt","qwd","qwt","qxl","qxb"]},"application/vnd.quobject-quoxdocument":{source:"iana"},"application/vnd.radisys.moml+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-conf+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-conn+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-dialog+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-stream+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-conf+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-base+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-fax-detect+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-fax-sendrecv+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-group+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-speech+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-transform+xml":{source:"iana",compressible:!0},"application/vnd.rainstor.data":{source:"iana"},"application/vnd.rapid":{source:"iana"},"application/vnd.rar":{source:"iana",extensions:["rar"]},"application/vnd.realvnc.bed":{source:"iana",extensions:["bed"]},"application/vnd.recordare.musicxml":{source:"iana",extensions:["mxl"]},"application/vnd.recordare.musicxml+xml":{source:"iana",compressible:!0,extensions:["musicxml"]},"application/vnd.renlearn.rlprint":{source:"iana"},"application/vnd.resilient.logic":{source:"iana"},"application/vnd.restful+json":{source:"iana",compressible:!0},"application/vnd.rig.cryptonote":{source:"iana",extensions:["cryptonote"]},"application/vnd.rim.cod":{source:"apache",extensions:["cod"]},"application/vnd.rn-realmedia":{source:"apache",extensions:["rm"]},"application/vnd.rn-realmedia-vbr":{source:"apache",extensions:["rmvb"]},"application/vnd.route66.link66+xml":{source:"iana",compressible:!0,extensions:["link66"]},"application/vnd.rs-274x":{source:"iana"},"application/vnd.ruckus.download":{source:"iana"},"application/vnd.s3sms":{source:"iana"},"application/vnd.sailingtracker.track":{source:"iana",extensions:["st"]},"application/vnd.sar":{source:"iana"},"application/vnd.sbm.cid":{source:"iana"},"application/vnd.sbm.mid2":{source:"iana"},"application/vnd.scribus":{source:"iana"},"application/vnd.sealed.3df":{source:"iana"},"application/vnd.sealed.csf":{source:"iana"},"application/vnd.sealed.doc":{source:"iana"},"application/vnd.sealed.eml":{source:"iana"},"application/vnd.sealed.mht":{source:"iana"},"application/vnd.sealed.net":{source:"iana"},"application/vnd.sealed.ppt":{source:"iana"},"application/vnd.sealed.tiff":{source:"iana"},"application/vnd.sealed.xls":{source:"iana"},"application/vnd.sealedmedia.softseal.html":{source:"iana"},"application/vnd.sealedmedia.softseal.pdf":{source:"iana"},"application/vnd.seemail":{source:"iana",extensions:["see"]},"application/vnd.seis+json":{source:"iana",compressible:!0},"application/vnd.sema":{source:"iana",extensions:["sema"]},"application/vnd.semd":{source:"iana",extensions:["semd"]},"application/vnd.semf":{source:"iana",extensions:["semf"]},"application/vnd.shade-save-file":{source:"iana"},"application/vnd.shana.informed.formdata":{source:"iana",extensions:["ifm"]},"application/vnd.shana.informed.formtemplate":{source:"iana",extensions:["itp"]},"application/vnd.shana.informed.interchange":{source:"iana",extensions:["iif"]},"application/vnd.shana.informed.package":{source:"iana",extensions:["ipk"]},"application/vnd.shootproof+json":{source:"iana",compressible:!0},"application/vnd.shopkick+json":{source:"iana",compressible:!0},"application/vnd.shp":{source:"iana"},"application/vnd.shx":{source:"iana"},"application/vnd.sigrok.session":{source:"iana"},"application/vnd.simtech-mindmapper":{source:"iana",extensions:["twd","twds"]},"application/vnd.siren+json":{source:"iana",compressible:!0},"application/vnd.smaf":{source:"iana",extensions:["mmf"]},"application/vnd.smart.notebook":{source:"iana"},"application/vnd.smart.teacher":{source:"iana",extensions:["teacher"]},"application/vnd.snesdev-page-table":{source:"iana"},"application/vnd.software602.filler.form+xml":{source:"iana",compressible:!0,extensions:["fo"]},"application/vnd.software602.filler.form-xml-zip":{source:"iana"},"application/vnd.solent.sdkm+xml":{source:"iana",compressible:!0,extensions:["sdkm","sdkd"]},"application/vnd.spotfire.dxp":{source:"iana",extensions:["dxp"]},"application/vnd.spotfire.sfs":{source:"iana",extensions:["sfs"]},"application/vnd.sqlite3":{source:"iana"},"application/vnd.sss-cod":{source:"iana"},"application/vnd.sss-dtf":{source:"iana"},"application/vnd.sss-ntf":{source:"iana"},"application/vnd.stardivision.calc":{source:"apache",extensions:["sdc"]},"application/vnd.stardivision.draw":{source:"apache",extensions:["sda"]},"application/vnd.stardivision.impress":{source:"apache",extensions:["sdd"]},"application/vnd.stardivision.math":{source:"apache",extensions:["smf"]},"application/vnd.stardivision.writer":{source:"apache",extensions:["sdw","vor"]},"application/vnd.stardivision.writer-global":{source:"apache",extensions:["sgl"]},"application/vnd.stepmania.package":{source:"iana",extensions:["smzip"]},"application/vnd.stepmania.stepchart":{source:"iana",extensions:["sm"]},"application/vnd.street-stream":{source:"iana"},"application/vnd.sun.wadl+xml":{source:"iana",compressible:!0,extensions:["wadl"]},"application/vnd.sun.xml.calc":{source:"apache",extensions:["sxc"]},"application/vnd.sun.xml.calc.template":{source:"apache",extensions:["stc"]},"application/vnd.sun.xml.draw":{source:"apache",extensions:["sxd"]},"application/vnd.sun.xml.draw.template":{source:"apache",extensions:["std"]},"application/vnd.sun.xml.impress":{source:"apache",extensions:["sxi"]},"application/vnd.sun.xml.impress.template":{source:"apache",extensions:["sti"]},"application/vnd.sun.xml.math":{source:"apache",extensions:["sxm"]},"application/vnd.sun.xml.writer":{source:"apache",extensions:["sxw"]},"application/vnd.sun.xml.writer.global":{source:"apache",extensions:["sxg"]},"application/vnd.sun.xml.writer.template":{source:"apache",extensions:["stw"]},"application/vnd.sus-calendar":{source:"iana",extensions:["sus","susp"]},"application/vnd.svd":{source:"iana",extensions:["svd"]},"application/vnd.swiftview-ics":{source:"iana"},"application/vnd.sycle+xml":{source:"iana",compressible:!0},"application/vnd.syft+json":{source:"iana",compressible:!0},"application/vnd.symbian.install":{source:"apache",extensions:["sis","sisx"]},"application/vnd.syncml+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["xsm"]},"application/vnd.syncml.dm+wbxml":{source:"iana",charset:"UTF-8",extensions:["bdm"]},"application/vnd.syncml.dm+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["xdm"]},"application/vnd.syncml.dm.notification":{source:"iana"},"application/vnd.syncml.dmddf+wbxml":{source:"iana"},"application/vnd.syncml.dmddf+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["ddf"]},"application/vnd.syncml.dmtnds+wbxml":{source:"iana"},"application/vnd.syncml.dmtnds+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.syncml.ds.notification":{source:"iana"},"application/vnd.tableschema+json":{source:"iana",compressible:!0},"application/vnd.tao.intent-module-archive":{source:"iana",extensions:["tao"]},"application/vnd.tcpdump.pcap":{source:"iana",extensions:["pcap","cap","dmp"]},"application/vnd.think-cell.ppttc+json":{source:"iana",compressible:!0},"application/vnd.tmd.mediaflex.api+xml":{source:"iana",compressible:!0},"application/vnd.tml":{source:"iana"},"application/vnd.tmobile-livetv":{source:"iana",extensions:["tmo"]},"application/vnd.tri.onesource":{source:"iana"},"application/vnd.trid.tpt":{source:"iana",extensions:["tpt"]},"application/vnd.triscape.mxs":{source:"iana",extensions:["mxs"]},"application/vnd.trueapp":{source:"iana",extensions:["tra"]},"application/vnd.truedoc":{source:"iana"},"application/vnd.ubisoft.webplayer":{source:"iana"},"application/vnd.ufdl":{source:"iana",extensions:["ufd","ufdl"]},"application/vnd.uiq.theme":{source:"iana",extensions:["utz"]},"application/vnd.umajin":{source:"iana",extensions:["umj"]},"application/vnd.unity":{source:"iana",extensions:["unityweb"]},"application/vnd.uoml+xml":{source:"iana",compressible:!0,extensions:["uoml"]},"application/vnd.uplanet.alert":{source:"iana"},"application/vnd.uplanet.alert-wbxml":{source:"iana"},"application/vnd.uplanet.bearer-choice":{source:"iana"},"application/vnd.uplanet.bearer-choice-wbxml":{source:"iana"},"application/vnd.uplanet.cacheop":{source:"iana"},"application/vnd.uplanet.cacheop-wbxml":{source:"iana"},"application/vnd.uplanet.channel":{source:"iana"},"application/vnd.uplanet.channel-wbxml":{source:"iana"},"application/vnd.uplanet.list":{source:"iana"},"application/vnd.uplanet.list-wbxml":{source:"iana"},"application/vnd.uplanet.listcmd":{source:"iana"},"application/vnd.uplanet.listcmd-wbxml":{source:"iana"},"application/vnd.uplanet.signal":{source:"iana"},"application/vnd.uri-map":{source:"iana"},"application/vnd.valve.source.material":{source:"iana"},"application/vnd.vcx":{source:"iana",extensions:["vcx"]},"application/vnd.vd-study":{source:"iana"},"application/vnd.vectorworks":{source:"iana"},"application/vnd.vel+json":{source:"iana",compressible:!0},"application/vnd.verimatrix.vcas":{source:"iana"},"application/vnd.veritone.aion+json":{source:"iana",compressible:!0},"application/vnd.veryant.thin":{source:"iana"},"application/vnd.ves.encrypted":{source:"iana"},"application/vnd.vidsoft.vidconference":{source:"iana"},"application/vnd.visio":{source:"iana",extensions:["vsd","vst","vss","vsw"]},"application/vnd.visionary":{source:"iana",extensions:["vis"]},"application/vnd.vividence.scriptfile":{source:"iana"},"application/vnd.vsf":{source:"iana",extensions:["vsf"]},"application/vnd.wap.sic":{source:"iana"},"application/vnd.wap.slc":{source:"iana"},"application/vnd.wap.wbxml":{source:"iana",charset:"UTF-8",extensions:["wbxml"]},"application/vnd.wap.wmlc":{source:"iana",extensions:["wmlc"]},"application/vnd.wap.wmlscriptc":{source:"iana",extensions:["wmlsc"]},"application/vnd.webturbo":{source:"iana",extensions:["wtb"]},"application/vnd.wfa.dpp":{source:"iana"},"application/vnd.wfa.p2p":{source:"iana"},"application/vnd.wfa.wsc":{source:"iana"},"application/vnd.windows.devicepairing":{source:"iana"},"application/vnd.wmc":{source:"iana"},"application/vnd.wmf.bootstrap":{source:"iana"},"application/vnd.wolfram.mathematica":{source:"iana"},"application/vnd.wolfram.mathematica.package":{source:"iana"},"application/vnd.wolfram.player":{source:"iana",extensions:["nbp"]},"application/vnd.wordperfect":{source:"iana",extensions:["wpd"]},"application/vnd.wqd":{source:"iana",extensions:["wqd"]},"application/vnd.wrq-hp3000-labelled":{source:"iana"},"application/vnd.wt.stf":{source:"iana",extensions:["stf"]},"application/vnd.wv.csp+wbxml":{source:"iana"},"application/vnd.wv.csp+xml":{source:"iana",compressible:!0},"application/vnd.wv.ssp+xml":{source:"iana",compressible:!0},"application/vnd.xacml+json":{source:"iana",compressible:!0},"application/vnd.xara":{source:"iana",extensions:["xar"]},"application/vnd.xfdl":{source:"iana",extensions:["xfdl"]},"application/vnd.xfdl.webform":{source:"iana"},"application/vnd.xmi+xml":{source:"iana",compressible:!0},"application/vnd.xmpie.cpkg":{source:"iana"},"application/vnd.xmpie.dpkg":{source:"iana"},"application/vnd.xmpie.plan":{source:"iana"},"application/vnd.xmpie.ppkg":{source:"iana"},"application/vnd.xmpie.xlim":{source:"iana"},"application/vnd.yamaha.hv-dic":{source:"iana",extensions:["hvd"]},"application/vnd.yamaha.hv-script":{source:"iana",extensions:["hvs"]},"application/vnd.yamaha.hv-voice":{source:"iana",extensions:["hvp"]},"application/vnd.yamaha.openscoreformat":{source:"iana",extensions:["osf"]},"application/vnd.yamaha.openscoreformat.osfpvg+xml":{source:"iana",compressible:!0,extensions:["osfpvg"]},"application/vnd.yamaha.remote-setup":{source:"iana"},"application/vnd.yamaha.smaf-audio":{source:"iana",extensions:["saf"]},"application/vnd.yamaha.smaf-phrase":{source:"iana",extensions:["spf"]},"application/vnd.yamaha.through-ngn":{source:"iana"},"application/vnd.yamaha.tunnel-udpencap":{source:"iana"},"application/vnd.yaoweme":{source:"iana"},"application/vnd.yellowriver-custom-menu":{source:"iana",extensions:["cmp"]},"application/vnd.youtube.yt":{source:"iana"},"application/vnd.zul":{source:"iana",extensions:["zir","zirz"]},"application/vnd.zzazz.deck+xml":{source:"iana",compressible:!0,extensions:["zaz"]},"application/voicexml+xml":{source:"iana",compressible:!0,extensions:["vxml"]},"application/voucher-cms+json":{source:"iana",compressible:!0},"application/vq-rtcpxr":{source:"iana"},"application/wasm":{source:"iana",compressible:!0,extensions:["wasm"]},"application/watcherinfo+xml":{source:"iana",compressible:!0,extensions:["wif"]},"application/webpush-options+json":{source:"iana",compressible:!0},"application/whoispp-query":{source:"iana"},"application/whoispp-response":{source:"iana"},"application/widget":{source:"iana",extensions:["wgt"]},"application/winhlp":{source:"apache",extensions:["hlp"]},"application/wita":{source:"iana"},"application/wordperfect5.1":{source:"iana"},"application/wsdl+xml":{source:"iana",compressible:!0,extensions:["wsdl"]},"application/wspolicy+xml":{source:"iana",compressible:!0,extensions:["wspolicy"]},"application/x-7z-compressed":{source:"apache",compressible:!1,extensions:["7z"]},"application/x-abiword":{source:"apache",extensions:["abw"]},"application/x-ace-compressed":{source:"apache",extensions:["ace"]},"application/x-amf":{source:"apache"},"application/x-apple-diskimage":{source:"apache",extensions:["dmg"]},"application/x-arj":{compressible:!1,extensions:["arj"]},"application/x-authorware-bin":{source:"apache",extensions:["aab","x32","u32","vox"]},"application/x-authorware-map":{source:"apache",extensions:["aam"]},"application/x-authorware-seg":{source:"apache",extensions:["aas"]},"application/x-bcpio":{source:"apache",extensions:["bcpio"]},"application/x-bdoc":{compressible:!1,extensions:["bdoc"]},"application/x-bittorrent":{source:"apache",extensions:["torrent"]},"application/x-blorb":{source:"apache",extensions:["blb","blorb"]},"application/x-bzip":{source:"apache",compressible:!1,extensions:["bz"]},"application/x-bzip2":{source:"apache",compressible:!1,extensions:["bz2","boz"]},"application/x-cbr":{source:"apache",extensions:["cbr","cba","cbt","cbz","cb7"]},"application/x-cdlink":{source:"apache",extensions:["vcd"]},"application/x-cfs-compressed":{source:"apache",extensions:["cfs"]},"application/x-chat":{source:"apache",extensions:["chat"]},"application/x-chess-pgn":{source:"apache",extensions:["pgn"]},"application/x-chrome-extension":{extensions:["crx"]},"application/x-cocoa":{source:"nginx",extensions:["cco"]},"application/x-compress":{source:"apache"},"application/x-conference":{source:"apache",extensions:["nsc"]},"application/x-cpio":{source:"apache",extensions:["cpio"]},"application/x-csh":{source:"apache",extensions:["csh"]},"application/x-deb":{compressible:!1},"application/x-debian-package":{source:"apache",extensions:["deb","udeb"]},"application/x-dgc-compressed":{source:"apache",extensions:["dgc"]},"application/x-director":{source:"apache",extensions:["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"]},"application/x-doom":{source:"apache",extensions:["wad"]},"application/x-dtbncx+xml":{source:"apache",compressible:!0,extensions:["ncx"]},"application/x-dtbook+xml":{source:"apache",compressible:!0,extensions:["dtb"]},"application/x-dtbresource+xml":{source:"apache",compressible:!0,extensions:["res"]},"application/x-dvi":{source:"apache",compressible:!1,extensions:["dvi"]},"application/x-envoy":{source:"apache",extensions:["evy"]},"application/x-eva":{source:"apache",extensions:["eva"]},"application/x-font-bdf":{source:"apache",extensions:["bdf"]},"application/x-font-dos":{source:"apache"},"application/x-font-framemaker":{source:"apache"},"application/x-font-ghostscript":{source:"apache",extensions:["gsf"]},"application/x-font-libgrx":{source:"apache"},"application/x-font-linux-psf":{source:"apache",extensions:["psf"]},"application/x-font-pcf":{source:"apache",extensions:["pcf"]},"application/x-font-snf":{source:"apache",extensions:["snf"]},"application/x-font-speedo":{source:"apache"},"application/x-font-sunos-news":{source:"apache"},"application/x-font-type1":{source:"apache",extensions:["pfa","pfb","pfm","afm"]},"application/x-font-vfont":{source:"apache"},"application/x-freearc":{source:"apache",extensions:["arc"]},"application/x-futuresplash":{source:"apache",extensions:["spl"]},"application/x-gca-compressed":{source:"apache",extensions:["gca"]},"application/x-glulx":{source:"apache",extensions:["ulx"]},"application/x-gnumeric":{source:"apache",extensions:["gnumeric"]},"application/x-gramps-xml":{source:"apache",extensions:["gramps"]},"application/x-gtar":{source:"apache",extensions:["gtar"]},"application/x-gzip":{source:"apache"},"application/x-hdf":{source:"apache",extensions:["hdf"]},"application/x-httpd-php":{compressible:!0,extensions:["php"]},"application/x-install-instructions":{source:"apache",extensions:["install"]},"application/x-iso9660-image":{source:"apache",extensions:["iso"]},"application/x-iwork-keynote-sffkey":{extensions:["key"]},"application/x-iwork-numbers-sffnumbers":{extensions:["numbers"]},"application/x-iwork-pages-sffpages":{extensions:["pages"]},"application/x-java-archive-diff":{source:"nginx",extensions:["jardiff"]},"application/x-java-jnlp-file":{source:"apache",compressible:!1,extensions:["jnlp"]},"application/x-javascript":{compressible:!0},"application/x-keepass2":{extensions:["kdbx"]},"application/x-latex":{source:"apache",compressible:!1,extensions:["latex"]},"application/x-lua-bytecode":{extensions:["luac"]},"application/x-lzh-compressed":{source:"apache",extensions:["lzh","lha"]},"application/x-makeself":{source:"nginx",extensions:["run"]},"application/x-mie":{source:"apache",extensions:["mie"]},"application/x-mobipocket-ebook":{source:"apache",extensions:["prc","mobi"]},"application/x-mpegurl":{compressible:!1},"application/x-ms-application":{source:"apache",extensions:["application"]},"application/x-ms-shortcut":{source:"apache",extensions:["lnk"]},"application/x-ms-wmd":{source:"apache",extensions:["wmd"]},"application/x-ms-wmz":{source:"apache",extensions:["wmz"]},"application/x-ms-xbap":{source:"apache",extensions:["xbap"]},"application/x-msaccess":{source:"apache",extensions:["mdb"]},"application/x-msbinder":{source:"apache",extensions:["obd"]},"application/x-mscardfile":{source:"apache",extensions:["crd"]},"application/x-msclip":{source:"apache",extensions:["clp"]},"application/x-msdos-program":{extensions:["exe"]},"application/x-msdownload":{source:"apache",extensions:["exe","dll","com","bat","msi"]},"application/x-msmediaview":{source:"apache",extensions:["mvb","m13","m14"]},"application/x-msmetafile":{source:"apache",extensions:["wmf","wmz","emf","emz"]},"application/x-msmoney":{source:"apache",extensions:["mny"]},"application/x-mspublisher":{source:"apache",extensions:["pub"]},"application/x-msschedule":{source:"apache",extensions:["scd"]},"application/x-msterminal":{source:"apache",extensions:["trm"]},"application/x-mswrite":{source:"apache",extensions:["wri"]},"application/x-netcdf":{source:"apache",extensions:["nc","cdf"]},"application/x-ns-proxy-autoconfig":{compressible:!0,extensions:["pac"]},"application/x-nzb":{source:"apache",extensions:["nzb"]},"application/x-perl":{source:"nginx",extensions:["pl","pm"]},"application/x-pilot":{source:"nginx",extensions:["prc","pdb"]},"application/x-pkcs12":{source:"apache",compressible:!1,extensions:["p12","pfx"]},"application/x-pkcs7-certificates":{source:"apache",extensions:["p7b","spc"]},"application/x-pkcs7-certreqresp":{source:"apache",extensions:["p7r"]},"application/x-pki-message":{source:"iana"},"application/x-rar-compressed":{source:"apache",compressible:!1,extensions:["rar"]},"application/x-redhat-package-manager":{source:"nginx",extensions:["rpm"]},"application/x-research-info-systems":{source:"apache",extensions:["ris"]},"application/x-sea":{source:"nginx",extensions:["sea"]},"application/x-sh":{source:"apache",compressible:!0,extensions:["sh"]},"application/x-shar":{source:"apache",extensions:["shar"]},"application/x-shockwave-flash":{source:"apache",compressible:!1,extensions:["swf"]},"application/x-silverlight-app":{source:"apache",extensions:["xap"]},"application/x-sql":{source:"apache",extensions:["sql"]},"application/x-stuffit":{source:"apache",compressible:!1,extensions:["sit"]},"application/x-stuffitx":{source:"apache",extensions:["sitx"]},"application/x-subrip":{source:"apache",extensions:["srt"]},"application/x-sv4cpio":{source:"apache",extensions:["sv4cpio"]},"application/x-sv4crc":{source:"apache",extensions:["sv4crc"]},"application/x-t3vm-image":{source:"apache",extensions:["t3"]},"application/x-tads":{source:"apache",extensions:["gam"]},"application/x-tar":{source:"apache",compressible:!0,extensions:["tar"]},"application/x-tcl":{source:"apache",extensions:["tcl","tk"]},"application/x-tex":{source:"apache",extensions:["tex"]},"application/x-tex-tfm":{source:"apache",extensions:["tfm"]},"application/x-texinfo":{source:"apache",extensions:["texinfo","texi"]},"application/x-tgif":{source:"apache",extensions:["obj"]},"application/x-ustar":{source:"apache",extensions:["ustar"]},"application/x-virtualbox-hdd":{compressible:!0,extensions:["hdd"]},"application/x-virtualbox-ova":{compressible:!0,extensions:["ova"]},"application/x-virtualbox-ovf":{compressible:!0,extensions:["ovf"]},"application/x-virtualbox-vbox":{compressible:!0,extensions:["vbox"]},"application/x-virtualbox-vbox-extpack":{compressible:!1,extensions:["vbox-extpack"]},"application/x-virtualbox-vdi":{compressible:!0,extensions:["vdi"]},"application/x-virtualbox-vhd":{compressible:!0,extensions:["vhd"]},"application/x-virtualbox-vmdk":{compressible:!0,extensions:["vmdk"]},"application/x-wais-source":{source:"apache",extensions:["src"]},"application/x-web-app-manifest+json":{compressible:!0,extensions:["webapp"]},"application/x-www-form-urlencoded":{source:"iana",compressible:!0},"application/x-x509-ca-cert":{source:"iana",extensions:["der","crt","pem"]},"application/x-x509-ca-ra-cert":{source:"iana"},"application/x-x509-next-ca-cert":{source:"iana"},"application/x-xfig":{source:"apache",extensions:["fig"]},"application/x-xliff+xml":{source:"apache",compressible:!0,extensions:["xlf"]},"application/x-xpinstall":{source:"apache",compressible:!1,extensions:["xpi"]},"application/x-xz":{source:"apache",extensions:["xz"]},"application/x-zmachine":{source:"apache",extensions:["z1","z2","z3","z4","z5","z6","z7","z8"]},"application/x400-bp":{source:"iana"},"application/xacml+xml":{source:"iana",compressible:!0},"application/xaml+xml":{source:"apache",compressible:!0,extensions:["xaml"]},"application/xcap-att+xml":{source:"iana",compressible:!0,extensions:["xav"]},"application/xcap-caps+xml":{source:"iana",compressible:!0,extensions:["xca"]},"application/xcap-diff+xml":{source:"iana",compressible:!0,extensions:["xdf"]},"application/xcap-el+xml":{source:"iana",compressible:!0,extensions:["xel"]},"application/xcap-error+xml":{source:"iana",compressible:!0},"application/xcap-ns+xml":{source:"iana",compressible:!0,extensions:["xns"]},"application/xcon-conference-info+xml":{source:"iana",compressible:!0},"application/xcon-conference-info-diff+xml":{source:"iana",compressible:!0},"application/xenc+xml":{source:"iana",compressible:!0,extensions:["xenc"]},"application/xhtml+xml":{source:"iana",compressible:!0,extensions:["xhtml","xht"]},"application/xhtml-voice+xml":{source:"apache",compressible:!0},"application/xliff+xml":{source:"iana",compressible:!0,extensions:["xlf"]},"application/xml":{source:"iana",compressible:!0,extensions:["xml","xsl","xsd","rng"]},"application/xml-dtd":{source:"iana",compressible:!0,extensions:["dtd"]},"application/xml-external-parsed-entity":{source:"iana"},"application/xml-patch+xml":{source:"iana",compressible:!0},"application/xmpp+xml":{source:"iana",compressible:!0},"application/xop+xml":{source:"iana",compressible:!0,extensions:["xop"]},"application/xproc+xml":{source:"apache",compressible:!0,extensions:["xpl"]},"application/xslt+xml":{source:"iana",compressible:!0,extensions:["xsl","xslt"]},"application/xspf+xml":{source:"apache",compressible:!0,extensions:["xspf"]},"application/xv+xml":{source:"iana",compressible:!0,extensions:["mxml","xhvml","xvml","xvm"]},"application/yang":{source:"iana",extensions:["yang"]},"application/yang-data+json":{source:"iana",compressible:!0},"application/yang-data+xml":{source:"iana",compressible:!0},"application/yang-patch+json":{source:"iana",compressible:!0},"application/yang-patch+xml":{source:"iana",compressible:!0},"application/yin+xml":{source:"iana",compressible:!0,extensions:["yin"]},"application/zip":{source:"iana",compressible:!1,extensions:["zip"]},"application/zlib":{source:"iana"},"application/zstd":{source:"iana"},"audio/1d-interleaved-parityfec":{source:"iana"},"audio/32kadpcm":{source:"iana"},"audio/3gpp":{source:"iana",compressible:!1,extensions:["3gpp"]},"audio/3gpp2":{source:"iana"},"audio/aac":{source:"iana"},"audio/ac3":{source:"iana"},"audio/adpcm":{source:"apache",extensions:["adp"]},"audio/amr":{source:"iana",extensions:["amr"]},"audio/amr-wb":{source:"iana"},"audio/amr-wb+":{source:"iana"},"audio/aptx":{source:"iana"},"audio/asc":{source:"iana"},"audio/atrac-advanced-lossless":{source:"iana"},"audio/atrac-x":{source:"iana"},"audio/atrac3":{source:"iana"},"audio/basic":{source:"iana",compressible:!1,extensions:["au","snd"]},"audio/bv16":{source:"iana"},"audio/bv32":{source:"iana"},"audio/clearmode":{source:"iana"},"audio/cn":{source:"iana"},"audio/dat12":{source:"iana"},"audio/dls":{source:"iana"},"audio/dsr-es201108":{source:"iana"},"audio/dsr-es202050":{source:"iana"},"audio/dsr-es202211":{source:"iana"},"audio/dsr-es202212":{source:"iana"},"audio/dv":{source:"iana"},"audio/dvi4":{source:"iana"},"audio/eac3":{source:"iana"},"audio/encaprtp":{source:"iana"},"audio/evrc":{source:"iana"},"audio/evrc-qcp":{source:"iana"},"audio/evrc0":{source:"iana"},"audio/evrc1":{source:"iana"},"audio/evrcb":{source:"iana"},"audio/evrcb0":{source:"iana"},"audio/evrcb1":{source:"iana"},"audio/evrcnw":{source:"iana"},"audio/evrcnw0":{source:"iana"},"audio/evrcnw1":{source:"iana"},"audio/evrcwb":{source:"iana"},"audio/evrcwb0":{source:"iana"},"audio/evrcwb1":{source:"iana"},"audio/evs":{source:"iana"},"audio/flexfec":{source:"iana"},"audio/fwdred":{source:"iana"},"audio/g711-0":{source:"iana"},"audio/g719":{source:"iana"},"audio/g722":{source:"iana"},"audio/g7221":{source:"iana"},"audio/g723":{source:"iana"},"audio/g726-16":{source:"iana"},"audio/g726-24":{source:"iana"},"audio/g726-32":{source:"iana"},"audio/g726-40":{source:"iana"},"audio/g728":{source:"iana"},"audio/g729":{source:"iana"},"audio/g7291":{source:"iana"},"audio/g729d":{source:"iana"},"audio/g729e":{source:"iana"},"audio/gsm":{source:"iana"},"audio/gsm-efr":{source:"iana"},"audio/gsm-hr-08":{source:"iana"},"audio/ilbc":{source:"iana"},"audio/ip-mr_v2.5":{source:"iana"},"audio/isac":{source:"apache"},"audio/l16":{source:"iana"},"audio/l20":{source:"iana"},"audio/l24":{source:"iana",compressible:!1},"audio/l8":{source:"iana"},"audio/lpc":{source:"iana"},"audio/melp":{source:"iana"},"audio/melp1200":{source:"iana"},"audio/melp2400":{source:"iana"},"audio/melp600":{source:"iana"},"audio/mhas":{source:"iana"},"audio/midi":{source:"apache",extensions:["mid","midi","kar","rmi"]},"audio/mobile-xmf":{source:"iana",extensions:["mxmf"]},"audio/mp3":{compressible:!1,extensions:["mp3"]},"audio/mp4":{source:"iana",compressible:!1,extensions:["m4a","mp4a"]},"audio/mp4a-latm":{source:"iana"},"audio/mpa":{source:"iana"},"audio/mpa-robust":{source:"iana"},"audio/mpeg":{source:"iana",compressible:!1,extensions:["mpga","mp2","mp2a","mp3","m2a","m3a"]},"audio/mpeg4-generic":{source:"iana"},"audio/musepack":{source:"apache"},"audio/ogg":{source:"iana",compressible:!1,extensions:["oga","ogg","spx","opus"]},"audio/opus":{source:"iana"},"audio/parityfec":{source:"iana"},"audio/pcma":{source:"iana"},"audio/pcma-wb":{source:"iana"},"audio/pcmu":{source:"iana"},"audio/pcmu-wb":{source:"iana"},"audio/prs.sid":{source:"iana"},"audio/qcelp":{source:"iana"},"audio/raptorfec":{source:"iana"},"audio/red":{source:"iana"},"audio/rtp-enc-aescm128":{source:"iana"},"audio/rtp-midi":{source:"iana"},"audio/rtploopback":{source:"iana"},"audio/rtx":{source:"iana"},"audio/s3m":{source:"apache",extensions:["s3m"]},"audio/scip":{source:"iana"},"audio/silk":{source:"apache",extensions:["sil"]},"audio/smv":{source:"iana"},"audio/smv-qcp":{source:"iana"},"audio/smv0":{source:"iana"},"audio/sofa":{source:"iana"},"audio/sp-midi":{source:"iana"},"audio/speex":{source:"iana"},"audio/t140c":{source:"iana"},"audio/t38":{source:"iana"},"audio/telephone-event":{source:"iana"},"audio/tetra_acelp":{source:"iana"},"audio/tetra_acelp_bb":{source:"iana"},"audio/tone":{source:"iana"},"audio/tsvcis":{source:"iana"},"audio/uemclip":{source:"iana"},"audio/ulpfec":{source:"iana"},"audio/usac":{source:"iana"},"audio/vdvi":{source:"iana"},"audio/vmr-wb":{source:"iana"},"audio/vnd.3gpp.iufp":{source:"iana"},"audio/vnd.4sb":{source:"iana"},"audio/vnd.audiokoz":{source:"iana"},"audio/vnd.celp":{source:"iana"},"audio/vnd.cisco.nse":{source:"iana"},"audio/vnd.cmles.radio-events":{source:"iana"},"audio/vnd.cns.anp1":{source:"iana"},"audio/vnd.cns.inf1":{source:"iana"},"audio/vnd.dece.audio":{source:"iana",extensions:["uva","uvva"]},"audio/vnd.digital-winds":{source:"iana",extensions:["eol"]},"audio/vnd.dlna.adts":{source:"iana"},"audio/vnd.dolby.heaac.1":{source:"iana"},"audio/vnd.dolby.heaac.2":{source:"iana"},"audio/vnd.dolby.mlp":{source:"iana"},"audio/vnd.dolby.mps":{source:"iana"},"audio/vnd.dolby.pl2":{source:"iana"},"audio/vnd.dolby.pl2x":{source:"iana"},"audio/vnd.dolby.pl2z":{source:"iana"},"audio/vnd.dolby.pulse.1":{source:"iana"},"audio/vnd.dra":{source:"iana",extensions:["dra"]},"audio/vnd.dts":{source:"iana",extensions:["dts"]},"audio/vnd.dts.hd":{source:"iana",extensions:["dtshd"]},"audio/vnd.dts.uhd":{source:"iana"},"audio/vnd.dvb.file":{source:"iana"},"audio/vnd.everad.plj":{source:"iana"},"audio/vnd.hns.audio":{source:"iana"},"audio/vnd.lucent.voice":{source:"iana",extensions:["lvp"]},"audio/vnd.ms-playready.media.pya":{source:"iana",extensions:["pya"]},"audio/vnd.nokia.mobile-xmf":{source:"iana"},"audio/vnd.nortel.vbk":{source:"iana"},"audio/vnd.nuera.ecelp4800":{source:"iana",extensions:["ecelp4800"]},"audio/vnd.nuera.ecelp7470":{source:"iana",extensions:["ecelp7470"]},"audio/vnd.nuera.ecelp9600":{source:"iana",extensions:["ecelp9600"]},"audio/vnd.octel.sbc":{source:"iana"},"audio/vnd.presonus.multitrack":{source:"iana"},"audio/vnd.qcelp":{source:"iana"},"audio/vnd.rhetorex.32kadpcm":{source:"iana"},"audio/vnd.rip":{source:"iana",extensions:["rip"]},"audio/vnd.rn-realaudio":{compressible:!1},"audio/vnd.sealedmedia.softseal.mpeg":{source:"iana"},"audio/vnd.vmx.cvsd":{source:"iana"},"audio/vnd.wave":{compressible:!1},"audio/vorbis":{source:"iana",compressible:!1},"audio/vorbis-config":{source:"iana"},"audio/wav":{compressible:!1,extensions:["wav"]},"audio/wave":{compressible:!1,extensions:["wav"]},"audio/webm":{source:"apache",compressible:!1,extensions:["weba"]},"audio/x-aac":{source:"apache",compressible:!1,extensions:["aac"]},"audio/x-aiff":{source:"apache",extensions:["aif","aiff","aifc"]},"audio/x-caf":{source:"apache",compressible:!1,extensions:["caf"]},"audio/x-flac":{source:"apache",extensions:["flac"]},"audio/x-m4a":{source:"nginx",extensions:["m4a"]},"audio/x-matroska":{source:"apache",extensions:["mka"]},"audio/x-mpegurl":{source:"apache",extensions:["m3u"]},"audio/x-ms-wax":{source:"apache",extensions:["wax"]},"audio/x-ms-wma":{source:"apache",extensions:["wma"]},"audio/x-pn-realaudio":{source:"apache",extensions:["ram","ra"]},"audio/x-pn-realaudio-plugin":{source:"apache",extensions:["rmp"]},"audio/x-realaudio":{source:"nginx",extensions:["ra"]},"audio/x-tta":{source:"apache"},"audio/x-wav":{source:"apache",extensions:["wav"]},"audio/xm":{source:"apache",extensions:["xm"]},"chemical/x-cdx":{source:"apache",extensions:["cdx"]},"chemical/x-cif":{source:"apache",extensions:["cif"]},"chemical/x-cmdf":{source:"apache",extensions:["cmdf"]},"chemical/x-cml":{source:"apache",extensions:["cml"]},"chemical/x-csml":{source:"apache",extensions:["csml"]},"chemical/x-pdb":{source:"apache"},"chemical/x-xyz":{source:"apache",extensions:["xyz"]},"font/collection":{source:"iana",extensions:["ttc"]},"font/otf":{source:"iana",compressible:!0,extensions:["otf"]},"font/sfnt":{source:"iana"},"font/ttf":{source:"iana",compressible:!0,extensions:["ttf"]},"font/woff":{source:"iana",extensions:["woff"]},"font/woff2":{source:"iana",extensions:["woff2"]},"image/aces":{source:"iana",extensions:["exr"]},"image/apng":{compressible:!1,extensions:["apng"]},"image/avci":{source:"iana",extensions:["avci"]},"image/avcs":{source:"iana",extensions:["avcs"]},"image/avif":{source:"iana",compressible:!1,extensions:["avif"]},"image/bmp":{source:"iana",compressible:!0,extensions:["bmp"]},"image/cgm":{source:"iana",extensions:["cgm"]},"image/dicom-rle":{source:"iana",extensions:["drle"]},"image/emf":{source:"iana",extensions:["emf"]},"image/fits":{source:"iana",extensions:["fits"]},"image/g3fax":{source:"iana",extensions:["g3"]},"image/gif":{source:"iana",compressible:!1,extensions:["gif"]},"image/heic":{source:"iana",extensions:["heic"]},"image/heic-sequence":{source:"iana",extensions:["heics"]},"image/heif":{source:"iana",extensions:["heif"]},"image/heif-sequence":{source:"iana",extensions:["heifs"]},"image/hej2k":{source:"iana",extensions:["hej2"]},"image/hsj2":{source:"iana",extensions:["hsj2"]},"image/ief":{source:"iana",extensions:["ief"]},"image/jls":{source:"iana",extensions:["jls"]},"image/jp2":{source:"iana",compressible:!1,extensions:["jp2","jpg2"]},"image/jpeg":{source:"iana",compressible:!1,extensions:["jpeg","jpg","jpe"]},"image/jph":{source:"iana",extensions:["jph"]},"image/jphc":{source:"iana",extensions:["jhc"]},"image/jpm":{source:"iana",compressible:!1,extensions:["jpm"]},"image/jpx":{source:"iana",compressible:!1,extensions:["jpx","jpf"]},"image/jxr":{source:"iana",extensions:["jxr"]},"image/jxra":{source:"iana",extensions:["jxra"]},"image/jxrs":{source:"iana",extensions:["jxrs"]},"image/jxs":{source:"iana",extensions:["jxs"]},"image/jxsc":{source:"iana",extensions:["jxsc"]},"image/jxsi":{source:"iana",extensions:["jxsi"]},"image/jxss":{source:"iana",extensions:["jxss"]},"image/ktx":{source:"iana",extensions:["ktx"]},"image/ktx2":{source:"iana",extensions:["ktx2"]},"image/naplps":{source:"iana"},"image/pjpeg":{compressible:!1},"image/png":{source:"iana",compressible:!1,extensions:["png"]},"image/prs.btif":{source:"iana",extensions:["btif"]},"image/prs.pti":{source:"iana",extensions:["pti"]},"image/pwg-raster":{source:"iana"},"image/sgi":{source:"apache",extensions:["sgi"]},"image/svg+xml":{source:"iana",compressible:!0,extensions:["svg","svgz"]},"image/t38":{source:"iana",extensions:["t38"]},"image/tiff":{source:"iana",compressible:!1,extensions:["tif","tiff"]},"image/tiff-fx":{source:"iana",extensions:["tfx"]},"image/vnd.adobe.photoshop":{source:"iana",compressible:!0,extensions:["psd"]},"image/vnd.airzip.accelerator.azv":{source:"iana",extensions:["azv"]},"image/vnd.cns.inf2":{source:"iana"},"image/vnd.dece.graphic":{source:"iana",extensions:["uvi","uvvi","uvg","uvvg"]},"image/vnd.djvu":{source:"iana",extensions:["djvu","djv"]},"image/vnd.dvb.subtitle":{source:"iana",extensions:["sub"]},"image/vnd.dwg":{source:"iana",extensions:["dwg"]},"image/vnd.dxf":{source:"iana",extensions:["dxf"]},"image/vnd.fastbidsheet":{source:"iana",extensions:["fbs"]},"image/vnd.fpx":{source:"iana",extensions:["fpx"]},"image/vnd.fst":{source:"iana",extensions:["fst"]},"image/vnd.fujixerox.edmics-mmr":{source:"iana",extensions:["mmr"]},"image/vnd.fujixerox.edmics-rlc":{source:"iana",extensions:["rlc"]},"image/vnd.globalgraphics.pgb":{source:"iana"},"image/vnd.microsoft.icon":{source:"iana",compressible:!0,extensions:["ico"]},"image/vnd.mix":{source:"iana"},"image/vnd.mozilla.apng":{source:"iana"},"image/vnd.ms-dds":{compressible:!0,extensions:["dds"]},"image/vnd.ms-modi":{source:"iana",extensions:["mdi"]},"image/vnd.ms-photo":{source:"apache",extensions:["wdp"]},"image/vnd.net-fpx":{source:"iana",extensions:["npx"]},"image/vnd.pco.b16":{source:"iana",extensions:["b16"]},"image/vnd.radiance":{source:"iana"},"image/vnd.sealed.png":{source:"iana"},"image/vnd.sealedmedia.softseal.gif":{source:"iana"},"image/vnd.sealedmedia.softseal.jpg":{source:"iana"},"image/vnd.svf":{source:"iana"},"image/vnd.tencent.tap":{source:"iana",extensions:["tap"]},"image/vnd.valve.source.texture":{source:"iana",extensions:["vtf"]},"image/vnd.wap.wbmp":{source:"iana",extensions:["wbmp"]},"image/vnd.xiff":{source:"iana",extensions:["xif"]},"image/vnd.zbrush.pcx":{source:"iana",extensions:["pcx"]},"image/webp":{source:"apache",extensions:["webp"]},"image/wmf":{source:"iana",extensions:["wmf"]},"image/x-3ds":{source:"apache",extensions:["3ds"]},"image/x-cmu-raster":{source:"apache",extensions:["ras"]},"image/x-cmx":{source:"apache",extensions:["cmx"]},"image/x-freehand":{source:"apache",extensions:["fh","fhc","fh4","fh5","fh7"]},"image/x-icon":{source:"apache",compressible:!0,extensions:["ico"]},"image/x-jng":{source:"nginx",extensions:["jng"]},"image/x-mrsid-image":{source:"apache",extensions:["sid"]},"image/x-ms-bmp":{source:"nginx",compressible:!0,extensions:["bmp"]},"image/x-pcx":{source:"apache",extensions:["pcx"]},"image/x-pict":{source:"apache",extensions:["pic","pct"]},"image/x-portable-anymap":{source:"apache",extensions:["pnm"]},"image/x-portable-bitmap":{source:"apache",extensions:["pbm"]},"image/x-portable-graymap":{source:"apache",extensions:["pgm"]},"image/x-portable-pixmap":{source:"apache",extensions:["ppm"]},"image/x-rgb":{source:"apache",extensions:["rgb"]},"image/x-tga":{source:"apache",extensions:["tga"]},"image/x-xbitmap":{source:"apache",extensions:["xbm"]},"image/x-xcf":{compressible:!1},"image/x-xpixmap":{source:"apache",extensions:["xpm"]},"image/x-xwindowdump":{source:"apache",extensions:["xwd"]},"message/cpim":{source:"iana"},"message/delivery-status":{source:"iana"},"message/disposition-notification":{source:"iana",extensions:["disposition-notification"]},"message/external-body":{source:"iana"},"message/feedback-report":{source:"iana"},"message/global":{source:"iana",extensions:["u8msg"]},"message/global-delivery-status":{source:"iana",extensions:["u8dsn"]},"message/global-disposition-notification":{source:"iana",extensions:["u8mdn"]},"message/global-headers":{source:"iana",extensions:["u8hdr"]},"message/http":{source:"iana",compressible:!1},"message/imdn+xml":{source:"iana",compressible:!0},"message/news":{source:"iana"},"message/partial":{source:"iana",compressible:!1},"message/rfc822":{source:"iana",compressible:!0,extensions:["eml","mime"]},"message/s-http":{source:"iana"},"message/sip":{source:"iana"},"message/sipfrag":{source:"iana"},"message/tracking-status":{source:"iana"},"message/vnd.si.simp":{source:"iana"},"message/vnd.wfa.wsc":{source:"iana",extensions:["wsc"]},"model/3mf":{source:"iana",extensions:["3mf"]},"model/e57":{source:"iana"},"model/gltf+json":{source:"iana",compressible:!0,extensions:["gltf"]},"model/gltf-binary":{source:"iana",compressible:!0,extensions:["glb"]},"model/iges":{source:"iana",compressible:!1,extensions:["igs","iges"]},"model/mesh":{source:"iana",compressible:!1,extensions:["msh","mesh","silo"]},"model/mtl":{source:"iana",extensions:["mtl"]},"model/obj":{source:"iana",extensions:["obj"]},"model/step":{source:"iana"},"model/step+xml":{source:"iana",compressible:!0,extensions:["stpx"]},"model/step+zip":{source:"iana",compressible:!1,extensions:["stpz"]},"model/step-xml+zip":{source:"iana",compressible:!1,extensions:["stpxz"]},"model/stl":{source:"iana",extensions:["stl"]},"model/vnd.collada+xml":{source:"iana",compressible:!0,extensions:["dae"]},"model/vnd.dwf":{source:"iana",extensions:["dwf"]},"model/vnd.flatland.3dml":{source:"iana"},"model/vnd.gdl":{source:"iana",extensions:["gdl"]},"model/vnd.gs-gdl":{source:"apache"},"model/vnd.gs.gdl":{source:"iana"},"model/vnd.gtw":{source:"iana",extensions:["gtw"]},"model/vnd.moml+xml":{source:"iana",compressible:!0},"model/vnd.mts":{source:"iana",extensions:["mts"]},"model/vnd.opengex":{source:"iana",extensions:["ogex"]},"model/vnd.parasolid.transmit.binary":{source:"iana",extensions:["x_b"]},"model/vnd.parasolid.transmit.text":{source:"iana",extensions:["x_t"]},"model/vnd.pytha.pyox":{source:"iana"},"model/vnd.rosette.annotated-data-model":{source:"iana"},"model/vnd.sap.vds":{source:"iana",extensions:["vds"]},"model/vnd.usdz+zip":{source:"iana",compressible:!1,extensions:["usdz"]},"model/vnd.valve.source.compiled-map":{source:"iana",extensions:["bsp"]},"model/vnd.vtu":{source:"iana",extensions:["vtu"]},"model/vrml":{source:"iana",compressible:!1,extensions:["wrl","vrml"]},"model/x3d+binary":{source:"apache",compressible:!1,extensions:["x3db","x3dbz"]},"model/x3d+fastinfoset":{source:"iana",extensions:["x3db"]},"model/x3d+vrml":{source:"apache",compressible:!1,extensions:["x3dv","x3dvz"]},"model/x3d+xml":{source:"iana",compressible:!0,extensions:["x3d","x3dz"]},"model/x3d-vrml":{source:"iana",extensions:["x3dv"]},"multipart/alternative":{source:"iana",compressible:!1},"multipart/appledouble":{source:"iana"},"multipart/byteranges":{source:"iana"},"multipart/digest":{source:"iana"},"multipart/encrypted":{source:"iana",compressible:!1},"multipart/form-data":{source:"iana",compressible:!1},"multipart/header-set":{source:"iana"},"multipart/mixed":{source:"iana"},"multipart/multilingual":{source:"iana"},"multipart/parallel":{source:"iana"},"multipart/related":{source:"iana",compressible:!1},"multipart/report":{source:"iana"},"multipart/signed":{source:"iana",compressible:!1},"multipart/vnd.bint.med-plus":{source:"iana"},"multipart/voice-message":{source:"iana"},"multipart/x-mixed-replace":{source:"iana"},"text/1d-interleaved-parityfec":{source:"iana"},"text/cache-manifest":{source:"iana",compressible:!0,extensions:["appcache","manifest"]},"text/calendar":{source:"iana",extensions:["ics","ifb"]},"text/calender":{compressible:!0},"text/cmd":{compressible:!0},"text/coffeescript":{extensions:["coffee","litcoffee"]},"text/cql":{source:"iana"},"text/cql-expression":{source:"iana"},"text/cql-identifier":{source:"iana"},"text/css":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["css"]},"text/csv":{source:"iana",compressible:!0,extensions:["csv"]},"text/csv-schema":{source:"iana"},"text/directory":{source:"iana"},"text/dns":{source:"iana"},"text/ecmascript":{source:"iana"},"text/encaprtp":{source:"iana"},"text/enriched":{source:"iana"},"text/fhirpath":{source:"iana"},"text/flexfec":{source:"iana"},"text/fwdred":{source:"iana"},"text/gff3":{source:"iana"},"text/grammar-ref-list":{source:"iana"},"text/html":{source:"iana",compressible:!0,extensions:["html","htm","shtml"]},"text/jade":{extensions:["jade"]},"text/javascript":{source:"iana",compressible:!0},"text/jcr-cnd":{source:"iana"},"text/jsx":{compressible:!0,extensions:["jsx"]},"text/less":{compressible:!0,extensions:["less"]},"text/markdown":{source:"iana",compressible:!0,extensions:["markdown","md"]},"text/mathml":{source:"nginx",extensions:["mml"]},"text/mdx":{compressible:!0,extensions:["mdx"]},"text/mizar":{source:"iana"},"text/n3":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["n3"]},"text/parameters":{source:"iana",charset:"UTF-8"},"text/parityfec":{source:"iana"},"text/plain":{source:"iana",compressible:!0,extensions:["txt","text","conf","def","list","log","in","ini"]},"text/provenance-notation":{source:"iana",charset:"UTF-8"},"text/prs.fallenstein.rst":{source:"iana"},"text/prs.lines.tag":{source:"iana",extensions:["dsc"]},"text/prs.prop.logic":{source:"iana"},"text/raptorfec":{source:"iana"},"text/red":{source:"iana"},"text/rfc822-headers":{source:"iana"},"text/richtext":{source:"iana",compressible:!0,extensions:["rtx"]},"text/rtf":{source:"iana",compressible:!0,extensions:["rtf"]},"text/rtp-enc-aescm128":{source:"iana"},"text/rtploopback":{source:"iana"},"text/rtx":{source:"iana"},"text/sgml":{source:"iana",extensions:["sgml","sgm"]},"text/shaclc":{source:"iana"},"text/shex":{source:"iana",extensions:["shex"]},"text/slim":{extensions:["slim","slm"]},"text/spdx":{source:"iana",extensions:["spdx"]},"text/strings":{source:"iana"},"text/stylus":{extensions:["stylus","styl"]},"text/t140":{source:"iana"},"text/tab-separated-values":{source:"iana",compressible:!0,extensions:["tsv"]},"text/troff":{source:"iana",extensions:["t","tr","roff","man","me","ms"]},"text/turtle":{source:"iana",charset:"UTF-8",extensions:["ttl"]},"text/ulpfec":{source:"iana"},"text/uri-list":{source:"iana",compressible:!0,extensions:["uri","uris","urls"]},"text/vcard":{source:"iana",compressible:!0,extensions:["vcard"]},"text/vnd.a":{source:"iana"},"text/vnd.abc":{source:"iana"},"text/vnd.ascii-art":{source:"iana"},"text/vnd.curl":{source:"iana",extensions:["curl"]},"text/vnd.curl.dcurl":{source:"apache",extensions:["dcurl"]},"text/vnd.curl.mcurl":{source:"apache",extensions:["mcurl"]},"text/vnd.curl.scurl":{source:"apache",extensions:["scurl"]},"text/vnd.debian.copyright":{source:"iana",charset:"UTF-8"},"text/vnd.dmclientscript":{source:"iana"},"text/vnd.dvb.subtitle":{source:"iana",extensions:["sub"]},"text/vnd.esmertec.theme-descriptor":{source:"iana",charset:"UTF-8"},"text/vnd.familysearch.gedcom":{source:"iana",extensions:["ged"]},"text/vnd.ficlab.flt":{source:"iana"},"text/vnd.fly":{source:"iana",extensions:["fly"]},"text/vnd.fmi.flexstor":{source:"iana",extensions:["flx"]},"text/vnd.gml":{source:"iana"},"text/vnd.graphviz":{source:"iana",extensions:["gv"]},"text/vnd.hans":{source:"iana"},"text/vnd.hgl":{source:"iana"},"text/vnd.in3d.3dml":{source:"iana",extensions:["3dml"]},"text/vnd.in3d.spot":{source:"iana",extensions:["spot"]},"text/vnd.iptc.newsml":{source:"iana"},"text/vnd.iptc.nitf":{source:"iana"},"text/vnd.latex-z":{source:"iana"},"text/vnd.motorola.reflex":{source:"iana"},"text/vnd.ms-mediapackage":{source:"iana"},"text/vnd.net2phone.commcenter.command":{source:"iana"},"text/vnd.radisys.msml-basic-layout":{source:"iana"},"text/vnd.senx.warpscript":{source:"iana"},"text/vnd.si.uricatalogue":{source:"iana"},"text/vnd.sosi":{source:"iana"},"text/vnd.sun.j2me.app-descriptor":{source:"iana",charset:"UTF-8",extensions:["jad"]},"text/vnd.trolltech.linguist":{source:"iana",charset:"UTF-8"},"text/vnd.wap.si":{source:"iana"},"text/vnd.wap.sl":{source:"iana"},"text/vnd.wap.wml":{source:"iana",extensions:["wml"]},"text/vnd.wap.wmlscript":{source:"iana",extensions:["wmls"]},"text/vtt":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["vtt"]},"text/x-asm":{source:"apache",extensions:["s","asm"]},"text/x-c":{source:"apache",extensions:["c","cc","cxx","cpp","h","hh","dic"]},"text/x-component":{source:"nginx",extensions:["htc"]},"text/x-fortran":{source:"apache",extensions:["f","for","f77","f90"]},"text/x-gwt-rpc":{compressible:!0},"text/x-handlebars-template":{extensions:["hbs"]},"text/x-java-source":{source:"apache",extensions:["java"]},"text/x-jquery-tmpl":{compressible:!0},"text/x-lua":{extensions:["lua"]},"text/x-markdown":{compressible:!0,extensions:["mkd"]},"text/x-nfo":{source:"apache",extensions:["nfo"]},"text/x-opml":{source:"apache",extensions:["opml"]},"text/x-org":{compressible:!0,extensions:["org"]},"text/x-pascal":{source:"apache",extensions:["p","pas"]},"text/x-processing":{compressible:!0,extensions:["pde"]},"text/x-sass":{extensions:["sass"]},"text/x-scss":{extensions:["scss"]},"text/x-setext":{source:"apache",extensions:["etx"]},"text/x-sfv":{source:"apache",extensions:["sfv"]},"text/x-suse-ymp":{compressible:!0,extensions:["ymp"]},"text/x-uuencode":{source:"apache",extensions:["uu"]},"text/x-vcalendar":{source:"apache",extensions:["vcs"]},"text/x-vcard":{source:"apache",extensions:["vcf"]},"text/xml":{source:"iana",compressible:!0,extensions:["xml"]},"text/xml-external-parsed-entity":{source:"iana"},"text/yaml":{compressible:!0,extensions:["yaml","yml"]},"video/1d-interleaved-parityfec":{source:"iana"},"video/3gpp":{source:"iana",extensions:["3gp","3gpp"]},"video/3gpp-tt":{source:"iana"},"video/3gpp2":{source:"iana",extensions:["3g2"]},"video/av1":{source:"iana"},"video/bmpeg":{source:"iana"},"video/bt656":{source:"iana"},"video/celb":{source:"iana"},"video/dv":{source:"iana"},"video/encaprtp":{source:"iana"},"video/ffv1":{source:"iana"},"video/flexfec":{source:"iana"},"video/h261":{source:"iana",extensions:["h261"]},"video/h263":{source:"iana",extensions:["h263"]},"video/h263-1998":{source:"iana"},"video/h263-2000":{source:"iana"},"video/h264":{source:"iana",extensions:["h264"]},"video/h264-rcdo":{source:"iana"},"video/h264-svc":{source:"iana"},"video/h265":{source:"iana"},"video/iso.segment":{source:"iana",extensions:["m4s"]},"video/jpeg":{source:"iana",extensions:["jpgv"]},"video/jpeg2000":{source:"iana"},"video/jpm":{source:"apache",extensions:["jpm","jpgm"]},"video/jxsv":{source:"iana"},"video/mj2":{source:"iana",extensions:["mj2","mjp2"]},"video/mp1s":{source:"iana"},"video/mp2p":{source:"iana"},"video/mp2t":{source:"iana",extensions:["ts"]},"video/mp4":{source:"iana",compressible:!1,extensions:["mp4","mp4v","mpg4"]},"video/mp4v-es":{source:"iana"},"video/mpeg":{source:"iana",compressible:!1,extensions:["mpeg","mpg","mpe","m1v","m2v"]},"video/mpeg4-generic":{source:"iana"},"video/mpv":{source:"iana"},"video/nv":{source:"iana"},"video/ogg":{source:"iana",compressible:!1,extensions:["ogv"]},"video/parityfec":{source:"iana"},"video/pointer":{source:"iana"},"video/quicktime":{source:"iana",compressible:!1,extensions:["qt","mov"]},"video/raptorfec":{source:"iana"},"video/raw":{source:"iana"},"video/rtp-enc-aescm128":{source:"iana"},"video/rtploopback":{source:"iana"},"video/rtx":{source:"iana"},"video/scip":{source:"iana"},"video/smpte291":{source:"iana"},"video/smpte292m":{source:"iana"},"video/ulpfec":{source:"iana"},"video/vc1":{source:"iana"},"video/vc2":{source:"iana"},"video/vnd.cctv":{source:"iana"},"video/vnd.dece.hd":{source:"iana",extensions:["uvh","uvvh"]},"video/vnd.dece.mobile":{source:"iana",extensions:["uvm","uvvm"]},"video/vnd.dece.mp4":{source:"iana"},"video/vnd.dece.pd":{source:"iana",extensions:["uvp","uvvp"]},"video/vnd.dece.sd":{source:"iana",extensions:["uvs","uvvs"]},"video/vnd.dece.video":{source:"iana",extensions:["uvv","uvvv"]},"video/vnd.directv.mpeg":{source:"iana"},"video/vnd.directv.mpeg-tts":{source:"iana"},"video/vnd.dlna.mpeg-tts":{source:"iana"},"video/vnd.dvb.file":{source:"iana",extensions:["dvb"]},"video/vnd.fvt":{source:"iana",extensions:["fvt"]},"video/vnd.hns.video":{source:"iana"},"video/vnd.iptvforum.1dparityfec-1010":{source:"iana"},"video/vnd.iptvforum.1dparityfec-2005":{source:"iana"},"video/vnd.iptvforum.2dparityfec-1010":{source:"iana"},"video/vnd.iptvforum.2dparityfec-2005":{source:"iana"},"video/vnd.iptvforum.ttsavc":{source:"iana"},"video/vnd.iptvforum.ttsmpeg2":{source:"iana"},"video/vnd.motorola.video":{source:"iana"},"video/vnd.motorola.videop":{source:"iana"},"video/vnd.mpegurl":{source:"iana",extensions:["mxu","m4u"]},"video/vnd.ms-playready.media.pyv":{source:"iana",extensions:["pyv"]},"video/vnd.nokia.interleaved-multimedia":{source:"iana"},"video/vnd.nokia.mp4vr":{source:"iana"},"video/vnd.nokia.videovoip":{source:"iana"},"video/vnd.objectvideo":{source:"iana"},"video/vnd.radgamettools.bink":{source:"iana"},"video/vnd.radgamettools.smacker":{source:"iana"},"video/vnd.sealed.mpeg1":{source:"iana"},"video/vnd.sealed.mpeg4":{source:"iana"},"video/vnd.sealed.swf":{source:"iana"},"video/vnd.sealedmedia.softseal.mov":{source:"iana"},"video/vnd.uvvu.mp4":{source:"iana",extensions:["uvu","uvvu"]},"video/vnd.vivo":{source:"iana",extensions:["viv"]},"video/vnd.youtube.yt":{source:"iana"},"video/vp8":{source:"iana"},"video/vp9":{source:"iana"},"video/webm":{source:"apache",compressible:!1,extensions:["webm"]},"video/x-f4v":{source:"apache",extensions:["f4v"]},"video/x-fli":{source:"apache",extensions:["fli"]},"video/x-flv":{source:"apache",compressible:!1,extensions:["flv"]},"video/x-m4v":{source:"apache",extensions:["m4v"]},"video/x-matroska":{source:"apache",compressible:!1,extensions:["mkv","mk3d","mks"]},"video/x-mng":{source:"apache",extensions:["mng"]},"video/x-ms-asf":{source:"apache",extensions:["asf","asx"]},"video/x-ms-vob":{source:"apache",extensions:["vob"]},"video/x-ms-wm":{source:"apache",extensions:["wm"]},"video/x-ms-wmv":{source:"apache",compressible:!1,extensions:["wmv"]},"video/x-ms-wmx":{source:"apache",extensions:["wmx"]},"video/x-ms-wvx":{source:"apache",extensions:["wvx"]},"video/x-msvideo":{source:"apache",extensions:["avi"]},"video/x-sgi-movie":{source:"apache",extensions:["movie"]},"video/x-smv":{source:"apache",extensions:["smv"]},"x-conference/x-cooltalk":{source:"apache",extensions:["ice"]},"x-shader/x-fragment":{compressible:!0},"x-shader/x-vertex":{compressible:!0}}});var Iw=j((ZJ,Ow)=>{Ow.exports=Tw()});var jw=j(nr=>{"use strict";var Ll=Iw(),HM=require("path").extname,Aw=/^\s*([^;\s]*)(?:;|\s|$)/,GM=/^text\//i;nr.charset=kw;nr.charsets={lookup:kw};nr.contentType=WM;nr.extension=KM;nr.extensions=Object.create(null);nr.lookup=JM;nr.types=Object.create(null);QM(nr.extensions,nr.types);function kw(t){if(!t||typeof t!="string")return!1;var e=Aw.exec(t),r=e&&Ll[e[1].toLowerCase()];return r&&r.charset?r.charset:e&&GM.test(e[1])?"UTF-8":!1}function WM(t){if(!t||typeof t!="string")return!1;var e=t.indexOf("/")===-1?nr.lookup(t):t;if(!e)return!1;if(e.indexOf("charset")===-1){var r=nr.charset(e);r&&(e+="; charset="+r.toLowerCase())}return e}function KM(t){if(!t||typeof t!="string")return!1;var e=Aw.exec(t),r=e&&nr.extensions[e[1].toLowerCase()];return!r||!r.length?!1:r[0]}function JM(t){if(!t||typeof t!="string")return!1;var e=HM("x."+t).toLowerCase().substr(1);return e&&nr.types[e]||!1}function QM(t,e){var r=["nginx","apache",void 0,"iana"];Object.keys(Ll).forEach(function(s){var i=Ll[s],n=i.extensions;if(!(!n||!n.length)){t[s]=n;for(var o=0;o<n.length;o++){var l=n[o];if(e[l]){var c=r.indexOf(Ll[e[l]].source),u=r.indexOf(i.source);if(e[l]!=="application/octet-stream"&&(c>u||c===u&&e[l].substr(0,12)==="application/"))continue}e[l]=s}}})}});var Nw=j((HJ,Dw)=>{Dw.exports=YM;function YM(t){var e=typeof setImmediate=="function"?setImmediate:typeof process=="object"&&typeof process.nextTick=="function"?process.nextTick:null;e?e(t):setTimeout(t,0)}});var tm=j((GJ,Lw)=>{var $w=Nw();Lw.exports=XM;function XM(t){var e=!1;return $w(function(){e=!0}),function(a,s){e?t(a,s):$w(function(){t(a,s)})}}});var rm=j((WJ,Fw)=>{Fw.exports=eU;function eU(t){Object.keys(t.jobs).forEach(tU.bind(t)),t.jobs={}}function tU(t){typeof this.jobs[t]=="function"&&this.jobs[t]()}});var am=j((KJ,Mw)=>{var qw=tm(),rU=rm();Mw.exports=aU;function aU(t,e,r,a){var s=r.keyedList?r.keyedList[r.index]:r.index;r.jobs[s]=sU(e,s,t[s],function(i,n){s in r.jobs&&(delete r.jobs[s],i?rU(r):r.results[s]=n,a(i,r.results))})}function sU(t,e,r,a){var s;return t.length==2?s=t(r,qw(a)):s=t(r,e,qw(a)),s}});var sm=j((JJ,Uw)=>{Uw.exports=nU;function nU(t,e){var r=!Array.isArray(t),a={index:0,keyedList:r||e?Object.keys(t):null,jobs:{},results:r?{}:[],size:r?Object.keys(t).length:t.length};return e&&a.keyedList.sort(r?e:function(s,i){return e(t[s],t[i])}),a}});var nm=j((QJ,zw)=>{var iU=rm(),oU=tm();zw.exports=cU;function cU(t){Object.keys(this.jobs).length&&(this.index=this.size,iU(this),oU(t)(null,this.results))}});var Zw=j((YJ,Bw)=>{var lU=am(),uU=sm(),dU=nm();Bw.exports=pU;function pU(t,e,r){for(var a=uU(t);a.index<(a.keyedList||t).length;)lU(t,e,a,function(s,i){if(s){r(s,i);return}if(Object.keys(a.jobs).length===0){r(null,a.results);return}}),a.index++;return dU.bind(a,r)}});var im=j((XJ,Fl)=>{var Vw=am(),fU=sm(),mU=nm();Fl.exports=hU;Fl.exports.ascending=Hw;Fl.exports.descending=vU;function hU(t,e,r,a){var s=fU(t,r);return Vw(t,e,s,function i(n,o){if(n){a(n,o);return}if(s.index++,s.index<(s.keyedList||t).length){Vw(t,e,s,i);return}a(null,s.results)}),mU.bind(s,a)}function Hw(t,e){return t<e?-1:t>e?1:0}function vU(t,e){return-1*Hw(t,e)}});var Ww=j((e7,Gw)=>{var gU=im();Gw.exports=yU;function yU(t,e,r){return gU(t,e,null,r)}});var Jw=j((t7,Kw)=>{Kw.exports={parallel:Zw(),serial:Ww(),serialOrdered:im()}});var om=j((r7,Qw)=>{"use strict";Qw.exports=Object});var Xw=j((a7,Yw)=>{"use strict";Yw.exports=Error});var tS=j((s7,eS)=>{"use strict";eS.exports=EvalError});var aS=j((n7,rS)=>{"use strict";rS.exports=RangeError});var nS=j((i7,sS)=>{"use strict";sS.exports=ReferenceError});var oS=j((o7,iS)=>{"use strict";iS.exports=SyntaxError});var ql=j((c7,cS)=>{"use strict";cS.exports=TypeError});var uS=j((l7,lS)=>{"use strict";lS.exports=URIError});var pS=j((u7,dS)=>{"use strict";dS.exports=Math.abs});var mS=j((d7,fS)=>{"use strict";fS.exports=Math.floor});var vS=j((p7,hS)=>{"use strict";hS.exports=Math.max});var yS=j((f7,gS)=>{"use strict";gS.exports=Math.min});var bS=j((m7,xS)=>{"use strict";xS.exports=Math.pow});var wS=j((h7,_S)=>{"use strict";_S.exports=Math.round});var ES=j((v7,SS)=>{"use strict";SS.exports=Number.isNaN||function(e){return e!==e}});var RS=j((g7,PS)=>{"use strict";var xU=ES();PS.exports=function(e){return xU(e)||e===0?e:e<0?-1:1}});var TS=j((y7,CS)=>{"use strict";CS.exports=Object.getOwnPropertyDescriptor});var cm=j((x7,OS)=>{"use strict";var Ml=TS();if(Ml)try{Ml([],"length")}catch{Ml=null}OS.exports=Ml});var AS=j((b7,IS)=>{"use strict";var Ul=Object.defineProperty||!1;if(Ul)try{Ul({},"a",{value:1})}catch{Ul=!1}IS.exports=Ul});var lm=j((_7,kS)=>{"use strict";kS.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),a=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(a)!=="[object Symbol]")return!1;var s=42;e[r]=s;for(var i in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var n=Object.getOwnPropertySymbols(e);if(n.length!==1||n[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(e,r);if(o.value!==s||o.enumerable!==!0)return!1}return!0}});var NS=j((w7,DS)=>{"use strict";var jS=typeof Symbol<"u"&&Symbol,bU=lm();DS.exports=function(){return typeof jS!="function"||typeof Symbol!="function"||typeof jS("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:bU()}});var um=j((S7,$S)=>{"use strict";$S.exports=typeof Reflect<"u"&&Reflect.getPrototypeOf||null});var dm=j((E7,LS)=>{"use strict";var _U=om();LS.exports=_U.getPrototypeOf||null});var MS=j((P7,qS)=>{"use strict";var wU="Function.prototype.bind called on incompatible ",SU=Object.prototype.toString,EU=Math.max,PU="[object Function]",FS=function(e,r){for(var a=[],s=0;s<e.length;s+=1)a[s]=e[s];for(var i=0;i<r.length;i+=1)a[i+e.length]=r[i];return a},RU=function(e,r){for(var a=[],s=r||0,i=0;s<e.length;s+=1,i+=1)a[i]=e[s];return a},CU=function(t,e){for(var r="",a=0;a<t.length;a+=1)r+=t[a],a+1<t.length&&(r+=e);return r};qS.exports=function(e){var r=this;if(typeof r!="function"||SU.apply(r)!==PU)throw new TypeError(wU+r);for(var a=RU(arguments,1),s,i=function(){if(this instanceof s){var u=r.apply(this,FS(a,arguments));return Object(u)===u?u:this}return r.apply(e,FS(a,arguments))},n=EU(0,r.length-a.length),o=[],l=0;l<n;l++)o[l]="$"+l;if(s=Function("binder","return function ("+CU(o,",")+"){ return binder.apply(this,arguments); }")(i),r.prototype){var c=function(){};c.prototype=r.prototype,s.prototype=new c,c.prototype=null}return s}});var Fo=j((R7,US)=>{"use strict";var TU=MS();US.exports=Function.prototype.bind||TU});var zl=j((C7,zS)=>{"use strict";zS.exports=Function.prototype.call});var pm=j((T7,BS)=>{"use strict";BS.exports=Function.prototype.apply});var VS=j((O7,ZS)=>{"use strict";ZS.exports=typeof Reflect<"u"&&Reflect&&Reflect.apply});var GS=j((I7,HS)=>{"use strict";var OU=Fo(),IU=pm(),AU=zl(),kU=VS();HS.exports=kU||OU.call(AU,IU)});var KS=j((A7,WS)=>{"use strict";var jU=Fo(),DU=ql(),NU=zl(),$U=GS();WS.exports=function(e){if(e.length<1||typeof e[0]!="function")throw new DU("a function is required");return $U(jU,NU,e)}});var tE=j((k7,eE)=>{"use strict";var LU=KS(),JS=cm(),YS;try{YS=[].__proto__===Array.prototype}catch(t){if(!t||typeof t!="object"||!("code"in t)||t.code!=="ERR_PROTO_ACCESS")throw t}var fm=!!YS&&JS&&JS(Object.prototype,"__proto__"),XS=Object,QS=XS.getPrototypeOf;eE.exports=fm&&typeof fm.get=="function"?LU([fm.get]):typeof QS=="function"?function(e){return QS(e==null?e:XS(e))}:!1});var iE=j((j7,nE)=>{"use strict";var rE=um(),aE=dm(),sE=tE();nE.exports=rE?function(e){return rE(e)}:aE?function(e){if(!e||typeof e!="object"&&typeof e!="function")throw new TypeError("getProto: not an object");return aE(e)}:sE?function(e){return sE(e)}:null});var mm=j((D7,oE)=>{"use strict";var FU=Function.prototype.call,qU=Object.prototype.hasOwnProperty,MU=Fo();oE.exports=MU.call(FU,qU)});var mE=j((N7,fE)=>{"use strict";var Xe,UU=om(),zU=Xw(),BU=tS(),ZU=aS(),VU=nS(),Ei=oS(),Si=ql(),HU=uS(),GU=pS(),WU=mS(),KU=vS(),JU=yS(),QU=bS(),YU=wS(),XU=RS(),dE=Function,hm=function(t){try{return dE('"use strict"; return ('+t+").constructor;")()}catch{}},qo=cm(),ez=AS(),vm=function(){throw new Si},tz=qo?function(){try{return arguments.callee,vm}catch{try{return qo(arguments,"callee").get}catch{return vm}}}():vm,_i=NS()(),kt=iE(),rz=dm(),az=um(),pE=pm(),Mo=zl(),wi={},sz=typeof Uint8Array>"u"||!kt?Xe:kt(Uint8Array),nn={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?Xe:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?Xe:ArrayBuffer,"%ArrayIteratorPrototype%":_i&&kt?kt([][Symbol.iterator]()):Xe,"%AsyncFromSyncIteratorPrototype%":Xe,"%AsyncFunction%":wi,"%AsyncGenerator%":wi,"%AsyncGeneratorFunction%":wi,"%AsyncIteratorPrototype%":wi,"%Atomics%":typeof Atomics>"u"?Xe:Atomics,"%BigInt%":typeof BigInt>"u"?Xe:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?Xe:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?Xe:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?Xe:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":zU,"%eval%":eval,"%EvalError%":BU,"%Float16Array%":typeof Float16Array>"u"?Xe:Float16Array,"%Float32Array%":typeof Float32Array>"u"?Xe:Float32Array,"%Float64Array%":typeof Float64Array>"u"?Xe:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?Xe:FinalizationRegistry,"%Function%":dE,"%GeneratorFunction%":wi,"%Int8Array%":typeof Int8Array>"u"?Xe:Int8Array,"%Int16Array%":typeof Int16Array>"u"?Xe:Int16Array,"%Int32Array%":typeof Int32Array>"u"?Xe:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":_i&&kt?kt(kt([][Symbol.iterator]())):Xe,"%JSON%":typeof JSON=="object"?JSON:Xe,"%Map%":typeof Map>"u"?Xe:Map,"%MapIteratorPrototype%":typeof Map>"u"||!_i||!kt?Xe:kt(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":UU,"%Object.getOwnPropertyDescriptor%":qo,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?Xe:Promise,"%Proxy%":typeof Proxy>"u"?Xe:Proxy,"%RangeError%":ZU,"%ReferenceError%":VU,"%Reflect%":typeof Reflect>"u"?Xe:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?Xe:Set,"%SetIteratorPrototype%":typeof Set>"u"||!_i||!kt?Xe:kt(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?Xe:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":_i&&kt?kt(""[Symbol.iterator]()):Xe,"%Symbol%":_i?Symbol:Xe,"%SyntaxError%":Ei,"%ThrowTypeError%":tz,"%TypedArray%":sz,"%TypeError%":Si,"%Uint8Array%":typeof Uint8Array>"u"?Xe:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?Xe:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?Xe:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?Xe:Uint32Array,"%URIError%":HU,"%WeakMap%":typeof WeakMap>"u"?Xe:WeakMap,"%WeakRef%":typeof WeakRef>"u"?Xe:WeakRef,"%WeakSet%":typeof WeakSet>"u"?Xe:WeakSet,"%Function.prototype.call%":Mo,"%Function.prototype.apply%":pE,"%Object.defineProperty%":ez,"%Object.getPrototypeOf%":rz,"%Math.abs%":GU,"%Math.floor%":WU,"%Math.max%":KU,"%Math.min%":JU,"%Math.pow%":QU,"%Math.round%":YU,"%Math.sign%":XU,"%Reflect.getPrototypeOf%":az};if(kt)try{null.error}catch(t){cE=kt(kt(t)),nn["%Error.prototype%"]=cE}var cE,nz=function t(e){var r;if(e==="%AsyncFunction%")r=hm("async function () {}");else if(e==="%GeneratorFunction%")r=hm("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=hm("async function* () {}");else if(e==="%AsyncGenerator%"){var a=t("%AsyncGeneratorFunction%");a&&(r=a.prototype)}else if(e==="%AsyncIteratorPrototype%"){var s=t("%AsyncGenerator%");s&&kt&&(r=kt(s.prototype))}return nn[e]=r,r},lE={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Uo=Fo(),Bl=mm(),iz=Uo.call(Mo,Array.prototype.concat),oz=Uo.call(pE,Array.prototype.splice),uE=Uo.call(Mo,String.prototype.replace),Zl=Uo.call(Mo,String.prototype.slice),cz=Uo.call(Mo,RegExp.prototype.exec),lz=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,uz=/\\(\\)?/g,dz=function(e){var r=Zl(e,0,1),a=Zl(e,-1);if(r==="%"&&a!=="%")throw new Ei("invalid intrinsic syntax, expected closing `%`");if(a==="%"&&r!=="%")throw new Ei("invalid intrinsic syntax, expected opening `%`");var s=[];return uE(e,lz,function(i,n,o,l){s[s.length]=o?uE(l,uz,"$1"):n||i}),s},pz=function(e,r){var a=e,s;if(Bl(lE,a)&&(s=lE[a],a="%"+s[0]+"%"),Bl(nn,a)){var i=nn[a];if(i===wi&&(i=nz(a)),typeof i>"u"&&!r)throw new Si("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:s,name:a,value:i}}throw new Ei("intrinsic "+e+" does not exist!")};fE.exports=function(e,r){if(typeof e!="string"||e.length===0)throw new Si("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new Si('"allowMissing" argument must be a boolean');if(cz(/^%?[^%]*%?$/,e)===null)throw new Ei("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var a=dz(e),s=a.length>0?a[0]:"",i=pz("%"+s+"%",r),n=i.name,o=i.value,l=!1,c=i.alias;c&&(s=c[0],oz(a,iz([0,1],c)));for(var u=1,d=!0;u<a.length;u+=1){var h=a[u],p=Zl(h,0,1),m=Zl(h,-1);if((p==='"'||p==="'"||p==="`"||m==='"'||m==="'"||m==="`")&&p!==m)throw new Ei("property names with quotes must have matching quotes");if((h==="constructor"||!d)&&(l=!0),s+="."+h,n="%"+s+"%",Bl(nn,n))o=nn[n];else if(o!=null){if(!(h in o)){if(!r)throw new Si("base intrinsic for "+e+" exists, but the property is not available.");return}if(qo&&u+1>=a.length){var f=qo(o,h);d=!!f,d&&"get"in f&&!("originalValue"in f.get)?o=f.get:o=o[h]}else d=Bl(o,h),o=o[h];d&&!l&&(nn[n]=o)}}return o}});var vE=j(($7,hE)=>{"use strict";var fz=lm();hE.exports=function(){return fz()&&!!Symbol.toStringTag}});var xE=j((L7,yE)=>{"use strict";var mz=mE(),gE=mz("%Object.defineProperty%",!0),hz=vE()(),vz=mm(),gz=ql(),Vl=hz?Symbol.toStringTag:null;yE.exports=function(e,r){var a=arguments.length>2&&!!arguments[2]&&arguments[2].force,s=arguments.length>2&&!!arguments[2]&&arguments[2].nonConfigurable;if(typeof a<"u"&&typeof a!="boolean"||typeof s<"u"&&typeof s!="boolean")throw new gz("if provided, the `overrideIfSet` and `nonConfigurable` options must be booleans");Vl&&(a||!vz(e,Vl))&&(gE?gE(e,Vl,{configurable:!s,enumerable:!1,value:r,writable:!1}):e[Vl]=r)}});var _E=j((F7,bE)=>{bE.exports=function(t,e){return Object.keys(e).forEach(function(r){t[r]=t[r]||e[r]}),t}});var SE=j((q7,wE)=>{var bm=Cw(),yz=require("util"),gm=require("path"),xz=require("http"),bz=require("https"),_z=require("url").parse,wz=require("fs"),Sz=require("stream").Stream,ym=jw(),Ez=Jw(),Pz=xE(),xm=_E();wE.exports=st;yz.inherits(st,bm);function st(t){if(!(this instanceof st))return new st(t);this._overheadLength=0,this._valueLength=0,this._valuesToMeasure=[],bm.call(this),t=t||{};for(var e in t)this[e]=t[e]}st.LINE_BREAK=`\r
`;st.DEFAULT_CONTENT_TYPE="application/octet-stream";st.prototype.append=function(t,e,r){r=r||{},typeof r=="string"&&(r={filename:r});var a=bm.prototype.append.bind(this);if(typeof e=="number"&&(e=""+e),Array.isArray(e)){this._error(new Error("Arrays are not supported."));return}var s=this._multiPartHeader(t,e,r),i=this._multiPartFooter();a(s),a(e),a(i),this._trackLength(s,e,r)};st.prototype._trackLength=function(t,e,r){var a=0;r.knownLength!=null?a+=+r.knownLength:Buffer.isBuffer(e)?a=e.length:typeof e=="string"&&(a=Buffer.byteLength(e)),this._valueLength+=a,this._overheadLength+=Buffer.byteLength(t)+st.LINE_BREAK.length,!(!e||!e.path&&!(e.readable&&Object.prototype.hasOwnProperty.call(e,"httpVersion"))&&!(e instanceof Sz))&&(r.knownLength||this._valuesToMeasure.push(e))};st.prototype._lengthRetriever=function(t,e){Object.prototype.hasOwnProperty.call(t,"fd")?t.end!=null&&t.end!=1/0&&t.start!=null?e(null,t.end+1-(t.start?t.start:0)):wz.stat(t.path,function(r,a){var s;if(r){e(r);return}s=a.size-(t.start?t.start:0),e(null,s)}):Object.prototype.hasOwnProperty.call(t,"httpVersion")?e(null,+t.headers["content-length"]):Object.prototype.hasOwnProperty.call(t,"httpModule")?(t.on("response",function(r){t.pause(),e(null,+r.headers["content-length"])}),t.resume()):e("Unknown stream")};st.prototype._multiPartHeader=function(t,e,r){if(typeof r.header=="string")return r.header;var a=this._getContentDisposition(e,r),s=this._getContentType(e,r),i="",n={"Content-Disposition":["form-data",'name="'+t+'"'].concat(a||[]),"Content-Type":[].concat(s||[])};typeof r.header=="object"&&xm(n,r.header);var o;for(var l in n)if(Object.prototype.hasOwnProperty.call(n,l)){if(o=n[l],o==null)continue;Array.isArray(o)||(o=[o]),o.length&&(i+=l+": "+o.join("; ")+st.LINE_BREAK)}return"--"+this.getBoundary()+st.LINE_BREAK+i+st.LINE_BREAK};st.prototype._getContentDisposition=function(t,e){var r,a;return typeof e.filepath=="string"?r=gm.normalize(e.filepath).replace(/\\/g,"/"):e.filename||t.name||t.path?r=gm.basename(e.filename||t.name||t.path):t.readable&&Object.prototype.hasOwnProperty.call(t,"httpVersion")&&(r=gm.basename(t.client._httpMessage.path||"")),r&&(a='filename="'+r+'"'),a};st.prototype._getContentType=function(t,e){var r=e.contentType;return!r&&t.name&&(r=ym.lookup(t.name)),!r&&t.path&&(r=ym.lookup(t.path)),!r&&t.readable&&Object.prototype.hasOwnProperty.call(t,"httpVersion")&&(r=t.headers["content-type"]),!r&&(e.filepath||e.filename)&&(r=ym.lookup(e.filepath||e.filename)),!r&&typeof t=="object"&&(r=st.DEFAULT_CONTENT_TYPE),r};st.prototype._multiPartFooter=function(){return function(t){var e=st.LINE_BREAK,r=this._streams.length===0;r&&(e+=this._lastBoundary()),t(e)}.bind(this)};st.prototype._lastBoundary=function(){return"--"+this.getBoundary()+"--"+st.LINE_BREAK};st.prototype.getHeaders=function(t){var e,r={"content-type":"multipart/form-data; boundary="+this.getBoundary()};for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&(r[e.toLowerCase()]=t[e]);return r};st.prototype.setBoundary=function(t){this._boundary=t};st.prototype.getBoundary=function(){return this._boundary||this._generateBoundary(),this._boundary};st.prototype.getBuffer=function(){for(var t=new Buffer.alloc(0),e=this.getBoundary(),r=0,a=this._streams.length;r<a;r++)typeof this._streams[r]!="function"&&(Buffer.isBuffer(this._streams[r])?t=Buffer.concat([t,this._streams[r]]):t=Buffer.concat([t,Buffer.from(this._streams[r])]),(typeof this._streams[r]!="string"||this._streams[r].substring(2,e.length+2)!==e)&&(t=Buffer.concat([t,Buffer.from(st.LINE_BREAK)])));return Buffer.concat([t,Buffer.from(this._lastBoundary())])};st.prototype._generateBoundary=function(){for(var t="--------------------------",e=0;e<24;e++)t+=Math.floor(Math.random()*10).toString(16);this._boundary=t};st.prototype.getLengthSync=function(){var t=this._overheadLength+this._valueLength;return this._streams.length&&(t+=this._lastBoundary().length),this.hasKnownLength()||this._error(new Error("Cannot calculate proper length in synchronous way.")),t};st.prototype.hasKnownLength=function(){var t=!0;return this._valuesToMeasure.length&&(t=!1),t};st.prototype.getLength=function(t){var e=this._overheadLength+this._valueLength;if(this._streams.length&&(e+=this._lastBoundary().length),!this._valuesToMeasure.length){process.nextTick(t.bind(this,null,e));return}Ez.parallel(this._valuesToMeasure,this._lengthRetriever,function(r,a){if(r){t(r);return}a.forEach(function(s){e+=s}),t(null,e)})};st.prototype.submit=function(t,e){var r,a,s={method:"post"};return typeof t=="string"?(t=_z(t),a=xm({port:t.port,path:t.pathname,host:t.hostname,protocol:t.protocol},s)):(a=xm(t,s),a.port||(a.port=a.protocol=="https:"?443:80)),a.headers=this.getHeaders(t.headers),a.protocol=="https:"?r=bz.request(a):r=xz.request(a),this.getLength(function(i,n){if(i&&i!=="Unknown stream"){this._error(i);return}if(n&&r.setHeader("Content-Length",n),this.pipe(r),e){var o,l=function(c,u){return r.removeListener("error",l),r.removeListener("response",o),e.call(this,c,u)};o=l.bind(this,null),r.on("error",l),r.on("response",o)}}.bind(this)),r};st.prototype._error=function(t){this.error||(this.error=t,this.pause(),this.emit("error",t))};st.prototype.toString=function(){return"[object FormData]"};Pz(st,"FormData")});var UE=j(ME=>{"use strict";var Bz=require("url").parse,Zz={ftp:21,gopher:70,http:80,https:443,ws:80,wss:443},Vz=String.prototype.endsWith||function(t){return t.length<=this.length&&this.indexOf(t,this.length-t.length)!==-1};function Hz(t){var e=typeof t=="string"?Bz(t):t||{},r=e.protocol,a=e.host,s=e.port;if(typeof a!="string"||!a||typeof r!="string"||(r=r.split(":",1)[0],a=a.replace(/:\d*$/,""),s=parseInt(s)||Zz[r]||0,!Gz(a,s)))return"";var i=Ti("npm_config_"+r+"_proxy")||Ti(r+"_proxy")||Ti("npm_config_proxy")||Ti("all_proxy");return i&&i.indexOf("://")===-1&&(i=r+"://"+i),i}function Gz(t,e){var r=(Ti("npm_config_no_proxy")||Ti("no_proxy")).toLowerCase();return r?r==="*"?!1:r.split(/[,\s]/).every(function(a){if(!a)return!0;var s=a.match(/^(.+):(\d+)$/),i=s?s[1]:a,n=s?parseInt(s[2]):0;return n&&n!==e?!0:/^[.*]/.test(i)?(i.charAt(0)==="*"&&(i=i.slice(1)),!Vz.call(t,i)):t!==i}):!0}function Ti(t){return process.env[t.toLowerCase()]||process.env[t.toUpperCase()]||""}ME.getProxyForUrl=Hz});var BE=j((MQ,zE)=>{var Oi=1e3,Ii=Oi*60,Ai=Ii*60,ln=Ai*24,Wz=ln*7,Kz=ln*365.25;zE.exports=function(t,e){e=e||{};var r=typeof t;if(r==="string"&&t.length>0)return Jz(t);if(r==="number"&&isFinite(t))return e.long?Yz(t):Qz(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function Jz(t){if(t=String(t),!(t.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(e){var r=parseFloat(e[1]),a=(e[2]||"ms").toLowerCase();switch(a){case"years":case"year":case"yrs":case"yr":case"y":return r*Kz;case"weeks":case"week":case"w":return r*Wz;case"days":case"day":case"d":return r*ln;case"hours":case"hour":case"hrs":case"hr":case"h":return r*Ai;case"minutes":case"minute":case"mins":case"min":case"m":return r*Ii;case"seconds":case"second":case"secs":case"sec":case"s":return r*Oi;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function Qz(t){var e=Math.abs(t);return e>=ln?Math.round(t/ln)+"d":e>=Ai?Math.round(t/Ai)+"h":e>=Ii?Math.round(t/Ii)+"m":e>=Oi?Math.round(t/Oi)+"s":t+"ms"}function Yz(t){var e=Math.abs(t);return e>=ln?Kl(t,e,ln,"day"):e>=Ai?Kl(t,e,Ai,"hour"):e>=Ii?Kl(t,e,Ii,"minute"):e>=Oi?Kl(t,e,Oi,"second"):t+" ms"}function Kl(t,e,r,a){var s=e>=r*1.5;return Math.round(t/r)+" "+a+(s?"s":"")}});var jm=j((UQ,ZE)=>{function Xz(t){r.debug=r,r.default=r,r.coerce=l,r.disable=n,r.enable=s,r.enabled=o,r.humanize=BE(),r.destroy=c,Object.keys(t).forEach(u=>{r[u]=t[u]}),r.names=[],r.skips=[],r.formatters={};function e(u){let d=0;for(let h=0;h<u.length;h++)d=(d<<5)-d+u.charCodeAt(h),d|=0;return r.colors[Math.abs(d)%r.colors.length]}r.selectColor=e;function r(u){let d,h=null,p,m;function f(...v){if(!f.enabled)return;let g=f,b=Number(new Date),w=b-(d||b);g.diff=w,g.prev=d,g.curr=b,d=b,v[0]=r.coerce(v[0]),typeof v[0]!="string"&&v.unshift("%O");let C=0;v[0]=v[0].replace(/%([a-zA-Z%])/g,(R,O)=>{if(R==="%%")return"%";C++;let L=r.formatters[O];if(typeof L=="function"){let D=v[C];R=L.call(g,D),v.splice(C,1),C--}return R}),r.formatArgs.call(g,v),(g.log||r.log).apply(g,v)}return f.namespace=u,f.useColors=r.useColors(),f.color=r.selectColor(u),f.extend=a,f.destroy=r.destroy,Object.defineProperty(f,"enabled",{enumerable:!0,configurable:!1,get:()=>h!==null?h:(p!==r.namespaces&&(p=r.namespaces,m=r.enabled(u)),m),set:v=>{h=v}}),typeof r.init=="function"&&r.init(f),f}function a(u,d){let h=r(this.namespace+(typeof d>"u"?":":d)+u);return h.log=this.log,h}function s(u){r.save(u),r.namespaces=u,r.names=[],r.skips=[];let d=(typeof u=="string"?u:"").trim().replace(" ",",").split(",").filter(Boolean);for(let h of d)h[0]==="-"?r.skips.push(h.slice(1)):r.names.push(h)}function i(u,d){let h=0,p=0,m=-1,f=0;for(;h<u.length;)if(p<d.length&&(d[p]===u[h]||d[p]==="*"))d[p]==="*"?(m=p,f=h,p++):(h++,p++);else if(m!==-1)p=m+1,f++,h=f;else return!1;for(;p<d.length&&d[p]==="*";)p++;return p===d.length}function n(){let u=[...r.names,...r.skips.map(d=>"-"+d)].join(",");return r.enable(""),u}function o(u){for(let d of r.skips)if(i(u,d))return!1;for(let d of r.names)if(i(u,d))return!0;return!1}function l(u){return u instanceof Error?u.stack||u.message:u}function c(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}ZE.exports=Xz});var VE=j((wr,Jl)=>{wr.formatArgs=t2;wr.save=r2;wr.load=a2;wr.useColors=e2;wr.storage=s2();wr.destroy=(()=>{let t=!1;return()=>{t||(t=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();wr.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function e2(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let t;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(t=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(t[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function t2(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+Jl.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;t.splice(1,0,e,"color: inherit");let r=0,a=0;t[0].replace(/%[a-zA-Z%]/g,s=>{s!=="%%"&&(r++,s==="%c"&&(a=r))}),t.splice(a,0,e)}wr.log=console.debug||console.log||(()=>{});function r2(t){try{t?wr.storage.setItem("debug",t):wr.storage.removeItem("debug")}catch{}}function a2(){let t;try{t=wr.storage.getItem("debug")}catch{}return!t&&typeof process<"u"&&"env"in process&&(t=process.env.DEBUG),t}function s2(){try{return localStorage}catch{}}Jl.exports=jm()(wr);var{formatters:n2}=Jl.exports;n2.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});var GE=j((zQ,HE)=>{"use strict";HE.exports=(t,e=process.argv)=>{let r=t.startsWith("-")?"":t.length===1?"-":"--",a=e.indexOf(r+t),s=e.indexOf("--");return a!==-1&&(s===-1||a<s)}});var JE=j((BQ,KE)=>{"use strict";var i2=require("os"),WE=require("tty"),Lr=GE(),{env:jt}=process,Ql;Lr("no-color")||Lr("no-colors")||Lr("color=false")||Lr("color=never")?Ql=0:(Lr("color")||Lr("colors")||Lr("color=true")||Lr("color=always"))&&(Ql=1);function o2(){if("FORCE_COLOR"in jt)return jt.FORCE_COLOR==="true"?1:jt.FORCE_COLOR==="false"?0:jt.FORCE_COLOR.length===0?1:Math.min(Number.parseInt(jt.FORCE_COLOR,10),3)}function c2(t){return t===0?!1:{level:t,hasBasic:!0,has256:t>=2,has16m:t>=3}}function l2(t,{streamIsTTY:e,sniffFlags:r=!0}={}){let a=o2();a!==void 0&&(Ql=a);let s=r?Ql:a;if(s===0)return 0;if(r){if(Lr("color=16m")||Lr("color=full")||Lr("color=truecolor"))return 3;if(Lr("color=256"))return 2}if(t&&!e&&s===void 0)return 0;let i=s||0;if(jt.TERM==="dumb")return i;if(process.platform==="win32"){let n=i2.release().split(".");return Number(n[0])>=10&&Number(n[2])>=10586?Number(n[2])>=14931?3:2:1}if("CI"in jt)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE","DRONE"].some(n=>n in jt)||jt.CI_NAME==="codeship"?1:i;if("TEAMCITY_VERSION"in jt)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(jt.TEAMCITY_VERSION)?1:0;if(jt.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in jt){let n=Number.parseInt((jt.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(jt.TERM_PROGRAM){case"iTerm.app":return n>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(jt.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(jt.TERM)||"COLORTERM"in jt?1:i}function Dm(t,e={}){let r=l2(t,{streamIsTTY:t&&t.isTTY,...e});return c2(r)}KE.exports={supportsColor:Dm,stdout:Dm({isTTY:WE.isatty(1)}),stderr:Dm({isTTY:WE.isatty(2)})}});var YE=j((Dt,Xl)=>{var u2=require("tty"),Yl=require("util");Dt.init=g2;Dt.log=m2;Dt.formatArgs=p2;Dt.save=h2;Dt.load=v2;Dt.useColors=d2;Dt.destroy=Yl.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");Dt.colors=[6,2,3,4,5,1];try{let t=JE();t&&(t.stderr||t).level>=2&&(Dt.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}Dt.inspectOpts=Object.keys(process.env).filter(t=>/^debug_/i.test(t)).reduce((t,e)=>{let r=e.substring(6).toLowerCase().replace(/_([a-z])/g,(s,i)=>i.toUpperCase()),a=process.env[e];return/^(yes|on|true|enabled)$/i.test(a)?a=!0:/^(no|off|false|disabled)$/i.test(a)?a=!1:a==="null"?a=null:a=Number(a),t[r]=a,t},{});function d2(){return"colors"in Dt.inspectOpts?!!Dt.inspectOpts.colors:u2.isatty(process.stderr.fd)}function p2(t){let{namespace:e,useColors:r}=this;if(r){let a=this.color,s="\x1B[3"+(a<8?a:"8;5;"+a),i=`  ${s};1m${e} \x1B[0m`;t[0]=i+t[0].split(`
`).join(`
`+i),t.push(s+"m+"+Xl.exports.humanize(this.diff)+"\x1B[0m")}else t[0]=f2()+e+" "+t[0]}function f2(){return Dt.inspectOpts.hideDate?"":new Date().toISOString()+" "}function m2(...t){return process.stderr.write(Yl.formatWithOptions(Dt.inspectOpts,...t)+`
`)}function h2(t){t?process.env.DEBUG=t:delete process.env.DEBUG}function v2(){return process.env.DEBUG}function g2(t){t.inspectOpts={};let e=Object.keys(Dt.inspectOpts);for(let r=0;r<e.length;r++)t.inspectOpts[e[r]]=Dt.inspectOpts[e[r]]}Xl.exports=jm()(Dt);var{formatters:QE}=Xl.exports;QE.o=function(t){return this.inspectOpts.colors=this.useColors,Yl.inspect(t,this.inspectOpts).split(`
`).map(e=>e.trim()).join(" ")};QE.O=function(t){return this.inspectOpts.colors=this.useColors,Yl.inspect(t,this.inspectOpts)}});var XE=j((ZQ,Nm)=>{typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?Nm.exports=VE():Nm.exports=YE()});var tP=j((VQ,eP)=>{var Vo;eP.exports=function(){if(!Vo){try{Vo=XE()("follow-redirects")}catch{}typeof Vo!="function"&&(Vo=function(){})}Vo.apply(null,arguments)}});var iP=j((HQ,Gm)=>{var Go=require("url"),Ho=Go.URL,y2=require("http"),x2=require("https"),Mm=require("stream").Writable,Um=require("assert"),rP=tP();(function(){var e=typeof process<"u",r=typeof window<"u"&&typeof document<"u",a=dn(Error.captureStackTrace);!e&&(r||!a)&&console.warn("The follow-redirects package should be excluded from browser builds.")})();var zm=!1;try{Um(new Ho(""))}catch(t){zm=t.code==="ERR_INVALID_URL"}var b2=["auth","host","hostname","href","path","pathname","port","protocol","query","search","hash"],Bm=["abort","aborted","connect","error","socket","timeout"],Zm=Object.create(null);Bm.forEach(function(t){Zm[t]=function(e,r,a){this._redirectable.emit(t,e,r,a)}});var Lm=Wo("ERR_INVALID_URL","Invalid URL",TypeError),Fm=Wo("ERR_FR_REDIRECTION_FAILURE","Redirected request failed"),_2=Wo("ERR_FR_TOO_MANY_REDIRECTS","Maximum number of redirects exceeded",Fm),w2=Wo("ERR_FR_MAX_BODY_LENGTH_EXCEEDED","Request body larger than maxBodyLength limit"),S2=Wo("ERR_STREAM_WRITE_AFTER_END","write after end"),E2=Mm.prototype.destroy||sP;function ir(t,e){Mm.call(this),this._sanitizeOptions(t),this._options=t,this._ended=!1,this._ending=!1,this._redirectCount=0,this._redirects=[],this._requestBodyLength=0,this._requestBodyBuffers=[],e&&this.on("response",e);var r=this;this._onNativeResponse=function(a){try{r._processResponse(a)}catch(s){r.emit("error",s instanceof Fm?s:new Fm({cause:s}))}},this._performRequest()}ir.prototype=Object.create(Mm.prototype);ir.prototype.abort=function(){Hm(this._currentRequest),this._currentRequest.abort(),this.emit("abort")};ir.prototype.destroy=function(t){return Hm(this._currentRequest,t),E2.call(this,t),this};ir.prototype.write=function(t,e,r){if(this._ending)throw new S2;if(!un(t)&&!C2(t))throw new TypeError("data should be a string, Buffer or Uint8Array");if(dn(e)&&(r=e,e=null),t.length===0){r&&r();return}this._requestBodyLength+t.length<=this._options.maxBodyLength?(this._requestBodyLength+=t.length,this._requestBodyBuffers.push({data:t,encoding:e}),this._currentRequest.write(t,e,r)):(this.emit("error",new w2),this.abort())};ir.prototype.end=function(t,e,r){if(dn(t)?(r=t,t=e=null):dn(e)&&(r=e,e=null),!t)this._ended=this._ending=!0,this._currentRequest.end(null,null,r);else{var a=this,s=this._currentRequest;this.write(t,e,function(){a._ended=!0,s.end(null,null,r)}),this._ending=!0}};ir.prototype.setHeader=function(t,e){this._options.headers[t]=e,this._currentRequest.setHeader(t,e)};ir.prototype.removeHeader=function(t){delete this._options.headers[t],this._currentRequest.removeHeader(t)};ir.prototype.setTimeout=function(t,e){var r=this;function a(n){n.setTimeout(t),n.removeListener("timeout",n.destroy),n.addListener("timeout",n.destroy)}function s(n){r._timeout&&clearTimeout(r._timeout),r._timeout=setTimeout(function(){r.emit("timeout"),i()},t),a(n)}function i(){r._timeout&&(clearTimeout(r._timeout),r._timeout=null),r.removeListener("abort",i),r.removeListener("error",i),r.removeListener("response",i),r.removeListener("close",i),e&&r.removeListener("timeout",e),r.socket||r._currentRequest.removeListener("socket",s)}return e&&this.on("timeout",e),this.socket?s(this.socket):this._currentRequest.once("socket",s),this.on("socket",a),this.on("abort",i),this.on("error",i),this.on("response",i),this.on("close",i),this};["flushHeaders","getHeader","setNoDelay","setSocketKeepAlive"].forEach(function(t){ir.prototype[t]=function(e,r){return this._currentRequest[t](e,r)}});["aborted","connection","socket"].forEach(function(t){Object.defineProperty(ir.prototype,t,{get:function(){return this._currentRequest[t]}})});ir.prototype._sanitizeOptions=function(t){if(t.headers||(t.headers={}),t.host&&(t.hostname||(t.hostname=t.host),delete t.host),!t.pathname&&t.path){var e=t.path.indexOf("?");e<0?t.pathname=t.path:(t.pathname=t.path.substring(0,e),t.search=t.path.substring(e))}};ir.prototype._performRequest=function(){var t=this._options.protocol,e=this._options.nativeProtocols[t];if(!e)throw new TypeError("Unsupported protocol "+t);if(this._options.agents){var r=t.slice(0,-1);this._options.agent=this._options.agents[r]}var a=this._currentRequest=e.request(this._options,this._onNativeResponse);a._redirectable=this;for(var s of Bm)a.on(s,Zm[s]);if(this._currentUrl=/^\//.test(this._options.path)?Go.format(this._options):this._options.path,this._isRedirect){var i=0,n=this,o=this._requestBodyBuffers;(function l(c){if(a===n._currentRequest)if(c)n.emit("error",c);else if(i<o.length){var u=o[i++];a.finished||a.write(u.data,u.encoding,l)}else n._ended&&a.end()})()}};ir.prototype._processResponse=function(t){var e=t.statusCode;this._options.trackRedirects&&this._redirects.push({url:this._currentUrl,headers:t.headers,statusCode:e});var r=t.headers.location;if(!r||this._options.followRedirects===!1||e<300||e>=400){t.responseUrl=this._currentUrl,t.redirects=this._redirects,this.emit("response",t),this._requestBodyBuffers=[];return}if(Hm(this._currentRequest),t.destroy(),++this._redirectCount>this._options.maxRedirects)throw new _2;var a,s=this._options.beforeRedirect;s&&(a=Object.assign({Host:t.req.getHeader("host")},this._options.headers));var i=this._options.method;((e===301||e===302)&&this._options.method==="POST"||e===303&&!/^(?:GET|HEAD)$/.test(this._options.method))&&(this._options.method="GET",this._requestBodyBuffers=[],$m(/^content-/i,this._options.headers));var n=$m(/^host$/i,this._options.headers),o=Vm(this._currentUrl),l=n||o.host,c=/^\w+:/.test(r)?this._currentUrl:Go.format(Object.assign(o,{host:l})),u=P2(r,c);if(rP("redirecting to",u.href),this._isRedirect=!0,qm(u,this._options),(u.protocol!==o.protocol&&u.protocol!=="https:"||u.host!==l&&!R2(u.host,l))&&$m(/^(?:(?:proxy-)?authorization|cookie)$/i,this._options.headers),dn(s)){var d={headers:t.headers,statusCode:e},h={url:c,method:i,headers:a};s(this._options,d,h),this._sanitizeOptions(this._options)}this._performRequest()};function aP(t){var e={maxRedirects:21,maxBodyLength:10485760},r={};return Object.keys(t).forEach(function(a){var s=a+":",i=r[s]=t[a],n=e[a]=Object.create(i);function o(c,u,d){return T2(c)?c=qm(c):un(c)?c=qm(Vm(c)):(d=u,u=nP(c),c={protocol:s}),dn(u)&&(d=u,u=null),u=Object.assign({maxRedirects:e.maxRedirects,maxBodyLength:e.maxBodyLength},c,u),u.nativeProtocols=r,!un(u.host)&&!un(u.hostname)&&(u.hostname="::1"),Um.equal(u.protocol,s,"protocol mismatch"),rP("options",u),new ir(u,d)}function l(c,u,d){var h=n.request(c,u,d);return h.end(),h}Object.defineProperties(n,{request:{value:o,configurable:!0,enumerable:!0,writable:!0},get:{value:l,configurable:!0,enumerable:!0,writable:!0}})}),e}function sP(){}function Vm(t){var e;if(zm)e=new Ho(t);else if(e=nP(Go.parse(t)),!un(e.protocol))throw new Lm({input:t});return e}function P2(t,e){return zm?new Ho(t,e):Vm(Go.resolve(e,t))}function nP(t){if(/^\[/.test(t.hostname)&&!/^\[[:0-9a-f]+\]$/i.test(t.hostname))throw new Lm({input:t.href||t});if(/^\[/.test(t.host)&&!/^\[[:0-9a-f]+\](:\d+)?$/i.test(t.host))throw new Lm({input:t.href||t});return t}function qm(t,e){var r=e||{};for(var a of b2)r[a]=t[a];return r.hostname.startsWith("[")&&(r.hostname=r.hostname.slice(1,-1)),r.port!==""&&(r.port=Number(r.port)),r.path=r.search?r.pathname+r.search:r.pathname,r}function $m(t,e){var r;for(var a in e)t.test(a)&&(r=e[a],delete e[a]);return r===null||typeof r>"u"?void 0:String(r).trim()}function Wo(t,e,r){function a(s){dn(Error.captureStackTrace)&&Error.captureStackTrace(this,this.constructor),Object.assign(this,s||{}),this.code=t,this.message=this.cause?e+": "+this.cause.message:e}return a.prototype=new(r||Error),Object.defineProperties(a.prototype,{constructor:{value:a,enumerable:!1},name:{value:"Error ["+t+"]",enumerable:!1}}),a}function Hm(t,e){for(var r of Bm)t.removeListener(r,Zm[r]);t.on("error",sP),t.destroy(e)}function R2(t,e){Um(un(t)&&un(e));var r=t.length-e.length-1;return r>0&&t[r]==="."&&t.endsWith(e)}function un(t){return typeof t=="string"||t instanceof String}function dn(t){return typeof t=="function"}function C2(t){return typeof t=="object"&&"length"in t}function T2(t){return Ho&&t instanceof Ho}Gm.exports=aP({http:y2,https:x2});Gm.exports.wrap=aP});var JP=j(_a=>{"use strict";var l9=_a&&_a.__createBinding||(Object.create?function(t,e,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(e,r);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,a,s)}:function(t,e,r,a){a===void 0&&(a=r),t[a]=e[r]}),u9=_a&&_a.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),d9=_a&&_a.__importStar||function(){var t=function(e){return t=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},t(e)};return function(e){if(e&&e.__esModule)return e;var r={};if(e!=null)for(var a=t(e),s=0;s<a.length;s++)a[s]!=="default"&&l9(r,e,a[s]);return u9(r,e),r}}();Object.defineProperty(_a,"__esModule",{value:!0});_a.TempFileProvider=void 0;var Fr=d9(require("vscode"));function KP(t){return t.includes("\\")?t.startsWith("\\\\")?"/"+t.substring(2).replace(/\\/g,"/"):(/^[a-zA-Z]:/.test(t)&&(t=t.replace(/^([a-zA-Z]):/,(e,r)=>"/"+r.toLowerCase()+":")),t.replace(/\\/g,"/")):t}var dh=class{uri;contents;type=Fr.FileType.File;ctime;modifiedTime;constructor(e,r){this.uri=e,this.contents=r,this.ctime=this.modifiedTime=Date.now()}get mtime(){return this.modifiedTime}get size(){return this.data.length}get data(){return this.contents}write(e){this.modifiedTime=Date.now(),this.contents=e,this.emitter.fire()}emitter=new Fr.EventEmitter;onDidSave=this.emitter.event},ph=class{scheme;documents=new Map;constructor(e){this.scheme=e}createFile(e,r){let a=e;process.platform==="win32"&&(a=KP(e));let s=Fr.Uri.from({scheme:this.scheme,path:a}),i=this.documents.get(s.path);return i?(this.writeFile(s,new TextEncoder().encode(r)),i):(i=new dh(s,new TextEncoder().encode(r)),this.documents.set(s.path,i),i)}emitter=new Fr.EventEmitter;onDidChangeFile=this.emitter.event;watch(e){return new Fr.Disposable(()=>{})}stat(e){return this.find(e)}find(e){let r=e.path;process.platform==="win32"&&(r=KP(e.path));let a=this.documents.get(r);if(!a)throw Fr.FileSystemError.FileNotFound(e);return a}readDirectory(e){throw Fr.FileSystemError.FileNotFound(e)}readFile(e){let r=this.find(e).data;if(r)return r;throw Fr.FileSystemError.FileNotFound(e)}writeFile(e,r){this.find(e).write(r),this.emitter.fire([{type:Fr.FileChangeType.Changed,uri:e}])}createDirectory(e){throw Fr.FileSystemError.Unavailable()}delete(e){throw Fr.FileSystemError.Unavailable()}rename(e,r,a){throw Fr.FileSystemError.Unavailable()}};_a.TempFileProvider=ph});var sc=j(vt=>{"use strict";Object.defineProperty(vt,"__esModule",{value:!0});vt.getParsedType=vt.ZodParsedType=vt.objectUtil=vt.util=void 0;var fh;(function(t){t.assertEqual=s=>{};function e(s){}t.assertIs=e;function r(s){throw new Error}t.assertNever=r,t.arrayToEnum=s=>{let i={};for(let n of s)i[n]=n;return i},t.getValidEnumValues=s=>{let i=t.objectKeys(s).filter(o=>typeof s[s[o]]!="number"),n={};for(let o of i)n[o]=s[o];return t.objectValues(n)},t.objectValues=s=>t.objectKeys(s).map(function(i){return s[i]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{let i=[];for(let n in s)Object.prototype.hasOwnProperty.call(s,n)&&i.push(n);return i},t.find=(s,i)=>{for(let n of s)if(i(n))return n},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function a(s,i=" | "){return s.map(n=>typeof n=="string"?`'${n}'`:n).join(i)}t.joinValues=a,t.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(fh||(vt.util=fh={}));var QP;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(QP||(vt.objectUtil=QP={}));vt.ZodParsedType=fh.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]);var p9=t=>{switch(typeof t){case"undefined":return vt.ZodParsedType.undefined;case"string":return vt.ZodParsedType.string;case"number":return Number.isNaN(t)?vt.ZodParsedType.nan:vt.ZodParsedType.number;case"boolean":return vt.ZodParsedType.boolean;case"function":return vt.ZodParsedType.function;case"bigint":return vt.ZodParsedType.bigint;case"symbol":return vt.ZodParsedType.symbol;case"object":return Array.isArray(t)?vt.ZodParsedType.array:t===null?vt.ZodParsedType.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?vt.ZodParsedType.promise:typeof Map<"u"&&t instanceof Map?vt.ZodParsedType.map:typeof Set<"u"&&t instanceof Set?vt.ZodParsedType.set:typeof Date<"u"&&t instanceof Date?vt.ZodParsedType.date:vt.ZodParsedType.object;default:return vt.ZodParsedType.unknown}};vt.getParsedType=p9});var du=j(vs=>{"use strict";Object.defineProperty(vs,"__esModule",{value:!0});vs.ZodError=vs.quotelessJson=vs.ZodIssueCode=void 0;var YP=sc();vs.ZodIssueCode=YP.util.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);var f9=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");vs.quotelessJson=f9;var nc=class t extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=a=>{this.issues=[...this.issues,a]},this.addIssues=(a=[])=>{this.issues=[...this.issues,...a]};let r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}format(e){let r=e||function(i){return i.message},a={_errors:[]},s=i=>{for(let n of i.issues)if(n.code==="invalid_union")n.unionErrors.map(s);else if(n.code==="invalid_return_type")s(n.returnTypeError);else if(n.code==="invalid_arguments")s(n.argumentsError);else if(n.path.length===0)a._errors.push(r(n));else{let o=a,l=0;for(;l<n.path.length;){let c=n.path[l];l===n.path.length-1?(o[c]=o[c]||{_errors:[]},o[c]._errors.push(r(n))):o[c]=o[c]||{_errors:[]},o=o[c],l++}}};return s(this),a}static assert(e){if(!(e instanceof t))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,YP.util.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){let r={},a=[];for(let s of this.issues)if(s.path.length>0){let i=s.path[0];r[i]=r[i]||[],r[i].push(e(s))}else a.push(e(s));return{formErrors:a,fieldErrors:r}}get formErrors(){return this.flatten()}};vs.ZodError=nc;nc.create=t=>new nc(t)});var hh=j(mh=>{"use strict";Object.defineProperty(mh,"__esModule",{value:!0});var Vt=du(),gn=sc(),m9=(t,e)=>{let r;switch(t.code){case Vt.ZodIssueCode.invalid_type:t.received===gn.ZodParsedType.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case Vt.ZodIssueCode.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,gn.util.jsonStringifyReplacer)}`;break;case Vt.ZodIssueCode.unrecognized_keys:r=`Unrecognized key(s) in object: ${gn.util.joinValues(t.keys,", ")}`;break;case Vt.ZodIssueCode.invalid_union:r="Invalid input";break;case Vt.ZodIssueCode.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${gn.util.joinValues(t.options)}`;break;case Vt.ZodIssueCode.invalid_enum_value:r=`Invalid enum value. Expected ${gn.util.joinValues(t.options)}, received '${t.received}'`;break;case Vt.ZodIssueCode.invalid_arguments:r="Invalid function arguments";break;case Vt.ZodIssueCode.invalid_return_type:r="Invalid function return type";break;case Vt.ZodIssueCode.invalid_date:r="Invalid date";break;case Vt.ZodIssueCode.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:gn.util.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case Vt.ZodIssueCode.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case Vt.ZodIssueCode.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case Vt.ZodIssueCode.custom:r="Invalid input";break;case Vt.ZodIssueCode.invalid_intersection_types:r="Intersection results could not be merged";break;case Vt.ZodIssueCode.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case Vt.ZodIssueCode.not_finite:r="Number must be finite";break;default:r=e.defaultError,gn.util.assertNever(t)}return{message:r}};mh.default=m9});var pu=j(gs=>{"use strict";var h9=gs&&gs.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(gs,"__esModule",{value:!0});gs.defaultErrorMap=void 0;gs.setErrorMap=v9;gs.getErrorMap=g9;var XP=h9(hh());gs.defaultErrorMap=XP.default;var eR=XP.default;function v9(t){eR=t}function g9(){return eR}});var gh=j(mt=>{"use strict";var y9=mt&&mt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(mt,"__esModule",{value:!0});mt.isAsync=mt.isValid=mt.isDirty=mt.isAborted=mt.OK=mt.DIRTY=mt.INVALID=mt.ParseStatus=mt.EMPTY_PATH=mt.makeIssue=void 0;mt.addIssueToContext=_9;var x9=pu(),tR=y9(hh()),b9=t=>{let{data:e,path:r,errorMaps:a,issueData:s}=t,i=[...r,...s.path||[]],n={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let o="",l=a.filter(c=>!!c).slice().reverse();for(let c of l)o=c(n,{data:e,defaultError:o}).message;return{...s,path:i,message:o}};mt.makeIssue=b9;mt.EMPTY_PATH=[];function _9(t,e){let r=(0,x9.getErrorMap)(),a=(0,mt.makeIssue)({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===tR.default?void 0:tR.default].filter(s=>!!s)});t.common.issues.push(a)}var vh=class t{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){let a=[];for(let s of r){if(s.status==="aborted")return mt.INVALID;s.status==="dirty"&&e.dirty(),a.push(s.value)}return{status:e.value,value:a}}static async mergeObjectAsync(e,r){let a=[];for(let s of r){let i=await s.key,n=await s.value;a.push({key:i,value:n})}return t.mergeObjectSync(e,a)}static mergeObjectSync(e,r){let a={};for(let s of r){let{key:i,value:n}=s;if(i.status==="aborted"||n.status==="aborted")return mt.INVALID;i.status==="dirty"&&e.dirty(),n.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof n.value<"u"||s.alwaysSet)&&(a[i.value]=n.value)}return{status:e.value,value:a}}};mt.ParseStatus=vh;mt.INVALID=Object.freeze({status:"aborted"});var w9=t=>({status:"dirty",value:t});mt.DIRTY=w9;var S9=t=>({status:"valid",value:t});mt.OK=S9;var E9=t=>t.status==="aborted";mt.isAborted=E9;var P9=t=>t.status==="dirty";mt.isDirty=P9;var R9=t=>t.status==="valid";mt.isValid=R9;var C9=t=>typeof Promise<"u"&&t instanceof Promise;mt.isAsync=C9});var aR=j(rR=>{"use strict";Object.defineProperty(rR,"__esModule",{value:!0})});var nR=j(fu=>{"use strict";Object.defineProperty(fu,"__esModule",{value:!0});fu.errorUtil=void 0;var sR;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})(sR||(fu.errorUtil=sR={}))});var gR=j(H=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0});H.discriminatedUnion=H.date=H.boolean=H.bigint=H.array=H.any=H.coerce=H.ZodFirstPartyTypeKind=H.late=H.ZodSchema=H.Schema=H.ZodReadonly=H.ZodPipeline=H.ZodBranded=H.BRAND=H.ZodNaN=H.ZodCatch=H.ZodDefault=H.ZodNullable=H.ZodOptional=H.ZodTransformer=H.ZodEffects=H.ZodPromise=H.ZodNativeEnum=H.ZodEnum=H.ZodLiteral=H.ZodLazy=H.ZodFunction=H.ZodSet=H.ZodMap=H.ZodRecord=H.ZodTuple=H.ZodIntersection=H.ZodDiscriminatedUnion=H.ZodUnion=H.ZodObject=H.ZodArray=H.ZodVoid=H.ZodNever=H.ZodUnknown=H.ZodAny=H.ZodNull=H.ZodUndefined=H.ZodSymbol=H.ZodDate=H.ZodBoolean=H.ZodBigInt=H.ZodNumber=H.ZodString=H.ZodType=void 0;H.NEVER=H.void=H.unknown=H.union=H.undefined=H.tuple=H.transformer=H.symbol=H.string=H.strictObject=H.set=H.record=H.promise=H.preprocess=H.pipeline=H.ostring=H.optional=H.onumber=H.oboolean=H.object=H.number=H.nullable=H.null=H.never=H.nativeEnum=H.nan=H.map=H.literal=H.lazy=H.intersection=H.instanceof=H.function=H.enum=H.effect=void 0;H.datetimeRegex=uR;H.custom=pR;var se=du(),mu=pu(),be=nR(),G=gh(),ie=sc(),Mr=class{constructor(e,r,a,s){this._cachedPath=[],this.parent=e,this.data=r,this._path=a,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}},iR=(t,e)=>{if((0,G.isValid)(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let r=new se.ZodError(t.common.issues);return this._error=r,this._error}}};function He(t){if(!t)return{};let{errorMap:e,invalid_type_error:r,required_error:a,description:s}=t;if(e&&(r||a))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(n,o)=>{let{message:l}=t;return n.code==="invalid_enum_value"?{message:l??o.defaultError}:typeof o.data>"u"?{message:l??a??o.defaultError}:n.code!=="invalid_type"?{message:o.defaultError}:{message:l??r??o.defaultError}},description:s}}var Ge=class{get description(){return this._def.description}_getType(e){return(0,ie.getParsedType)(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:(0,ie.getParsedType)(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new G.ParseStatus,ctx:{common:e.parent.common,data:e.data,parsedType:(0,ie.getParsedType)(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let r=this._parse(e);if((0,G.isAsync)(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){let r=this._parse(e);return Promise.resolve(r)}parse(e,r){let a=this.safeParse(e,r);if(a.success)return a.data;throw a.error}safeParse(e,r){let a={common:{issues:[],async:r?.async??!1,contextualErrorMap:r?.errorMap},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:(0,ie.getParsedType)(e)},s=this._parseSync({data:e,path:a.path,parent:a});return iR(a,s)}"~validate"(e){let r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:(0,ie.getParsedType)(e)};if(!this["~standard"].async)try{let a=this._parseSync({data:e,path:[],parent:r});return(0,G.isValid)(a)?{value:a.value}:{issues:r.common.issues}}catch(a){a?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:r}).then(a=>(0,G.isValid)(a)?{value:a.value}:{issues:r.common.issues})}async parseAsync(e,r){let a=await this.safeParseAsync(e,r);if(a.success)return a.data;throw a.error}async safeParseAsync(e,r){let a={common:{issues:[],contextualErrorMap:r?.errorMap,async:!0},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:(0,ie.getParsedType)(e)},s=this._parse({data:e,path:a.path,parent:a}),i=await((0,G.isAsync)(s)?s:Promise.resolve(s));return iR(a,i)}refine(e,r){let a=s=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(s):r;return this._refinement((s,i)=>{let n=e(s),o=()=>i.addIssue({code:se.ZodIssueCode.custom,...a(s)});return typeof Promise<"u"&&n instanceof Promise?n.then(l=>l?!0:(o(),!1)):n?!0:(o(),!1)})}refinement(e,r){return this._refinement((a,s)=>e(a)?!0:(s.addIssue(typeof r=="function"?r(a,s):r),!1))}_refinement(e){return new Sr({schema:this,typeName:De.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return qr.create(this,this._def)}nullable(){return Sa.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Za.create(this)}promise(){return bs.create(this,this._def)}or(e){return En.create([this,e],this._def)}and(e){return Pn.create(this,e,this._def)}transform(e){return new Sr({...He(this._def),schema:this,typeName:De.ZodEffects,effect:{type:"transform",transform:e}})}default(e){let r=typeof e=="function"?e:()=>e;return new In({...He(this._def),innerType:this,defaultValue:r,typeName:De.ZodDefault})}brand(){return new ic({typeName:De.ZodBranded,type:this,...He(this._def)})}catch(e){let r=typeof e=="function"?e:()=>e;return new An({...He(this._def),innerType:this,catchValue:r,typeName:De.ZodCatch})}describe(e){let r=this.constructor;return new r({...this._def,description:e})}pipe(e){return oc.create(this,e)}readonly(){return kn.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}};H.ZodType=Ge;H.Schema=Ge;H.ZodSchema=Ge;var T9=/^c[^\s-]{8,}$/i,O9=/^[0-9a-z]+$/,I9=/^[0-9A-HJKMNP-TV-Z]{26}$/i,A9=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,k9=/^[a-z0-9_-]{21}$/i,j9=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,D9=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,N9=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,$9="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",yh,L9=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,F9=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,q9=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,M9=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,U9=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,z9=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,cR="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",B9=new RegExp(`^${cR}$`);function lR(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);let r=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${r}`}function Z9(t){return new RegExp(`^${lR(t)}$`)}function uR(t){let e=`${cR}T${lR(t)}`,r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function V9(t,e){return!!((e==="v4"||!e)&&L9.test(t)||(e==="v6"||!e)&&q9.test(t))}function H9(t,e){if(!j9.test(t))return!1;try{let[r]=t.split(".");if(!r)return!1;let a=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),s=JSON.parse(atob(a));return!(typeof s!="object"||s===null||"typ"in s&&s?.typ!=="JWT"||!s.alg||e&&s.alg!==e)}catch{return!1}}function G9(t,e){return!!((e==="v4"||!e)&&F9.test(t)||(e==="v6"||!e)&&M9.test(t))}var ys=class t extends Ge{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==ie.ZodParsedType.string){let i=this._getOrReturnCtx(e);return(0,G.addIssueToContext)(i,{code:se.ZodIssueCode.invalid_type,expected:ie.ZodParsedType.string,received:i.parsedType}),G.INVALID}let a=new G.ParseStatus,s;for(let i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(s=this._getOrReturnCtx(e,s),(0,G.addIssueToContext)(s,{code:se.ZodIssueCode.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),a.dirty());else if(i.kind==="max")e.data.length>i.value&&(s=this._getOrReturnCtx(e,s),(0,G.addIssueToContext)(s,{code:se.ZodIssueCode.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),a.dirty());else if(i.kind==="length"){let n=e.data.length>i.value,o=e.data.length<i.value;(n||o)&&(s=this._getOrReturnCtx(e,s),n?(0,G.addIssueToContext)(s,{code:se.ZodIssueCode.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):o&&(0,G.addIssueToContext)(s,{code:se.ZodIssueCode.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),a.dirty())}else if(i.kind==="email")N9.test(e.data)||(s=this._getOrReturnCtx(e,s),(0,G.addIssueToContext)(s,{validation:"email",code:se.ZodIssueCode.invalid_string,message:i.message}),a.dirty());else if(i.kind==="emoji")yh||(yh=new RegExp($9,"u")),yh.test(e.data)||(s=this._getOrReturnCtx(e,s),(0,G.addIssueToContext)(s,{validation:"emoji",code:se.ZodIssueCode.invalid_string,message:i.message}),a.dirty());else if(i.kind==="uuid")A9.test(e.data)||(s=this._getOrReturnCtx(e,s),(0,G.addIssueToContext)(s,{validation:"uuid",code:se.ZodIssueCode.invalid_string,message:i.message}),a.dirty());else if(i.kind==="nanoid")k9.test(e.data)||(s=this._getOrReturnCtx(e,s),(0,G.addIssueToContext)(s,{validation:"nanoid",code:se.ZodIssueCode.invalid_string,message:i.message}),a.dirty());else if(i.kind==="cuid")T9.test(e.data)||(s=this._getOrReturnCtx(e,s),(0,G.addIssueToContext)(s,{validation:"cuid",code:se.ZodIssueCode.invalid_string,message:i.message}),a.dirty());else if(i.kind==="cuid2")O9.test(e.data)||(s=this._getOrReturnCtx(e,s),(0,G.addIssueToContext)(s,{validation:"cuid2",code:se.ZodIssueCode.invalid_string,message:i.message}),a.dirty());else if(i.kind==="ulid")I9.test(e.data)||(s=this._getOrReturnCtx(e,s),(0,G.addIssueToContext)(s,{validation:"ulid",code:se.ZodIssueCode.invalid_string,message:i.message}),a.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),(0,G.addIssueToContext)(s,{validation:"url",code:se.ZodIssueCode.invalid_string,message:i.message}),a.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),(0,G.addIssueToContext)(s,{validation:"regex",code:se.ZodIssueCode.invalid_string,message:i.message}),a.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(e,s),(0,G.addIssueToContext)(s,{code:se.ZodIssueCode.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),a.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(s=this._getOrReturnCtx(e,s),(0,G.addIssueToContext)(s,{code:se.ZodIssueCode.invalid_string,validation:{startsWith:i.value},message:i.message}),a.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(s=this._getOrReturnCtx(e,s),(0,G.addIssueToContext)(s,{code:se.ZodIssueCode.invalid_string,validation:{endsWith:i.value},message:i.message}),a.dirty()):i.kind==="datetime"?uR(i).test(e.data)||(s=this._getOrReturnCtx(e,s),(0,G.addIssueToContext)(s,{code:se.ZodIssueCode.invalid_string,validation:"datetime",message:i.message}),a.dirty()):i.kind==="date"?B9.test(e.data)||(s=this._getOrReturnCtx(e,s),(0,G.addIssueToContext)(s,{code:se.ZodIssueCode.invalid_string,validation:"date",message:i.message}),a.dirty()):i.kind==="time"?Z9(i).test(e.data)||(s=this._getOrReturnCtx(e,s),(0,G.addIssueToContext)(s,{code:se.ZodIssueCode.invalid_string,validation:"time",message:i.message}),a.dirty()):i.kind==="duration"?D9.test(e.data)||(s=this._getOrReturnCtx(e,s),(0,G.addIssueToContext)(s,{validation:"duration",code:se.ZodIssueCode.invalid_string,message:i.message}),a.dirty()):i.kind==="ip"?V9(e.data,i.version)||(s=this._getOrReturnCtx(e,s),(0,G.addIssueToContext)(s,{validation:"ip",code:se.ZodIssueCode.invalid_string,message:i.message}),a.dirty()):i.kind==="jwt"?H9(e.data,i.alg)||(s=this._getOrReturnCtx(e,s),(0,G.addIssueToContext)(s,{validation:"jwt",code:se.ZodIssueCode.invalid_string,message:i.message}),a.dirty()):i.kind==="cidr"?G9(e.data,i.version)||(s=this._getOrReturnCtx(e,s),(0,G.addIssueToContext)(s,{validation:"cidr",code:se.ZodIssueCode.invalid_string,message:i.message}),a.dirty()):i.kind==="base64"?U9.test(e.data)||(s=this._getOrReturnCtx(e,s),(0,G.addIssueToContext)(s,{validation:"base64",code:se.ZodIssueCode.invalid_string,message:i.message}),a.dirty()):i.kind==="base64url"?z9.test(e.data)||(s=this._getOrReturnCtx(e,s),(0,G.addIssueToContext)(s,{validation:"base64url",code:se.ZodIssueCode.invalid_string,message:i.message}),a.dirty()):ie.util.assertNever(i);return{status:a.value,value:e.data}}_regex(e,r,a){return this.refinement(s=>e.test(s),{validation:r,code:se.ZodIssueCode.invalid_string,...be.errorUtil.errToObj(a)})}_addCheck(e){return new t({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...be.errorUtil.errToObj(e)})}url(e){return this._addCheck({kind:"url",...be.errorUtil.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...be.errorUtil.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...be.errorUtil.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...be.errorUtil.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...be.errorUtil.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...be.errorUtil.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...be.errorUtil.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...be.errorUtil.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...be.errorUtil.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...be.errorUtil.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...be.errorUtil.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...be.errorUtil.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:e?.offset??!1,local:e?.local??!1,...be.errorUtil.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof e?.precision>"u"?null:e?.precision,...be.errorUtil.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...be.errorUtil.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...be.errorUtil.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r?.position,...be.errorUtil.errToObj(r?.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...be.errorUtil.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...be.errorUtil.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...be.errorUtil.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...be.errorUtil.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...be.errorUtil.errToObj(r)})}nonempty(e){return this.min(1,be.errorUtil.errToObj(e))}trim(){return new t({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new t({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new t({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}};H.ZodString=ys;ys.create=t=>new ys({checks:[],typeName:De.ZodString,coerce:t?.coerce??!1,...He(t)});function W9(t,e){let r=(t.toString().split(".")[1]||"").length,a=(e.toString().split(".")[1]||"").length,s=r>a?r:a,i=Number.parseInt(t.toFixed(s).replace(".","")),n=Number.parseInt(e.toFixed(s).replace(".",""));return i%n/10**s}var yn=class t extends Ge{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==ie.ZodParsedType.number){let i=this._getOrReturnCtx(e);return(0,G.addIssueToContext)(i,{code:se.ZodIssueCode.invalid_type,expected:ie.ZodParsedType.number,received:i.parsedType}),G.INVALID}let a,s=new G.ParseStatus;for(let i of this._def.checks)i.kind==="int"?ie.util.isInteger(e.data)||(a=this._getOrReturnCtx(e,a),(0,G.addIssueToContext)(a,{code:se.ZodIssueCode.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(a=this._getOrReturnCtx(e,a),(0,G.addIssueToContext)(a,{code:se.ZodIssueCode.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(a=this._getOrReturnCtx(e,a),(0,G.addIssueToContext)(a,{code:se.ZodIssueCode.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?W9(e.data,i.value)!==0&&(a=this._getOrReturnCtx(e,a),(0,G.addIssueToContext)(a,{code:se.ZodIssueCode.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(a=this._getOrReturnCtx(e,a),(0,G.addIssueToContext)(a,{code:se.ZodIssueCode.not_finite,message:i.message}),s.dirty()):ie.util.assertNever(i);return{status:s.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,be.errorUtil.toString(r))}gt(e,r){return this.setLimit("min",e,!1,be.errorUtil.toString(r))}lte(e,r){return this.setLimit("max",e,!0,be.errorUtil.toString(r))}lt(e,r){return this.setLimit("max",e,!1,be.errorUtil.toString(r))}setLimit(e,r,a,s){return new t({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:a,message:be.errorUtil.toString(s)}]})}_addCheck(e){return new t({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:be.errorUtil.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:be.errorUtil.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:be.errorUtil.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:be.errorUtil.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:be.errorUtil.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:be.errorUtil.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:be.errorUtil.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:be.errorUtil.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:be.errorUtil.toString(e)})}get minValue(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&ie.util.isInteger(e.value))}get isFinite(){let e=null,r=null;for(let a of this._def.checks){if(a.kind==="finite"||a.kind==="int"||a.kind==="multipleOf")return!0;a.kind==="min"?(r===null||a.value>r)&&(r=a.value):a.kind==="max"&&(e===null||a.value<e)&&(e=a.value)}return Number.isFinite(r)&&Number.isFinite(e)}};H.ZodNumber=yn;yn.create=t=>new yn({checks:[],typeName:De.ZodNumber,coerce:t?.coerce||!1,...He(t)});var xn=class t extends Ge{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==ie.ZodParsedType.bigint)return this._getInvalidInput(e);let a,s=new G.ParseStatus;for(let i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(a=this._getOrReturnCtx(e,a),(0,G.addIssueToContext)(a,{code:se.ZodIssueCode.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(a=this._getOrReturnCtx(e,a),(0,G.addIssueToContext)(a,{code:se.ZodIssueCode.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(a=this._getOrReturnCtx(e,a),(0,G.addIssueToContext)(a,{code:se.ZodIssueCode.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):ie.util.assertNever(i);return{status:s.value,value:e.data}}_getInvalidInput(e){let r=this._getOrReturnCtx(e);return(0,G.addIssueToContext)(r,{code:se.ZodIssueCode.invalid_type,expected:ie.ZodParsedType.bigint,received:r.parsedType}),G.INVALID}gte(e,r){return this.setLimit("min",e,!0,be.errorUtil.toString(r))}gt(e,r){return this.setLimit("min",e,!1,be.errorUtil.toString(r))}lte(e,r){return this.setLimit("max",e,!0,be.errorUtil.toString(r))}lt(e,r){return this.setLimit("max",e,!1,be.errorUtil.toString(r))}setLimit(e,r,a,s){return new t({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:a,message:be.errorUtil.toString(s)}]})}_addCheck(e){return new t({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:be.errorUtil.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:be.errorUtil.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:be.errorUtil.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:be.errorUtil.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:be.errorUtil.toString(r)})}get minValue(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}};H.ZodBigInt=xn;xn.create=t=>new xn({checks:[],typeName:De.ZodBigInt,coerce:t?.coerce??!1,...He(t)});var bn=class extends Ge{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==ie.ZodParsedType.boolean){let a=this._getOrReturnCtx(e);return(0,G.addIssueToContext)(a,{code:se.ZodIssueCode.invalid_type,expected:ie.ZodParsedType.boolean,received:a.parsedType}),G.INVALID}return(0,G.OK)(e.data)}};H.ZodBoolean=bn;bn.create=t=>new bn({typeName:De.ZodBoolean,coerce:t?.coerce||!1,...He(t)});var _n=class t extends Ge{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==ie.ZodParsedType.date){let i=this._getOrReturnCtx(e);return(0,G.addIssueToContext)(i,{code:se.ZodIssueCode.invalid_type,expected:ie.ZodParsedType.date,received:i.parsedType}),G.INVALID}if(Number.isNaN(e.data.getTime())){let i=this._getOrReturnCtx(e);return(0,G.addIssueToContext)(i,{code:se.ZodIssueCode.invalid_date}),G.INVALID}let a=new G.ParseStatus,s;for(let i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(s=this._getOrReturnCtx(e,s),(0,G.addIssueToContext)(s,{code:se.ZodIssueCode.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),a.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(s=this._getOrReturnCtx(e,s),(0,G.addIssueToContext)(s,{code:se.ZodIssueCode.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),a.dirty()):ie.util.assertNever(i);return{status:a.value,value:new Date(e.data.getTime())}}_addCheck(e){return new t({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:be.errorUtil.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:be.errorUtil.toString(r)})}get minDate(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}};H.ZodDate=_n;_n.create=t=>new _n({checks:[],coerce:t?.coerce||!1,typeName:De.ZodDate,...He(t)});var Fi=class extends Ge{_parse(e){if(this._getType(e)!==ie.ZodParsedType.symbol){let a=this._getOrReturnCtx(e);return(0,G.addIssueToContext)(a,{code:se.ZodIssueCode.invalid_type,expected:ie.ZodParsedType.symbol,received:a.parsedType}),G.INVALID}return(0,G.OK)(e.data)}};H.ZodSymbol=Fi;Fi.create=t=>new Fi({typeName:De.ZodSymbol,...He(t)});var wn=class extends Ge{_parse(e){if(this._getType(e)!==ie.ZodParsedType.undefined){let a=this._getOrReturnCtx(e);return(0,G.addIssueToContext)(a,{code:se.ZodIssueCode.invalid_type,expected:ie.ZodParsedType.undefined,received:a.parsedType}),G.INVALID}return(0,G.OK)(e.data)}};H.ZodUndefined=wn;wn.create=t=>new wn({typeName:De.ZodUndefined,...He(t)});var Sn=class extends Ge{_parse(e){if(this._getType(e)!==ie.ZodParsedType.null){let a=this._getOrReturnCtx(e);return(0,G.addIssueToContext)(a,{code:se.ZodIssueCode.invalid_type,expected:ie.ZodParsedType.null,received:a.parsedType}),G.INVALID}return(0,G.OK)(e.data)}};H.ZodNull=Sn;Sn.create=t=>new Sn({typeName:De.ZodNull,...He(t)});var xs=class extends Ge{constructor(){super(...arguments),this._any=!0}_parse(e){return(0,G.OK)(e.data)}};H.ZodAny=xs;xs.create=t=>new xs({typeName:De.ZodAny,...He(t)});var Ba=class extends Ge{constructor(){super(...arguments),this._unknown=!0}_parse(e){return(0,G.OK)(e.data)}};H.ZodUnknown=Ba;Ba.create=t=>new Ba({typeName:De.ZodUnknown,...He(t)});var na=class extends Ge{_parse(e){let r=this._getOrReturnCtx(e);return(0,G.addIssueToContext)(r,{code:se.ZodIssueCode.invalid_type,expected:ie.ZodParsedType.never,received:r.parsedType}),G.INVALID}};H.ZodNever=na;na.create=t=>new na({typeName:De.ZodNever,...He(t)});var qi=class extends Ge{_parse(e){if(this._getType(e)!==ie.ZodParsedType.undefined){let a=this._getOrReturnCtx(e);return(0,G.addIssueToContext)(a,{code:se.ZodIssueCode.invalid_type,expected:ie.ZodParsedType.void,received:a.parsedType}),G.INVALID}return(0,G.OK)(e.data)}};H.ZodVoid=qi;qi.create=t=>new qi({typeName:De.ZodVoid,...He(t)});var Za=class t extends Ge{_parse(e){let{ctx:r,status:a}=this._processInputParams(e),s=this._def;if(r.parsedType!==ie.ZodParsedType.array)return(0,G.addIssueToContext)(r,{code:se.ZodIssueCode.invalid_type,expected:ie.ZodParsedType.array,received:r.parsedType}),G.INVALID;if(s.exactLength!==null){let n=r.data.length>s.exactLength.value,o=r.data.length<s.exactLength.value;(n||o)&&((0,G.addIssueToContext)(r,{code:n?se.ZodIssueCode.too_big:se.ZodIssueCode.too_small,minimum:o?s.exactLength.value:void 0,maximum:n?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),a.dirty())}if(s.minLength!==null&&r.data.length<s.minLength.value&&((0,G.addIssueToContext)(r,{code:se.ZodIssueCode.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),a.dirty()),s.maxLength!==null&&r.data.length>s.maxLength.value&&((0,G.addIssueToContext)(r,{code:se.ZodIssueCode.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),a.dirty()),r.common.async)return Promise.all([...r.data].map((n,o)=>s.type._parseAsync(new Mr(r,n,r.path,o)))).then(n=>G.ParseStatus.mergeArray(a,n));let i=[...r.data].map((n,o)=>s.type._parseSync(new Mr(r,n,r.path,o)));return G.ParseStatus.mergeArray(a,i)}get element(){return this._def.type}min(e,r){return new t({...this._def,minLength:{value:e,message:be.errorUtil.toString(r)}})}max(e,r){return new t({...this._def,maxLength:{value:e,message:be.errorUtil.toString(r)}})}length(e,r){return new t({...this._def,exactLength:{value:e,message:be.errorUtil.toString(r)}})}nonempty(e){return this.min(1,e)}};H.ZodArray=Za;Za.create=(t,e)=>new Za({type:t,minLength:null,maxLength:null,exactLength:null,typeName:De.ZodArray,...He(e)});function Li(t){if(t instanceof or){let e={};for(let r in t.shape){let a=t.shape[r];e[r]=qr.create(Li(a))}return new or({...t._def,shape:()=>e})}else return t instanceof Za?new Za({...t._def,type:Li(t.element)}):t instanceof qr?qr.create(Li(t.unwrap())):t instanceof Sa?Sa.create(Li(t.unwrap())):t instanceof wa?wa.create(t.items.map(e=>Li(e))):t}var or=class t extends Ge{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;let e=this._def.shape(),r=ie.util.objectKeys(e);return this._cached={shape:e,keys:r},this._cached}_parse(e){if(this._getType(e)!==ie.ZodParsedType.object){let c=this._getOrReturnCtx(e);return(0,G.addIssueToContext)(c,{code:se.ZodIssueCode.invalid_type,expected:ie.ZodParsedType.object,received:c.parsedType}),G.INVALID}let{status:a,ctx:s}=this._processInputParams(e),{shape:i,keys:n}=this._getCached(),o=[];if(!(this._def.catchall instanceof na&&this._def.unknownKeys==="strip"))for(let c in s.data)n.includes(c)||o.push(c);let l=[];for(let c of n){let u=i[c],d=s.data[c];l.push({key:{status:"valid",value:c},value:u._parse(new Mr(s,d,s.path,c)),alwaysSet:c in s.data})}if(this._def.catchall instanceof na){let c=this._def.unknownKeys;if(c==="passthrough")for(let u of o)l.push({key:{status:"valid",value:u},value:{status:"valid",value:s.data[u]}});else if(c==="strict")o.length>0&&((0,G.addIssueToContext)(s,{code:se.ZodIssueCode.unrecognized_keys,keys:o}),a.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{let c=this._def.catchall;for(let u of o){let d=s.data[u];l.push({key:{status:"valid",value:u},value:c._parse(new Mr(s,d,s.path,u)),alwaysSet:u in s.data})}}return s.common.async?Promise.resolve().then(async()=>{let c=[];for(let u of l){let d=await u.key,h=await u.value;c.push({key:d,value:h,alwaysSet:u.alwaysSet})}return c}).then(c=>G.ParseStatus.mergeObjectSync(a,c)):G.ParseStatus.mergeObjectSync(a,l)}get shape(){return this._def.shape()}strict(e){return be.errorUtil.errToObj,new t({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,a)=>{let s=this._def.errorMap?.(r,a).message??a.defaultError;return r.code==="unrecognized_keys"?{message:be.errorUtil.errToObj(e).message??s}:{message:s}}}:{}})}strip(){return new t({...this._def,unknownKeys:"strip"})}passthrough(){return new t({...this._def,unknownKeys:"passthrough"})}extend(e){return new t({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new t({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:De.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new t({...this._def,catchall:e})}pick(e){let r={};for(let a of ie.util.objectKeys(e))e[a]&&this.shape[a]&&(r[a]=this.shape[a]);return new t({...this._def,shape:()=>r})}omit(e){let r={};for(let a of ie.util.objectKeys(this.shape))e[a]||(r[a]=this.shape[a]);return new t({...this._def,shape:()=>r})}deepPartial(){return Li(this)}partial(e){let r={};for(let a of ie.util.objectKeys(this.shape)){let s=this.shape[a];e&&!e[a]?r[a]=s:r[a]=s.optional()}return new t({...this._def,shape:()=>r})}required(e){let r={};for(let a of ie.util.objectKeys(this.shape))if(e&&!e[a])r[a]=this.shape[a];else{let i=this.shape[a];for(;i instanceof qr;)i=i._def.innerType;r[a]=i}return new t({...this._def,shape:()=>r})}keyof(){return dR(ie.util.objectKeys(this.shape))}};H.ZodObject=or;or.create=(t,e)=>new or({shape:()=>t,unknownKeys:"strip",catchall:na.create(),typeName:De.ZodObject,...He(e)});or.strictCreate=(t,e)=>new or({shape:()=>t,unknownKeys:"strict",catchall:na.create(),typeName:De.ZodObject,...He(e)});or.lazycreate=(t,e)=>new or({shape:t,unknownKeys:"strip",catchall:na.create(),typeName:De.ZodObject,...He(e)});var En=class extends Ge{_parse(e){let{ctx:r}=this._processInputParams(e),a=this._def.options;function s(i){for(let o of i)if(o.result.status==="valid")return o.result;for(let o of i)if(o.result.status==="dirty")return r.common.issues.push(...o.ctx.common.issues),o.result;let n=i.map(o=>new se.ZodError(o.ctx.common.issues));return(0,G.addIssueToContext)(r,{code:se.ZodIssueCode.invalid_union,unionErrors:n}),G.INVALID}if(r.common.async)return Promise.all(a.map(async i=>{let n={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:n}),ctx:n}})).then(s);{let i,n=[];for(let l of a){let c={...r,common:{...r.common,issues:[]},parent:null},u=l._parseSync({data:r.data,path:r.path,parent:c});if(u.status==="valid")return u;u.status==="dirty"&&!i&&(i={result:u,ctx:c}),c.common.issues.length&&n.push(c.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;let o=n.map(l=>new se.ZodError(l));return(0,G.addIssueToContext)(r,{code:se.ZodIssueCode.invalid_union,unionErrors:o}),G.INVALID}}get options(){return this._def.options}};H.ZodUnion=En;En.create=(t,e)=>new En({options:t,typeName:De.ZodUnion,...He(e)});var za=t=>t instanceof Rn?za(t.schema):t instanceof Sr?za(t.innerType()):t instanceof Cn?[t.value]:t instanceof Tn?t.options:t instanceof On?ie.util.objectValues(t.enum):t instanceof In?za(t._def.innerType):t instanceof wn?[void 0]:t instanceof Sn?[null]:t instanceof qr?[void 0,...za(t.unwrap())]:t instanceof Sa?[null,...za(t.unwrap())]:t instanceof ic||t instanceof kn?za(t.unwrap()):t instanceof An?za(t._def.innerType):[],hu=class t extends Ge{_parse(e){let{ctx:r}=this._processInputParams(e);if(r.parsedType!==ie.ZodParsedType.object)return(0,G.addIssueToContext)(r,{code:se.ZodIssueCode.invalid_type,expected:ie.ZodParsedType.object,received:r.parsedType}),G.INVALID;let a=this.discriminator,s=r.data[a],i=this.optionsMap.get(s);return i?r.common.async?i._parseAsync({data:r.data,path:r.path,parent:r}):i._parseSync({data:r.data,path:r.path,parent:r}):((0,G.addIssueToContext)(r,{code:se.ZodIssueCode.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[a]}),G.INVALID)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,a){let s=new Map;for(let i of r){let n=za(i.shape[e]);if(!n.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let o of n){if(s.has(o))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(o)}`);s.set(o,i)}}return new t({typeName:De.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:s,...He(a)})}};H.ZodDiscriminatedUnion=hu;function xh(t,e){let r=(0,ie.getParsedType)(t),a=(0,ie.getParsedType)(e);if(t===e)return{valid:!0,data:t};if(r===ie.ZodParsedType.object&&a===ie.ZodParsedType.object){let s=ie.util.objectKeys(e),i=ie.util.objectKeys(t).filter(o=>s.indexOf(o)!==-1),n={...t,...e};for(let o of i){let l=xh(t[o],e[o]);if(!l.valid)return{valid:!1};n[o]=l.data}return{valid:!0,data:n}}else if(r===ie.ZodParsedType.array&&a===ie.ZodParsedType.array){if(t.length!==e.length)return{valid:!1};let s=[];for(let i=0;i<t.length;i++){let n=t[i],o=e[i],l=xh(n,o);if(!l.valid)return{valid:!1};s.push(l.data)}return{valid:!0,data:s}}else return r===ie.ZodParsedType.date&&a===ie.ZodParsedType.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}var Pn=class extends Ge{_parse(e){let{status:r,ctx:a}=this._processInputParams(e),s=(i,n)=>{if((0,G.isAborted)(i)||(0,G.isAborted)(n))return G.INVALID;let o=xh(i.value,n.value);return o.valid?(((0,G.isDirty)(i)||(0,G.isDirty)(n))&&r.dirty(),{status:r.value,value:o.data}):((0,G.addIssueToContext)(a,{code:se.ZodIssueCode.invalid_intersection_types}),G.INVALID)};return a.common.async?Promise.all([this._def.left._parseAsync({data:a.data,path:a.path,parent:a}),this._def.right._parseAsync({data:a.data,path:a.path,parent:a})]).then(([i,n])=>s(i,n)):s(this._def.left._parseSync({data:a.data,path:a.path,parent:a}),this._def.right._parseSync({data:a.data,path:a.path,parent:a}))}};H.ZodIntersection=Pn;Pn.create=(t,e,r)=>new Pn({left:t,right:e,typeName:De.ZodIntersection,...He(r)});var wa=class t extends Ge{_parse(e){let{status:r,ctx:a}=this._processInputParams(e);if(a.parsedType!==ie.ZodParsedType.array)return(0,G.addIssueToContext)(a,{code:se.ZodIssueCode.invalid_type,expected:ie.ZodParsedType.array,received:a.parsedType}),G.INVALID;if(a.data.length<this._def.items.length)return(0,G.addIssueToContext)(a,{code:se.ZodIssueCode.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),G.INVALID;!this._def.rest&&a.data.length>this._def.items.length&&((0,G.addIssueToContext)(a,{code:se.ZodIssueCode.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());let i=[...a.data].map((n,o)=>{let l=this._def.items[o]||this._def.rest;return l?l._parse(new Mr(a,n,a.path,o)):null}).filter(n=>!!n);return a.common.async?Promise.all(i).then(n=>G.ParseStatus.mergeArray(r,n)):G.ParseStatus.mergeArray(r,i)}get items(){return this._def.items}rest(e){return new t({...this._def,rest:e})}};H.ZodTuple=wa;wa.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new wa({items:t,typeName:De.ZodTuple,rest:null,...He(e)})};var vu=class t extends Ge{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:r,ctx:a}=this._processInputParams(e);if(a.parsedType!==ie.ZodParsedType.object)return(0,G.addIssueToContext)(a,{code:se.ZodIssueCode.invalid_type,expected:ie.ZodParsedType.object,received:a.parsedType}),G.INVALID;let s=[],i=this._def.keyType,n=this._def.valueType;for(let o in a.data)s.push({key:i._parse(new Mr(a,o,a.path,o)),value:n._parse(new Mr(a,a.data[o],a.path,o)),alwaysSet:o in a.data});return a.common.async?G.ParseStatus.mergeObjectAsync(r,s):G.ParseStatus.mergeObjectSync(r,s)}get element(){return this._def.valueType}static create(e,r,a){return r instanceof Ge?new t({keyType:e,valueType:r,typeName:De.ZodRecord,...He(a)}):new t({keyType:ys.create(),valueType:e,typeName:De.ZodRecord,...He(r)})}};H.ZodRecord=vu;var Mi=class extends Ge{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:r,ctx:a}=this._processInputParams(e);if(a.parsedType!==ie.ZodParsedType.map)return(0,G.addIssueToContext)(a,{code:se.ZodIssueCode.invalid_type,expected:ie.ZodParsedType.map,received:a.parsedType}),G.INVALID;let s=this._def.keyType,i=this._def.valueType,n=[...a.data.entries()].map(([o,l],c)=>({key:s._parse(new Mr(a,o,a.path,[c,"key"])),value:i._parse(new Mr(a,l,a.path,[c,"value"]))}));if(a.common.async){let o=new Map;return Promise.resolve().then(async()=>{for(let l of n){let c=await l.key,u=await l.value;if(c.status==="aborted"||u.status==="aborted")return G.INVALID;(c.status==="dirty"||u.status==="dirty")&&r.dirty(),o.set(c.value,u.value)}return{status:r.value,value:o}})}else{let o=new Map;for(let l of n){let c=l.key,u=l.value;if(c.status==="aborted"||u.status==="aborted")return G.INVALID;(c.status==="dirty"||u.status==="dirty")&&r.dirty(),o.set(c.value,u.value)}return{status:r.value,value:o}}}};H.ZodMap=Mi;Mi.create=(t,e,r)=>new Mi({valueType:e,keyType:t,typeName:De.ZodMap,...He(r)});var Ui=class t extends Ge{_parse(e){let{status:r,ctx:a}=this._processInputParams(e);if(a.parsedType!==ie.ZodParsedType.set)return(0,G.addIssueToContext)(a,{code:se.ZodIssueCode.invalid_type,expected:ie.ZodParsedType.set,received:a.parsedType}),G.INVALID;let s=this._def;s.minSize!==null&&a.data.size<s.minSize.value&&((0,G.addIssueToContext)(a,{code:se.ZodIssueCode.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),r.dirty()),s.maxSize!==null&&a.data.size>s.maxSize.value&&((0,G.addIssueToContext)(a,{code:se.ZodIssueCode.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),r.dirty());let i=this._def.valueType;function n(l){let c=new Set;for(let u of l){if(u.status==="aborted")return G.INVALID;u.status==="dirty"&&r.dirty(),c.add(u.value)}return{status:r.value,value:c}}let o=[...a.data.values()].map((l,c)=>i._parse(new Mr(a,l,a.path,c)));return a.common.async?Promise.all(o).then(l=>n(l)):n(o)}min(e,r){return new t({...this._def,minSize:{value:e,message:be.errorUtil.toString(r)}})}max(e,r){return new t({...this._def,maxSize:{value:e,message:be.errorUtil.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}};H.ZodSet=Ui;Ui.create=(t,e)=>new Ui({valueType:t,minSize:null,maxSize:null,typeName:De.ZodSet,...He(e)});var gu=class t extends Ge{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:r}=this._processInputParams(e);if(r.parsedType!==ie.ZodParsedType.function)return(0,G.addIssueToContext)(r,{code:se.ZodIssueCode.invalid_type,expected:ie.ZodParsedType.function,received:r.parsedType}),G.INVALID;function a(o,l){return(0,G.makeIssue)({data:o,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,(0,mu.getErrorMap)(),mu.defaultErrorMap].filter(c=>!!c),issueData:{code:se.ZodIssueCode.invalid_arguments,argumentsError:l}})}function s(o,l){return(0,G.makeIssue)({data:o,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,(0,mu.getErrorMap)(),mu.defaultErrorMap].filter(c=>!!c),issueData:{code:se.ZodIssueCode.invalid_return_type,returnTypeError:l}})}let i={errorMap:r.common.contextualErrorMap},n=r.data;if(this._def.returns instanceof bs){let o=this;return(0,G.OK)(async function(...l){let c=new se.ZodError([]),u=await o._def.args.parseAsync(l,i).catch(p=>{throw c.addIssue(a(l,p)),c}),d=await Reflect.apply(n,this,u);return await o._def.returns._def.type.parseAsync(d,i).catch(p=>{throw c.addIssue(s(d,p)),c})})}else{let o=this;return(0,G.OK)(function(...l){let c=o._def.args.safeParse(l,i);if(!c.success)throw new se.ZodError([a(l,c.error)]);let u=Reflect.apply(n,this,c.data),d=o._def.returns.safeParse(u,i);if(!d.success)throw new se.ZodError([s(u,d.error)]);return d.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new t({...this._def,args:wa.create(e).rest(Ba.create())})}returns(e){return new t({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,r,a){return new t({args:e||wa.create([]).rest(Ba.create()),returns:r||Ba.create(),typeName:De.ZodFunction,...He(a)})}};H.ZodFunction=gu;var Rn=class extends Ge{get schema(){return this._def.getter()}_parse(e){let{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}};H.ZodLazy=Rn;Rn.create=(t,e)=>new Rn({getter:t,typeName:De.ZodLazy,...He(e)});var Cn=class extends Ge{_parse(e){if(e.data!==this._def.value){let r=this._getOrReturnCtx(e);return(0,G.addIssueToContext)(r,{received:r.data,code:se.ZodIssueCode.invalid_literal,expected:this._def.value}),G.INVALID}return{status:"valid",value:e.data}}get value(){return this._def.value}};H.ZodLiteral=Cn;Cn.create=(t,e)=>new Cn({value:t,typeName:De.ZodLiteral,...He(e)});function dR(t,e){return new Tn({values:t,typeName:De.ZodEnum,...He(e)})}var Tn=class t extends Ge{_parse(e){if(typeof e.data!="string"){let r=this._getOrReturnCtx(e),a=this._def.values;return(0,G.addIssueToContext)(r,{expected:ie.util.joinValues(a),received:r.parsedType,code:se.ZodIssueCode.invalid_type}),G.INVALID}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){let r=this._getOrReturnCtx(e),a=this._def.values;return(0,G.addIssueToContext)(r,{received:r.data,code:se.ZodIssueCode.invalid_enum_value,options:a}),G.INVALID}return(0,G.OK)(e.data)}get options(){return this._def.values}get enum(){let e={};for(let r of this._def.values)e[r]=r;return e}get Values(){let e={};for(let r of this._def.values)e[r]=r;return e}get Enum(){let e={};for(let r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return t.create(e,{...this._def,...r})}exclude(e,r=this._def){return t.create(this.options.filter(a=>!e.includes(a)),{...this._def,...r})}};H.ZodEnum=Tn;Tn.create=dR;var On=class extends Ge{_parse(e){let r=ie.util.getValidEnumValues(this._def.values),a=this._getOrReturnCtx(e);if(a.parsedType!==ie.ZodParsedType.string&&a.parsedType!==ie.ZodParsedType.number){let s=ie.util.objectValues(r);return(0,G.addIssueToContext)(a,{expected:ie.util.joinValues(s),received:a.parsedType,code:se.ZodIssueCode.invalid_type}),G.INVALID}if(this._cache||(this._cache=new Set(ie.util.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){let s=ie.util.objectValues(r);return(0,G.addIssueToContext)(a,{received:a.data,code:se.ZodIssueCode.invalid_enum_value,options:s}),G.INVALID}return(0,G.OK)(e.data)}get enum(){return this._def.values}};H.ZodNativeEnum=On;On.create=(t,e)=>new On({values:t,typeName:De.ZodNativeEnum,...He(e)});var bs=class extends Ge{unwrap(){return this._def.type}_parse(e){let{ctx:r}=this._processInputParams(e);if(r.parsedType!==ie.ZodParsedType.promise&&r.common.async===!1)return(0,G.addIssueToContext)(r,{code:se.ZodIssueCode.invalid_type,expected:ie.ZodParsedType.promise,received:r.parsedType}),G.INVALID;let a=r.parsedType===ie.ZodParsedType.promise?r.data:Promise.resolve(r.data);return(0,G.OK)(a.then(s=>this._def.type.parseAsync(s,{path:r.path,errorMap:r.common.contextualErrorMap})))}};H.ZodPromise=bs;bs.create=(t,e)=>new bs({type:t,typeName:De.ZodPromise,...He(e)});var Sr=class extends Ge{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===De.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:r,ctx:a}=this._processInputParams(e),s=this._def.effect||null,i={addIssue:n=>{(0,G.addIssueToContext)(a,n),n.fatal?r.abort():r.dirty()},get path(){return a.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){let n=s.transform(a.data,i);if(a.common.async)return Promise.resolve(n).then(async o=>{if(r.value==="aborted")return G.INVALID;let l=await this._def.schema._parseAsync({data:o,path:a.path,parent:a});return l.status==="aborted"?G.INVALID:l.status==="dirty"||r.value==="dirty"?(0,G.DIRTY)(l.value):l});{if(r.value==="aborted")return G.INVALID;let o=this._def.schema._parseSync({data:n,path:a.path,parent:a});return o.status==="aborted"?G.INVALID:o.status==="dirty"||r.value==="dirty"?(0,G.DIRTY)(o.value):o}}if(s.type==="refinement"){let n=o=>{let l=s.refinement(o,i);if(a.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(a.common.async===!1){let o=this._def.schema._parseSync({data:a.data,path:a.path,parent:a});return o.status==="aborted"?G.INVALID:(o.status==="dirty"&&r.dirty(),n(o.value),{status:r.value,value:o.value})}else return this._def.schema._parseAsync({data:a.data,path:a.path,parent:a}).then(o=>o.status==="aborted"?G.INVALID:(o.status==="dirty"&&r.dirty(),n(o.value).then(()=>({status:r.value,value:o.value}))))}if(s.type==="transform")if(a.common.async===!1){let n=this._def.schema._parseSync({data:a.data,path:a.path,parent:a});if(!(0,G.isValid)(n))return G.INVALID;let o=s.transform(n.value,i);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:o}}else return this._def.schema._parseAsync({data:a.data,path:a.path,parent:a}).then(n=>(0,G.isValid)(n)?Promise.resolve(s.transform(n.value,i)).then(o=>({status:r.value,value:o})):G.INVALID);ie.util.assertNever(s)}};H.ZodEffects=Sr;H.ZodTransformer=Sr;Sr.create=(t,e,r)=>new Sr({schema:t,typeName:De.ZodEffects,effect:e,...He(r)});Sr.createWithPreprocess=(t,e,r)=>new Sr({schema:e,effect:{type:"preprocess",transform:t},typeName:De.ZodEffects,...He(r)});var qr=class extends Ge{_parse(e){return this._getType(e)===ie.ZodParsedType.undefined?(0,G.OK)(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};H.ZodOptional=qr;qr.create=(t,e)=>new qr({innerType:t,typeName:De.ZodOptional,...He(e)});var Sa=class extends Ge{_parse(e){return this._getType(e)===ie.ZodParsedType.null?(0,G.OK)(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};H.ZodNullable=Sa;Sa.create=(t,e)=>new Sa({innerType:t,typeName:De.ZodNullable,...He(e)});var In=class extends Ge{_parse(e){let{ctx:r}=this._processInputParams(e),a=r.data;return r.parsedType===ie.ZodParsedType.undefined&&(a=this._def.defaultValue()),this._def.innerType._parse({data:a,path:r.path,parent:r})}removeDefault(){return this._def.innerType}};H.ZodDefault=In;In.create=(t,e)=>new In({innerType:t,typeName:De.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...He(e)});var An=class extends Ge{_parse(e){let{ctx:r}=this._processInputParams(e),a={...r,common:{...r.common,issues:[]}},s=this._def.innerType._parse({data:a.data,path:a.path,parent:{...a}});return(0,G.isAsync)(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new se.ZodError(a.common.issues)},input:a.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new se.ZodError(a.common.issues)},input:a.data})}}removeCatch(){return this._def.innerType}};H.ZodCatch=An;An.create=(t,e)=>new An({innerType:t,typeName:De.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...He(e)});var zi=class extends Ge{_parse(e){if(this._getType(e)!==ie.ZodParsedType.nan){let a=this._getOrReturnCtx(e);return(0,G.addIssueToContext)(a,{code:se.ZodIssueCode.invalid_type,expected:ie.ZodParsedType.nan,received:a.parsedType}),G.INVALID}return{status:"valid",value:e.data}}};H.ZodNaN=zi;zi.create=t=>new zi({typeName:De.ZodNaN,...He(t)});H.BRAND=Symbol("zod_brand");var ic=class extends Ge{_parse(e){let{ctx:r}=this._processInputParams(e),a=r.data;return this._def.type._parse({data:a,path:r.path,parent:r})}unwrap(){return this._def.type}};H.ZodBranded=ic;var oc=class t extends Ge{_parse(e){let{status:r,ctx:a}=this._processInputParams(e);if(a.common.async)return(async()=>{let i=await this._def.in._parseAsync({data:a.data,path:a.path,parent:a});return i.status==="aborted"?G.INVALID:i.status==="dirty"?(r.dirty(),(0,G.DIRTY)(i.value)):this._def.out._parseAsync({data:i.value,path:a.path,parent:a})})();{let s=this._def.in._parseSync({data:a.data,path:a.path,parent:a});return s.status==="aborted"?G.INVALID:s.status==="dirty"?(r.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:a.path,parent:a})}}static create(e,r){return new t({in:e,out:r,typeName:De.ZodPipeline})}};H.ZodPipeline=oc;var kn=class extends Ge{_parse(e){let r=this._def.innerType._parse(e),a=s=>((0,G.isValid)(s)&&(s.value=Object.freeze(s.value)),s);return(0,G.isAsync)(r)?r.then(s=>a(s)):a(r)}unwrap(){return this._def.innerType}};H.ZodReadonly=kn;kn.create=(t,e)=>new kn({innerType:t,typeName:De.ZodReadonly,...He(e)});function oR(t,e){let r=typeof t=="function"?t(e):typeof t=="string"?{message:t}:t;return typeof r=="string"?{message:r}:r}function pR(t,e={},r){return t?xs.create().superRefine((a,s)=>{let i=t(a);if(i instanceof Promise)return i.then(n=>{if(!n){let o=oR(e,a),l=o.fatal??r??!0;s.addIssue({code:"custom",...o,fatal:l})}});if(!i){let n=oR(e,a),o=n.fatal??r??!0;s.addIssue({code:"custom",...n,fatal:o})}}):xs.create()}H.late={object:or.lazycreate};var De;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(De||(H.ZodFirstPartyTypeKind=De={}));var K9=(t,e={message:`Input not instance of ${t.name}`})=>pR(r=>r instanceof t,e);H.instanceof=K9;var fR=ys.create;H.string=fR;var mR=yn.create;H.number=mR;var J9=zi.create;H.nan=J9;var Q9=xn.create;H.bigint=Q9;var hR=bn.create;H.boolean=hR;var Y9=_n.create;H.date=Y9;var X9=Fi.create;H.symbol=X9;var e4=wn.create;H.undefined=e4;var t4=Sn.create;H.null=t4;var r4=xs.create;H.any=r4;var a4=Ba.create;H.unknown=a4;var s4=na.create;H.never=s4;var n4=qi.create;H.void=n4;var i4=Za.create;H.array=i4;var o4=or.create;H.object=o4;var c4=or.strictCreate;H.strictObject=c4;var l4=En.create;H.union=l4;var u4=hu.create;H.discriminatedUnion=u4;var d4=Pn.create;H.intersection=d4;var p4=wa.create;H.tuple=p4;var f4=vu.create;H.record=f4;var m4=Mi.create;H.map=m4;var h4=Ui.create;H.set=h4;var v4=gu.create;H.function=v4;var g4=Rn.create;H.lazy=g4;var y4=Cn.create;H.literal=y4;var x4=Tn.create;H.enum=x4;var b4=On.create;H.nativeEnum=b4;var _4=bs.create;H.promise=_4;var vR=Sr.create;H.effect=vR;H.transformer=vR;var w4=qr.create;H.optional=w4;var S4=Sa.create;H.nullable=S4;var E4=Sr.createWithPreprocess;H.preprocess=E4;var P4=oc.create;H.pipeline=P4;var R4=()=>fR().optional();H.ostring=R4;var C4=()=>mR().optional();H.onumber=C4;var T4=()=>hR().optional();H.oboolean=T4;H.coerce={string:t=>ys.create({...t,coerce:!0}),number:t=>yn.create({...t,coerce:!0}),boolean:t=>bn.create({...t,coerce:!0}),bigint:t=>xn.create({...t,coerce:!0}),date:t=>_n.create({...t,coerce:!0})};H.NEVER=G.INVALID});var bh=j(Ur=>{"use strict";var O4=Ur&&Ur.__createBinding||(Object.create?function(t,e,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(e,r);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,a,s)}:function(t,e,r,a){a===void 0&&(a=r),t[a]=e[r]}),Bi=Ur&&Ur.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&O4(e,t,r)};Object.defineProperty(Ur,"__esModule",{value:!0});Bi(pu(),Ur);Bi(gh(),Ur);Bi(aR(),Ur);Bi(sc(),Ur);Bi(gR(),Ur);Bi(du(),Ur)});var Va=j(cr=>{"use strict";var yR=cr&&cr.__createBinding||(Object.create?function(t,e,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(e,r);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,a,s)}:function(t,e,r,a){a===void 0&&(a=r),t[a]=e[r]}),I4=cr&&cr.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),A4=cr&&cr.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&yR(e,t,r);return I4(e,t),e},k4=cr&&cr.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&yR(e,t,r)};Object.defineProperty(cr,"__esModule",{value:!0});cr.z=void 0;var xR=A4(bh());cr.z=xR;k4(bh(),cr);cr.default=xR});var lc=j(_=>{"use strict";Object.defineProperty(_,"__esModule",{value:!0});_.UnsubscribeRequestSchema=_.SubscribeRequestSchema=_.ResourceListChangedNotificationSchema=_.ReadResourceResultSchema=_.ReadResourceRequestSchema=_.ListResourceTemplatesResultSchema=_.ListResourceTemplatesRequestSchema=_.ListResourcesResultSchema=_.ListResourcesRequestSchema=_.ResourceTemplateSchema=_.ResourceSchema=_.BlobResourceContentsSchema=_.TextResourceContentsSchema=_.ResourceContentsSchema=_.PaginatedResultSchema=_.PaginatedRequestSchema=_.ProgressNotificationSchema=_.ProgressSchema=_.PingRequestSchema=_.isInitializedNotification=_.InitializedNotificationSchema=_.InitializeResultSchema=_.ServerCapabilitiesSchema=_.isInitializeRequest=_.InitializeRequestSchema=_.ClientCapabilitiesSchema=_.ImplementationSchema=_.BaseMetadataSchema=_.CancelledNotificationSchema=_.EmptyResultSchema=_.JSONRPCMessageSchema=_.isJSONRPCError=_.JSONRPCErrorSchema=_.ErrorCode=_.isJSONRPCResponse=_.JSONRPCResponseSchema=_.isJSONRPCNotification=_.JSONRPCNotificationSchema=_.isJSONRPCRequest=_.JSONRPCRequestSchema=_.RequestIdSchema=_.ResultSchema=_.NotificationSchema=_.RequestSchema=_.CursorSchema=_.ProgressTokenSchema=_.JSONRPC_VERSION=_.SUPPORTED_PROTOCOL_VERSIONS=_.DEFAULT_NEGOTIATED_PROTOCOL_VERSION=_.LATEST_PROTOCOL_VERSION=void 0;_.ClientResultSchema=_.ClientNotificationSchema=_.ClientRequestSchema=_.RootsListChangedNotificationSchema=_.ListRootsResultSchema=_.ListRootsRequestSchema=_.RootSchema=_.CompleteResultSchema=_.CompleteRequestSchema=_.PromptReferenceSchema=_.ResourceReferenceSchema=_.ResourceTemplateReferenceSchema=_.ElicitResultSchema=_.ElicitRequestSchema=_.PrimitiveSchemaDefinitionSchema=_.EnumSchemaSchema=_.NumberSchemaSchema=_.StringSchemaSchema=_.BooleanSchemaSchema=_.CreateMessageResultSchema=_.CreateMessageRequestSchema=_.SamplingMessageSchema=_.ModelPreferencesSchema=_.ModelHintSchema=_.LoggingMessageNotificationSchema=_.SetLevelRequestSchema=_.LoggingLevelSchema=_.ToolListChangedNotificationSchema=_.CallToolRequestSchema=_.CompatibilityCallToolResultSchema=_.CallToolResultSchema=_.ListToolsResultSchema=_.ListToolsRequestSchema=_.ToolSchema=_.ToolAnnotationsSchema=_.PromptListChangedNotificationSchema=_.GetPromptResultSchema=_.PromptMessageSchema=_.ContentBlockSchema=_.ResourceLinkSchema=_.EmbeddedResourceSchema=_.AudioContentSchema=_.ImageContentSchema=_.TextContentSchema=_.GetPromptRequestSchema=_.ListPromptsResultSchema=_.ListPromptsRequestSchema=_.PromptSchema=_.PromptArgumentSchema=_.ResourceUpdatedNotificationSchema=void 0;_.McpError=_.ServerResultSchema=_.ServerNotificationSchema=_.ServerRequestSchema=void 0;var E=Va();_.LATEST_PROTOCOL_VERSION="2025-06-18";_.DEFAULT_NEGOTIATED_PROTOCOL_VERSION="2025-03-26";_.SUPPORTED_PROTOCOL_VERSIONS=[_.LATEST_PROTOCOL_VERSION,"2025-03-26","2024-11-05","2024-10-07"];_.JSONRPC_VERSION="2.0";_.ProgressTokenSchema=E.z.union([E.z.string(),E.z.number().int()]);_.CursorSchema=E.z.string();var j4=E.z.object({progressToken:E.z.optional(_.ProgressTokenSchema)}).passthrough(),zr=E.z.object({_meta:E.z.optional(j4)}).passthrough();_.RequestSchema=E.z.object({method:E.z.string(),params:E.z.optional(zr)});var cc=E.z.object({_meta:E.z.optional(E.z.object({}).passthrough())}).passthrough();_.NotificationSchema=E.z.object({method:E.z.string(),params:E.z.optional(cc)});_.ResultSchema=E.z.object({_meta:E.z.optional(E.z.object({}).passthrough())}).passthrough();_.RequestIdSchema=E.z.union([E.z.string(),E.z.number().int()]);_.JSONRPCRequestSchema=E.z.object({jsonrpc:E.z.literal(_.JSONRPC_VERSION),id:_.RequestIdSchema}).merge(_.RequestSchema).strict();var D4=t=>_.JSONRPCRequestSchema.safeParse(t).success;_.isJSONRPCRequest=D4;_.JSONRPCNotificationSchema=E.z.object({jsonrpc:E.z.literal(_.JSONRPC_VERSION)}).merge(_.NotificationSchema).strict();var N4=t=>_.JSONRPCNotificationSchema.safeParse(t).success;_.isJSONRPCNotification=N4;_.JSONRPCResponseSchema=E.z.object({jsonrpc:E.z.literal(_.JSONRPC_VERSION),id:_.RequestIdSchema,result:_.ResultSchema}).strict();var $4=t=>_.JSONRPCResponseSchema.safeParse(t).success;_.isJSONRPCResponse=$4;var bR;(function(t){t[t.ConnectionClosed=-32e3]="ConnectionClosed",t[t.RequestTimeout=-32001]="RequestTimeout",t[t.ParseError=-32700]="ParseError",t[t.InvalidRequest=-32600]="InvalidRequest",t[t.MethodNotFound=-32601]="MethodNotFound",t[t.InvalidParams=-32602]="InvalidParams",t[t.InternalError=-32603]="InternalError"})(bR||(_.ErrorCode=bR={}));_.JSONRPCErrorSchema=E.z.object({jsonrpc:E.z.literal(_.JSONRPC_VERSION),id:_.RequestIdSchema,error:E.z.object({code:E.z.number().int(),message:E.z.string(),data:E.z.optional(E.z.unknown())})}).strict();var L4=t=>_.JSONRPCErrorSchema.safeParse(t).success;_.isJSONRPCError=L4;_.JSONRPCMessageSchema=E.z.union([_.JSONRPCRequestSchema,_.JSONRPCNotificationSchema,_.JSONRPCResponseSchema,_.JSONRPCErrorSchema]);_.EmptyResultSchema=_.ResultSchema.strict();_.CancelledNotificationSchema=_.NotificationSchema.extend({method:E.z.literal("notifications/cancelled"),params:cc.extend({requestId:_.RequestIdSchema,reason:E.z.string().optional()})});_.BaseMetadataSchema=E.z.object({name:E.z.string(),title:E.z.optional(E.z.string())}).passthrough();_.ImplementationSchema=_.BaseMetadataSchema.extend({version:E.z.string()});_.ClientCapabilitiesSchema=E.z.object({experimental:E.z.optional(E.z.object({}).passthrough()),sampling:E.z.optional(E.z.object({}).passthrough()),elicitation:E.z.optional(E.z.object({}).passthrough()),roots:E.z.optional(E.z.object({listChanged:E.z.optional(E.z.boolean())}).passthrough())}).passthrough();_.InitializeRequestSchema=_.RequestSchema.extend({method:E.z.literal("initialize"),params:zr.extend({protocolVersion:E.z.string(),capabilities:_.ClientCapabilitiesSchema,clientInfo:_.ImplementationSchema})});var F4=t=>_.InitializeRequestSchema.safeParse(t).success;_.isInitializeRequest=F4;_.ServerCapabilitiesSchema=E.z.object({experimental:E.z.optional(E.z.object({}).passthrough()),logging:E.z.optional(E.z.object({}).passthrough()),completions:E.z.optional(E.z.object({}).passthrough()),prompts:E.z.optional(E.z.object({listChanged:E.z.optional(E.z.boolean())}).passthrough()),resources:E.z.optional(E.z.object({subscribe:E.z.optional(E.z.boolean()),listChanged:E.z.optional(E.z.boolean())}).passthrough()),tools:E.z.optional(E.z.object({listChanged:E.z.optional(E.z.boolean())}).passthrough())}).passthrough();_.InitializeResultSchema=_.ResultSchema.extend({protocolVersion:E.z.string(),capabilities:_.ServerCapabilitiesSchema,serverInfo:_.ImplementationSchema,instructions:E.z.optional(E.z.string())});_.InitializedNotificationSchema=_.NotificationSchema.extend({method:E.z.literal("notifications/initialized")});var q4=t=>_.InitializedNotificationSchema.safeParse(t).success;_.isInitializedNotification=q4;_.PingRequestSchema=_.RequestSchema.extend({method:E.z.literal("ping")});_.ProgressSchema=E.z.object({progress:E.z.number(),total:E.z.optional(E.z.number()),message:E.z.optional(E.z.string())}).passthrough();_.ProgressNotificationSchema=_.NotificationSchema.extend({method:E.z.literal("notifications/progress"),params:cc.merge(_.ProgressSchema).extend({progressToken:_.ProgressTokenSchema})});_.PaginatedRequestSchema=_.RequestSchema.extend({params:zr.extend({cursor:E.z.optional(_.CursorSchema)}).optional()});_.PaginatedResultSchema=_.ResultSchema.extend({nextCursor:E.z.optional(_.CursorSchema)});_.ResourceContentsSchema=E.z.object({uri:E.z.string(),mimeType:E.z.optional(E.z.string()),_meta:E.z.optional(E.z.object({}).passthrough())}).passthrough();_.TextResourceContentsSchema=_.ResourceContentsSchema.extend({text:E.z.string()});var wh=E.z.string().refine(t=>{try{return atob(t),!0}catch{return!1}},{message:"Invalid Base64 string"});_.BlobResourceContentsSchema=_.ResourceContentsSchema.extend({blob:wh});_.ResourceSchema=_.BaseMetadataSchema.extend({uri:E.z.string(),description:E.z.optional(E.z.string()),mimeType:E.z.optional(E.z.string()),_meta:E.z.optional(E.z.object({}).passthrough())});_.ResourceTemplateSchema=_.BaseMetadataSchema.extend({uriTemplate:E.z.string(),description:E.z.optional(E.z.string()),mimeType:E.z.optional(E.z.string()),_meta:E.z.optional(E.z.object({}).passthrough())});_.ListResourcesRequestSchema=_.PaginatedRequestSchema.extend({method:E.z.literal("resources/list")});_.ListResourcesResultSchema=_.PaginatedResultSchema.extend({resources:E.z.array(_.ResourceSchema)});_.ListResourceTemplatesRequestSchema=_.PaginatedRequestSchema.extend({method:E.z.literal("resources/templates/list")});_.ListResourceTemplatesResultSchema=_.PaginatedResultSchema.extend({resourceTemplates:E.z.array(_.ResourceTemplateSchema)});_.ReadResourceRequestSchema=_.RequestSchema.extend({method:E.z.literal("resources/read"),params:zr.extend({uri:E.z.string()})});_.ReadResourceResultSchema=_.ResultSchema.extend({contents:E.z.array(E.z.union([_.TextResourceContentsSchema,_.BlobResourceContentsSchema]))});_.ResourceListChangedNotificationSchema=_.NotificationSchema.extend({method:E.z.literal("notifications/resources/list_changed")});_.SubscribeRequestSchema=_.RequestSchema.extend({method:E.z.literal("resources/subscribe"),params:zr.extend({uri:E.z.string()})});_.UnsubscribeRequestSchema=_.RequestSchema.extend({method:E.z.literal("resources/unsubscribe"),params:zr.extend({uri:E.z.string()})});_.ResourceUpdatedNotificationSchema=_.NotificationSchema.extend({method:E.z.literal("notifications/resources/updated"),params:cc.extend({uri:E.z.string()})});_.PromptArgumentSchema=E.z.object({name:E.z.string(),description:E.z.optional(E.z.string()),required:E.z.optional(E.z.boolean())}).passthrough();_.PromptSchema=_.BaseMetadataSchema.extend({description:E.z.optional(E.z.string()),arguments:E.z.optional(E.z.array(_.PromptArgumentSchema)),_meta:E.z.optional(E.z.object({}).passthrough())});_.ListPromptsRequestSchema=_.PaginatedRequestSchema.extend({method:E.z.literal("prompts/list")});_.ListPromptsResultSchema=_.PaginatedResultSchema.extend({prompts:E.z.array(_.PromptSchema)});_.GetPromptRequestSchema=_.RequestSchema.extend({method:E.z.literal("prompts/get"),params:zr.extend({name:E.z.string(),arguments:E.z.optional(E.z.record(E.z.string()))})});_.TextContentSchema=E.z.object({type:E.z.literal("text"),text:E.z.string(),_meta:E.z.optional(E.z.object({}).passthrough())}).passthrough();_.ImageContentSchema=E.z.object({type:E.z.literal("image"),data:wh,mimeType:E.z.string(),_meta:E.z.optional(E.z.object({}).passthrough())}).passthrough();_.AudioContentSchema=E.z.object({type:E.z.literal("audio"),data:wh,mimeType:E.z.string(),_meta:E.z.optional(E.z.object({}).passthrough())}).passthrough();_.EmbeddedResourceSchema=E.z.object({type:E.z.literal("resource"),resource:E.z.union([_.TextResourceContentsSchema,_.BlobResourceContentsSchema]),_meta:E.z.optional(E.z.object({}).passthrough())}).passthrough();_.ResourceLinkSchema=_.ResourceSchema.extend({type:E.z.literal("resource_link")});_.ContentBlockSchema=E.z.union([_.TextContentSchema,_.ImageContentSchema,_.AudioContentSchema,_.ResourceLinkSchema,_.EmbeddedResourceSchema]);_.PromptMessageSchema=E.z.object({role:E.z.enum(["user","assistant"]),content:_.ContentBlockSchema}).passthrough();_.GetPromptResultSchema=_.ResultSchema.extend({description:E.z.optional(E.z.string()),messages:E.z.array(_.PromptMessageSchema)});_.PromptListChangedNotificationSchema=_.NotificationSchema.extend({method:E.z.literal("notifications/prompts/list_changed")});_.ToolAnnotationsSchema=E.z.object({title:E.z.optional(E.z.string()),readOnlyHint:E.z.optional(E.z.boolean()),destructiveHint:E.z.optional(E.z.boolean()),idempotentHint:E.z.optional(E.z.boolean()),openWorldHint:E.z.optional(E.z.boolean())}).passthrough();_.ToolSchema=_.BaseMetadataSchema.extend({description:E.z.optional(E.z.string()),inputSchema:E.z.object({type:E.z.literal("object"),properties:E.z.optional(E.z.object({}).passthrough()),required:E.z.optional(E.z.array(E.z.string()))}).passthrough(),outputSchema:E.z.optional(E.z.object({type:E.z.literal("object"),properties:E.z.optional(E.z.object({}).passthrough()),required:E.z.optional(E.z.array(E.z.string()))}).passthrough()),annotations:E.z.optional(_.ToolAnnotationsSchema),_meta:E.z.optional(E.z.object({}).passthrough())});_.ListToolsRequestSchema=_.PaginatedRequestSchema.extend({method:E.z.literal("tools/list")});_.ListToolsResultSchema=_.PaginatedResultSchema.extend({tools:E.z.array(_.ToolSchema)});_.CallToolResultSchema=_.ResultSchema.extend({content:E.z.array(_.ContentBlockSchema).default([]),structuredContent:E.z.object({}).passthrough().optional(),isError:E.z.optional(E.z.boolean())});_.CompatibilityCallToolResultSchema=_.CallToolResultSchema.or(_.ResultSchema.extend({toolResult:E.z.unknown()}));_.CallToolRequestSchema=_.RequestSchema.extend({method:E.z.literal("tools/call"),params:zr.extend({name:E.z.string(),arguments:E.z.optional(E.z.record(E.z.unknown()))})});_.ToolListChangedNotificationSchema=_.NotificationSchema.extend({method:E.z.literal("notifications/tools/list_changed")});_.LoggingLevelSchema=E.z.enum(["debug","info","notice","warning","error","critical","alert","emergency"]);_.SetLevelRequestSchema=_.RequestSchema.extend({method:E.z.literal("logging/setLevel"),params:zr.extend({level:_.LoggingLevelSchema})});_.LoggingMessageNotificationSchema=_.NotificationSchema.extend({method:E.z.literal("notifications/message"),params:cc.extend({level:_.LoggingLevelSchema,logger:E.z.optional(E.z.string()),data:E.z.unknown()})});_.ModelHintSchema=E.z.object({name:E.z.string().optional()}).passthrough();_.ModelPreferencesSchema=E.z.object({hints:E.z.optional(E.z.array(_.ModelHintSchema)),costPriority:E.z.optional(E.z.number().min(0).max(1)),speedPriority:E.z.optional(E.z.number().min(0).max(1)),intelligencePriority:E.z.optional(E.z.number().min(0).max(1))}).passthrough();_.SamplingMessageSchema=E.z.object({role:E.z.enum(["user","assistant"]),content:E.z.union([_.TextContentSchema,_.ImageContentSchema,_.AudioContentSchema])}).passthrough();_.CreateMessageRequestSchema=_.RequestSchema.extend({method:E.z.literal("sampling/createMessage"),params:zr.extend({messages:E.z.array(_.SamplingMessageSchema),systemPrompt:E.z.optional(E.z.string()),includeContext:E.z.optional(E.z.enum(["none","thisServer","allServers"])),temperature:E.z.optional(E.z.number()),maxTokens:E.z.number().int(),stopSequences:E.z.optional(E.z.array(E.z.string())),metadata:E.z.optional(E.z.object({}).passthrough()),modelPreferences:E.z.optional(_.ModelPreferencesSchema)})});_.CreateMessageResultSchema=_.ResultSchema.extend({model:E.z.string(),stopReason:E.z.optional(E.z.enum(["endTurn","stopSequence","maxTokens"]).or(E.z.string())),role:E.z.enum(["user","assistant"]),content:E.z.discriminatedUnion("type",[_.TextContentSchema,_.ImageContentSchema,_.AudioContentSchema])});_.BooleanSchemaSchema=E.z.object({type:E.z.literal("boolean"),title:E.z.optional(E.z.string()),description:E.z.optional(E.z.string()),default:E.z.optional(E.z.boolean())}).passthrough();_.StringSchemaSchema=E.z.object({type:E.z.literal("string"),title:E.z.optional(E.z.string()),description:E.z.optional(E.z.string()),minLength:E.z.optional(E.z.number()),maxLength:E.z.optional(E.z.number()),format:E.z.optional(E.z.enum(["email","uri","date","date-time"]))}).passthrough();_.NumberSchemaSchema=E.z.object({type:E.z.enum(["number","integer"]),title:E.z.optional(E.z.string()),description:E.z.optional(E.z.string()),minimum:E.z.optional(E.z.number()),maximum:E.z.optional(E.z.number())}).passthrough();_.EnumSchemaSchema=E.z.object({type:E.z.literal("string"),title:E.z.optional(E.z.string()),description:E.z.optional(E.z.string()),enum:E.z.array(E.z.string()),enumNames:E.z.optional(E.z.array(E.z.string()))}).passthrough();_.PrimitiveSchemaDefinitionSchema=E.z.union([_.BooleanSchemaSchema,_.StringSchemaSchema,_.NumberSchemaSchema,_.EnumSchemaSchema]);_.ElicitRequestSchema=_.RequestSchema.extend({method:E.z.literal("elicitation/create"),params:zr.extend({message:E.z.string(),requestedSchema:E.z.object({type:E.z.literal("object"),properties:E.z.record(E.z.string(),_.PrimitiveSchemaDefinitionSchema),required:E.z.optional(E.z.array(E.z.string()))}).passthrough()})});_.ElicitResultSchema=_.ResultSchema.extend({action:E.z.enum(["accept","decline","cancel"]),content:E.z.optional(E.z.record(E.z.string(),E.z.unknown()))});_.ResourceTemplateReferenceSchema=E.z.object({type:E.z.literal("ref/resource"),uri:E.z.string()}).passthrough();_.ResourceReferenceSchema=_.ResourceTemplateReferenceSchema;_.PromptReferenceSchema=E.z.object({type:E.z.literal("ref/prompt"),name:E.z.string()}).passthrough();_.CompleteRequestSchema=_.RequestSchema.extend({method:E.z.literal("completion/complete"),params:zr.extend({ref:E.z.union([_.PromptReferenceSchema,_.ResourceTemplateReferenceSchema]),argument:E.z.object({name:E.z.string(),value:E.z.string()}).passthrough(),context:E.z.optional(E.z.object({arguments:E.z.optional(E.z.record(E.z.string(),E.z.string()))}))})});_.CompleteResultSchema=_.ResultSchema.extend({completion:E.z.object({values:E.z.array(E.z.string()).max(100),total:E.z.optional(E.z.number().int()),hasMore:E.z.optional(E.z.boolean())}).passthrough()});_.RootSchema=E.z.object({uri:E.z.string().startsWith("file://"),name:E.z.optional(E.z.string()),_meta:E.z.optional(E.z.object({}).passthrough())}).passthrough();_.ListRootsRequestSchema=_.RequestSchema.extend({method:E.z.literal("roots/list")});_.ListRootsResultSchema=_.ResultSchema.extend({roots:E.z.array(_.RootSchema)});_.RootsListChangedNotificationSchema=_.NotificationSchema.extend({method:E.z.literal("notifications/roots/list_changed")});_.ClientRequestSchema=E.z.union([_.PingRequestSchema,_.InitializeRequestSchema,_.CompleteRequestSchema,_.SetLevelRequestSchema,_.GetPromptRequestSchema,_.ListPromptsRequestSchema,_.ListResourcesRequestSchema,_.ListResourceTemplatesRequestSchema,_.ReadResourceRequestSchema,_.SubscribeRequestSchema,_.UnsubscribeRequestSchema,_.CallToolRequestSchema,_.ListToolsRequestSchema]);_.ClientNotificationSchema=E.z.union([_.CancelledNotificationSchema,_.ProgressNotificationSchema,_.InitializedNotificationSchema,_.RootsListChangedNotificationSchema]);_.ClientResultSchema=E.z.union([_.EmptyResultSchema,_.CreateMessageResultSchema,_.ElicitResultSchema,_.ListRootsResultSchema]);_.ServerRequestSchema=E.z.union([_.PingRequestSchema,_.CreateMessageRequestSchema,_.ElicitRequestSchema,_.ListRootsRequestSchema]);_.ServerNotificationSchema=E.z.union([_.CancelledNotificationSchema,_.ProgressNotificationSchema,_.LoggingMessageNotificationSchema,_.ResourceUpdatedNotificationSchema,_.ResourceListChangedNotificationSchema,_.ToolListChangedNotificationSchema,_.PromptListChangedNotificationSchema]);_.ServerResultSchema=E.z.union([_.EmptyResultSchema,_.InitializeResultSchema,_.CompleteResultSchema,_.GetPromptResultSchema,_.ListPromptsResultSchema,_.ListResourcesResultSchema,_.ListResourceTemplatesResultSchema,_.ReadResourceResultSchema,_.CallToolResultSchema,_.ListToolsResultSchema]);var _h=class extends Error{constructor(e,r,a){super(`MCP error ${e}: ${r}`),this.code=e,this.data=a,this.name="McpError"}};_.McpError=_h});var _R=j(_s=>{"use strict";Object.defineProperty(_s,"__esModule",{value:!0});_s.Protocol=_s.DEFAULT_REQUEST_TIMEOUT_MSEC=void 0;_s.mergeCapabilities=M4;var qt=lc();_s.DEFAULT_REQUEST_TIMEOUT_MSEC=6e4;var Sh=class{constructor(e){this._options=e,this._requestMessageId=0,this._requestHandlers=new Map,this._requestHandlerAbortControllers=new Map,this._notificationHandlers=new Map,this._responseHandlers=new Map,this._progressHandlers=new Map,this._timeoutInfo=new Map,this._pendingDebouncedNotifications=new Set,this.setNotificationHandler(qt.CancelledNotificationSchema,r=>{let a=this._requestHandlerAbortControllers.get(r.params.requestId);a?.abort(r.params.reason)}),this.setNotificationHandler(qt.ProgressNotificationSchema,r=>{this._onprogress(r)}),this.setRequestHandler(qt.PingRequestSchema,r=>({}))}_setupTimeout(e,r,a,s,i=!1){this._timeoutInfo.set(e,{timeoutId:setTimeout(s,r),startTime:Date.now(),timeout:r,maxTotalTimeout:a,resetTimeoutOnProgress:i,onTimeout:s})}_resetTimeout(e){let r=this._timeoutInfo.get(e);if(!r)return!1;let a=Date.now()-r.startTime;if(r.maxTotalTimeout&&a>=r.maxTotalTimeout)throw this._timeoutInfo.delete(e),new qt.McpError(qt.ErrorCode.RequestTimeout,"Maximum total timeout exceeded",{maxTotalTimeout:r.maxTotalTimeout,totalElapsed:a});return clearTimeout(r.timeoutId),r.timeoutId=setTimeout(r.onTimeout,r.timeout),!0}_cleanupTimeout(e){let r=this._timeoutInfo.get(e);r&&(clearTimeout(r.timeoutId),this._timeoutInfo.delete(e))}async connect(e){var r,a,s;this._transport=e;let i=(r=this.transport)===null||r===void 0?void 0:r.onclose;this._transport.onclose=()=>{i?.(),this._onclose()};let n=(a=this.transport)===null||a===void 0?void 0:a.onerror;this._transport.onerror=l=>{n?.(l),this._onerror(l)};let o=(s=this._transport)===null||s===void 0?void 0:s.onmessage;this._transport.onmessage=(l,c)=>{o?.(l,c),(0,qt.isJSONRPCResponse)(l)||(0,qt.isJSONRPCError)(l)?this._onresponse(l):(0,qt.isJSONRPCRequest)(l)?this._onrequest(l,c):(0,qt.isJSONRPCNotification)(l)?this._onnotification(l):this._onerror(new Error(`Unknown message type: ${JSON.stringify(l)}`))},await this._transport.start()}_onclose(){var e;let r=this._responseHandlers;this._responseHandlers=new Map,this._progressHandlers.clear(),this._pendingDebouncedNotifications.clear(),this._transport=void 0,(e=this.onclose)===null||e===void 0||e.call(this);let a=new qt.McpError(qt.ErrorCode.ConnectionClosed,"Connection closed");for(let s of r.values())s(a)}_onerror(e){var r;(r=this.onerror)===null||r===void 0||r.call(this,e)}_onnotification(e){var r;let a=(r=this._notificationHandlers.get(e.method))!==null&&r!==void 0?r:this.fallbackNotificationHandler;a!==void 0&&Promise.resolve().then(()=>a(e)).catch(s=>this._onerror(new Error(`Uncaught error in notification handler: ${s}`)))}_onrequest(e,r){var a,s;let i=(a=this._requestHandlers.get(e.method))!==null&&a!==void 0?a:this.fallbackRequestHandler,n=this._transport;if(i===void 0){n?.send({jsonrpc:"2.0",id:e.id,error:{code:qt.ErrorCode.MethodNotFound,message:"Method not found"}}).catch(c=>this._onerror(new Error(`Failed to send an error response: ${c}`)));return}let o=new AbortController;this._requestHandlerAbortControllers.set(e.id,o);let l={signal:o.signal,sessionId:n?.sessionId,_meta:(s=e.params)===null||s===void 0?void 0:s._meta,sendNotification:c=>this.notification(c,{relatedRequestId:e.id}),sendRequest:(c,u,d)=>this.request(c,u,{...d,relatedRequestId:e.id}),authInfo:r?.authInfo,requestId:e.id,requestInfo:r?.requestInfo};Promise.resolve().then(()=>i(e,l)).then(c=>{if(!o.signal.aborted)return n?.send({result:c,jsonrpc:"2.0",id:e.id})},c=>{var u;if(!o.signal.aborted)return n?.send({jsonrpc:"2.0",id:e.id,error:{code:Number.isSafeInteger(c.code)?c.code:qt.ErrorCode.InternalError,message:(u=c.message)!==null&&u!==void 0?u:"Internal error"}})}).catch(c=>this._onerror(new Error(`Failed to send response: ${c}`))).finally(()=>{this._requestHandlerAbortControllers.delete(e.id)})}_onprogress(e){let{progressToken:r,...a}=e.params,s=Number(r),i=this._progressHandlers.get(s);if(!i){this._onerror(new Error(`Received a progress notification for an unknown token: ${JSON.stringify(e)}`));return}let n=this._responseHandlers.get(s),o=this._timeoutInfo.get(s);if(o&&n&&o.resetTimeoutOnProgress)try{this._resetTimeout(s)}catch(l){n(l);return}i(a)}_onresponse(e){let r=Number(e.id),a=this._responseHandlers.get(r);if(a===void 0){this._onerror(new Error(`Received a response for an unknown message ID: ${JSON.stringify(e)}`));return}if(this._responseHandlers.delete(r),this._progressHandlers.delete(r),this._cleanupTimeout(r),(0,qt.isJSONRPCResponse)(e))a(e);else{let s=new qt.McpError(e.error.code,e.error.message,e.error.data);a(s)}}get transport(){return this._transport}async close(){var e;await((e=this._transport)===null||e===void 0?void 0:e.close())}request(e,r,a){let{relatedRequestId:s,resumptionToken:i,onresumptiontoken:n}=a??{};return new Promise((o,l)=>{var c,u,d,h,p,m;if(!this._transport){l(new Error("Not connected"));return}((c=this._options)===null||c===void 0?void 0:c.enforceStrictCapabilities)===!0&&this.assertCapabilityForMethod(e.method),(u=a?.signal)===null||u===void 0||u.throwIfAborted();let f=this._requestMessageId++,v={...e,jsonrpc:"2.0",id:f};a?.onprogress&&(this._progressHandlers.set(f,a.onprogress),v.params={...e.params,_meta:{...((d=e.params)===null||d===void 0?void 0:d._meta)||{},progressToken:f}});let g=C=>{var T;this._responseHandlers.delete(f),this._progressHandlers.delete(f),this._cleanupTimeout(f),(T=this._transport)===null||T===void 0||T.send({jsonrpc:"2.0",method:"notifications/cancelled",params:{requestId:f,reason:String(C)}},{relatedRequestId:s,resumptionToken:i,onresumptiontoken:n}).catch(R=>this._onerror(new Error(`Failed to send cancellation: ${R}`))),l(C)};this._responseHandlers.set(f,C=>{var T;if(!(!((T=a?.signal)===null||T===void 0)&&T.aborted)){if(C instanceof Error)return l(C);try{let R=r.parse(C.result);o(R)}catch(R){l(R)}}}),(h=a?.signal)===null||h===void 0||h.addEventListener("abort",()=>{var C;g((C=a?.signal)===null||C===void 0?void 0:C.reason)});let b=(p=a?.timeout)!==null&&p!==void 0?p:_s.DEFAULT_REQUEST_TIMEOUT_MSEC,w=()=>g(new qt.McpError(qt.ErrorCode.RequestTimeout,"Request timed out",{timeout:b}));this._setupTimeout(f,b,a?.maxTotalTimeout,w,(m=a?.resetTimeoutOnProgress)!==null&&m!==void 0?m:!1),this._transport.send(v,{relatedRequestId:s,resumptionToken:i,onresumptiontoken:n}).catch(C=>{this._cleanupTimeout(f),l(C)})})}async notification(e,r){var a,s;if(!this._transport)throw new Error("Not connected");if(this.assertNotificationCapability(e.method),((s=(a=this._options)===null||a===void 0?void 0:a.debouncedNotificationMethods)!==null&&s!==void 0?s:[]).includes(e.method)&&!e.params&&!r?.relatedRequestId){if(this._pendingDebouncedNotifications.has(e.method))return;this._pendingDebouncedNotifications.add(e.method),Promise.resolve().then(()=>{var l;if(this._pendingDebouncedNotifications.delete(e.method),!this._transport)return;let c={...e,jsonrpc:"2.0"};(l=this._transport)===null||l===void 0||l.send(c,r).catch(u=>this._onerror(u))});return}let o={...e,jsonrpc:"2.0"};await this._transport.send(o,r)}setRequestHandler(e,r){let a=e.shape.method.value;this.assertRequestHandlerCapability(a),this._requestHandlers.set(a,(s,i)=>Promise.resolve(r(e.parse(s),i)))}removeRequestHandler(e){this._requestHandlers.delete(e)}assertCanSetRequestHandler(e){if(this._requestHandlers.has(e))throw new Error(`A request handler for ${e} already exists, which would be overridden`)}setNotificationHandler(e,r){this._notificationHandlers.set(e.shape.method.value,a=>Promise.resolve(r(e.parse(a))))}removeNotificationHandler(e){this._notificationHandlers.delete(e)}};_s.Protocol=Sh;function M4(t,e){return Object.entries(e).reduce((r,[a,s])=>(s&&typeof s=="object"?r[a]=r[a]?{...r[a],...s}:s:r[a]=s,r),{...t})}});var SR=j((yu,wR)=>{(function(t,e){typeof yu=="object"&&typeof wR<"u"?e(yu):typeof define=="function"&&define.amd?define(["exports"],e):e(t.URI=t.URI||{})})(yu,function(t){"use strict";function e(){for(var q=arguments.length,A=Array(q),x=0;x<q;x++)A[x]=arguments[x];if(A.length>1){A[0]=A[0].slice(0,-1);for(var y=A.length-1,P=1;P<y;++P)A[P]=A[P].slice(1,-1);return A[y]=A[y].slice(1),A.join("")}else return A[0]}function r(q){return"(?:"+q+")"}function a(q){return q===void 0?"undefined":q===null?"null":Object.prototype.toString.call(q).split(" ").pop().split("]").shift().toLowerCase()}function s(q){return q.toUpperCase()}function i(q){return q!=null?q instanceof Array?q:typeof q.length!="number"||q.split||q.setInterval||q.call?[q]:Array.prototype.slice.call(q):[]}function n(q,A){var x=q;if(A)for(var y in A)x[y]=A[y];return x}function o(q){var A="[A-Za-z]",x="[\\x0D]",y="[0-9]",P="[\\x22]",M=e(y,"[A-Fa-f]"),Z="[\\x0A]",ee="[\\x20]",le=r(r("%[EFef]"+M+"%"+M+M+"%"+M+M)+"|"+r("%[89A-Fa-f]"+M+"%"+M+M)+"|"+r("%"+M+M)),Se="[\\:\\/\\?\\#\\[\\]\\@]",ve="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",Fe=e(Se,ve),we=q?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",ke=q?"[\\uE000-\\uF8FF]":"[]",Ee=e(A,y,"[\\-\\.\\_\\~]",we),je=r(A+e(A,y,"[\\+\\-\\.]")+"*"),ge=r(r(le+"|"+e(Ee,ve,"[\\:]"))+"*"),pt=r(r("25[0-5]")+"|"+r("2[0-4]"+y)+"|"+r("1"+y+y)+"|"+r("[1-9]"+y)+"|"+y),Ze=r(r("25[0-5]")+"|"+r("2[0-4]"+y)+"|"+r("1"+y+y)+"|"+r("0?[1-9]"+y)+"|0?0?"+y),Rt=r(Ze+"\\."+Ze+"\\."+Ze+"\\."+Ze),We=r(M+"{1,4}"),ht=r(r(We+"\\:"+We)+"|"+Rt),Ke=r(r(We+"\\:")+"{6}"+ht),yt=r("\\:\\:"+r(We+"\\:")+"{5}"+ht),Ct=r(r(We)+"?\\:\\:"+r(We+"\\:")+"{4}"+ht),Tt=r(r(r(We+"\\:")+"{0,1}"+We)+"?\\:\\:"+r(We+"\\:")+"{3}"+ht),dr=r(r(r(We+"\\:")+"{0,2}"+We)+"?\\:\\:"+r(We+"\\:")+"{2}"+ht),er=r(r(r(We+"\\:")+"{0,3}"+We)+"?\\:\\:"+We+"\\:"+ht),ua=r(r(r(We+"\\:")+"{0,4}"+We)+"?\\:\\:"+ht),Wr=r(r(r(We+"\\:")+"{0,5}"+We)+"?\\:\\:"+We),Kr=r(r(r(We+"\\:")+"{0,6}"+We)+"?\\:\\:"),zt=r([Ke,yt,Ct,Tt,dr,er,ua,Wr,Kr].join("|")),pr=r(r(Ee+"|"+le)+"+"),fr=r(zt+"\\%25"+pr),tr=r(zt+r("\\%25|\\%(?!"+M+"{2})")+pr),uo=r("[vV]"+M+"+\\."+e(Ee,ve,"[\\:]")+"+"),Aa=r("\\["+r(tr+"|"+zt+"|"+uo)+"\\]"),Ac=r(r(le+"|"+e(Ee,ve))+"*"),ks=r(Aa+"|"+Rt+"(?!"+Ac+")|"+Ac),ss=r(y+"*"),ns=r(r(ge+"@")+"?"+ks+r("\\:"+ss)+"?"),Jr=r(le+"|"+e(Ee,ve,"[\\:\\@]")),kc=r(Jr+"*"),is=r(Jr+"+"),Qd=r(r(le+"|"+e(Ee,ve,"[\\@]"))+"+"),Ir=r(r("\\/"+kc)+"*"),os=r("\\/"+r(is+Ir)+"?"),mr=r(Qd+Ir),Qr=r(is+Ir),da="(?!"+Jr+")",po=r(Ir+"|"+os+"|"+mr+"|"+Qr+"|"+da),hr=r(r(Jr+"|"+e("[\\/\\?]",ke))+"*"),Hn=r(r(Jr+"|[\\/\\?]")+"*"),ka=r(r("\\/\\/"+ns+Ir)+"|"+os+"|"+Qr+"|"+da),js=r(je+"\\:"+ka+r("\\?"+hr)+"?"+r("\\#"+Hn)+"?"),jc=r(r("\\/\\/"+ns+Ir)+"|"+os+"|"+mr+"|"+da),Yd=r(jc+r("\\?"+hr)+"?"+r("\\#"+Hn)+"?"),fg=r(js+"|"+Yd),mg=r(je+"\\:"+ka+r("\\?"+hr)+"?"),L1="^("+je+")\\:"+r(r("\\/\\/("+r("("+ge+")@")+"?("+ks+")"+r("\\:("+ss+")")+"?)")+"?("+Ir+"|"+os+"|"+Qr+"|"+da+")")+r("\\?("+hr+")")+"?"+r("\\#("+Hn+")")+"?$",F1="^(){0}"+r(r("\\/\\/("+r("("+ge+")@")+"?("+ks+")"+r("\\:("+ss+")")+"?)")+"?("+Ir+"|"+os+"|"+mr+"|"+da+")")+r("\\?("+hr+")")+"?"+r("\\#("+Hn+")")+"?$",q1="^("+je+")\\:"+r(r("\\/\\/("+r("("+ge+")@")+"?("+ks+")"+r("\\:("+ss+")")+"?)")+"?("+Ir+"|"+os+"|"+Qr+"|"+da+")")+r("\\?("+hr+")")+"?$",M1="^"+r("\\#("+Hn+")")+"?$",U1="^"+r("("+ge+")@")+"?("+ks+")"+r("\\:("+ss+")")+"?$";return{NOT_SCHEME:new RegExp(e("[^]",A,y,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(e("[^\\%\\:]",Ee,ve),"g"),NOT_HOST:new RegExp(e("[^\\%\\[\\]\\:]",Ee,ve),"g"),NOT_PATH:new RegExp(e("[^\\%\\/\\:\\@]",Ee,ve),"g"),NOT_PATH_NOSCHEME:new RegExp(e("[^\\%\\/\\@]",Ee,ve),"g"),NOT_QUERY:new RegExp(e("[^\\%]",Ee,ve,"[\\:\\@\\/\\?]",ke),"g"),NOT_FRAGMENT:new RegExp(e("[^\\%]",Ee,ve,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(e("[^]",Ee,ve),"g"),UNRESERVED:new RegExp(Ee,"g"),OTHER_CHARS:new RegExp(e("[^\\%]",Ee,Fe),"g"),PCT_ENCODED:new RegExp(le,"g"),IPV4ADDRESS:new RegExp("^("+Rt+")$"),IPV6ADDRESS:new RegExp("^\\[?("+zt+")"+r(r("\\%25|\\%(?!"+M+"{2})")+"("+pr+")")+"?\\]?$")}}var l=o(!1),c=o(!0),u=function(){function q(A,x){var y=[],P=!0,M=!1,Z=void 0;try{for(var ee=A[Symbol.iterator](),le;!(P=(le=ee.next()).done)&&(y.push(le.value),!(x&&y.length===x));P=!0);}catch(Se){M=!0,Z=Se}finally{try{!P&&ee.return&&ee.return()}finally{if(M)throw Z}}return y}return function(A,x){if(Array.isArray(A))return A;if(Symbol.iterator in Object(A))return q(A,x);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),d=function(q){if(Array.isArray(q)){for(var A=0,x=Array(q.length);A<q.length;A++)x[A]=q[A];return x}else return Array.from(q)},h=2147483647,p=36,m=1,f=26,v=38,g=700,b=72,w=128,C="-",T=/^xn--/,R=/[^\0-\x7E]/,O=/[\x2E\u3002\uFF0E\uFF61]/g,L={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},D=p-m,F=Math.floor,$=String.fromCharCode;function I(q){throw new RangeError(L[q])}function k(q,A){for(var x=[],y=q.length;y--;)x[y]=A(q[y]);return x}function N(q,A){var x=q.split("@"),y="";x.length>1&&(y=x[0]+"@",q=x[1]),q=q.replace(O,".");var P=q.split("."),M=k(P,A).join(".");return y+M}function B(q){for(var A=[],x=0,y=q.length;x<y;){var P=q.charCodeAt(x++);if(P>=55296&&P<=56319&&x<y){var M=q.charCodeAt(x++);(M&64512)==56320?A.push(((P&1023)<<10)+(M&1023)+65536):(A.push(P),x--)}else A.push(P)}return A}var W=function(A){return String.fromCodePoint.apply(String,d(A))},V=function(A){return A-48<10?A-22:A-65<26?A-65:A-97<26?A-97:p},K=function(A,x){return A+22+75*(A<26)-((x!=0)<<5)},Q=function(A,x,y){var P=0;for(A=y?F(A/g):A>>1,A+=F(A/x);A>D*f>>1;P+=p)A=F(A/D);return F(P+(D+1)*A/(A+v))},X=function(A){var x=[],y=A.length,P=0,M=w,Z=b,ee=A.lastIndexOf(C);ee<0&&(ee=0);for(var le=0;le<ee;++le)A.charCodeAt(le)>=128&&I("not-basic"),x.push(A.charCodeAt(le));for(var Se=ee>0?ee+1:0;Se<y;){for(var ve=P,Fe=1,we=p;;we+=p){Se>=y&&I("invalid-input");var ke=V(A.charCodeAt(Se++));(ke>=p||ke>F((h-P)/Fe))&&I("overflow"),P+=ke*Fe;var Ee=we<=Z?m:we>=Z+f?f:we-Z;if(ke<Ee)break;var je=p-Ee;Fe>F(h/je)&&I("overflow"),Fe*=je}var ge=x.length+1;Z=Q(P-ve,ge,ve==0),F(P/ge)>h-M&&I("overflow"),M+=F(P/ge),P%=ge,x.splice(P++,0,M)}return String.fromCodePoint.apply(String,x)},ae=function(A){var x=[];A=B(A);var y=A.length,P=w,M=0,Z=b,ee=!0,le=!1,Se=void 0;try{for(var ve=A[Symbol.iterator](),Fe;!(ee=(Fe=ve.next()).done);ee=!0){var we=Fe.value;we<128&&x.push($(we))}}catch(tr){le=!0,Se=tr}finally{try{!ee&&ve.return&&ve.return()}finally{if(le)throw Se}}var ke=x.length,Ee=ke;for(ke&&x.push(C);Ee<y;){var je=h,ge=!0,pt=!1,Ze=void 0;try{for(var Rt=A[Symbol.iterator](),We;!(ge=(We=Rt.next()).done);ge=!0){var ht=We.value;ht>=P&&ht<je&&(je=ht)}}catch(tr){pt=!0,Ze=tr}finally{try{!ge&&Rt.return&&Rt.return()}finally{if(pt)throw Ze}}var Ke=Ee+1;je-P>F((h-M)/Ke)&&I("overflow"),M+=(je-P)*Ke,P=je;var yt=!0,Ct=!1,Tt=void 0;try{for(var dr=A[Symbol.iterator](),er;!(yt=(er=dr.next()).done);yt=!0){var ua=er.value;if(ua<P&&++M>h&&I("overflow"),ua==P){for(var Wr=M,Kr=p;;Kr+=p){var zt=Kr<=Z?m:Kr>=Z+f?f:Kr-Z;if(Wr<zt)break;var pr=Wr-zt,fr=p-zt;x.push($(K(zt+pr%fr,0))),Wr=F(pr/fr)}x.push($(K(Wr,0))),Z=Q(M,Ke,Ee==ke),M=0,++Ee}}}catch(tr){Ct=!0,Tt=tr}finally{try{!yt&&dr.return&&dr.return()}finally{if(Ct)throw Tt}}++M,++P}return x.join("")},ue=function(A){return N(A,function(x){return T.test(x)?X(x.slice(4).toLowerCase()):x})},Qe=function(A){return N(A,function(x){return R.test(x)?"xn--"+ae(x):x})},ye={version:"2.1.0",ucs2:{decode:B,encode:W},decode:X,encode:ae,toASCII:Qe,toUnicode:ue},Ce={};function Ae(q){var A=q.charCodeAt(0),x=void 0;return A<16?x="%0"+A.toString(16).toUpperCase():A<128?x="%"+A.toString(16).toUpperCase():A<2048?x="%"+(A>>6|192).toString(16).toUpperCase()+"%"+(A&63|128).toString(16).toUpperCase():x="%"+(A>>12|224).toString(16).toUpperCase()+"%"+(A>>6&63|128).toString(16).toUpperCase()+"%"+(A&63|128).toString(16).toUpperCase(),x}function Ue(q){for(var A="",x=0,y=q.length;x<y;){var P=parseInt(q.substr(x+1,2),16);if(P<128)A+=String.fromCharCode(P),x+=3;else if(P>=194&&P<224){if(y-x>=6){var M=parseInt(q.substr(x+4,2),16);A+=String.fromCharCode((P&31)<<6|M&63)}else A+=q.substr(x,6);x+=6}else if(P>=224){if(y-x>=9){var Z=parseInt(q.substr(x+4,2),16),ee=parseInt(q.substr(x+7,2),16);A+=String.fromCharCode((P&15)<<12|(Z&63)<<6|ee&63)}else A+=q.substr(x,9);x+=9}else A+=q.substr(x,3),x+=3}return A}function U(q,A){function x(y){var P=Ue(y);return P.match(A.UNRESERVED)?P:y}return q.scheme&&(q.scheme=String(q.scheme).replace(A.PCT_ENCODED,x).toLowerCase().replace(A.NOT_SCHEME,"")),q.userinfo!==void 0&&(q.userinfo=String(q.userinfo).replace(A.PCT_ENCODED,x).replace(A.NOT_USERINFO,Ae).replace(A.PCT_ENCODED,s)),q.host!==void 0&&(q.host=String(q.host).replace(A.PCT_ENCODED,x).toLowerCase().replace(A.NOT_HOST,Ae).replace(A.PCT_ENCODED,s)),q.path!==void 0&&(q.path=String(q.path).replace(A.PCT_ENCODED,x).replace(q.scheme?A.NOT_PATH:A.NOT_PATH_NOSCHEME,Ae).replace(A.PCT_ENCODED,s)),q.query!==void 0&&(q.query=String(q.query).replace(A.PCT_ENCODED,x).replace(A.NOT_QUERY,Ae).replace(A.PCT_ENCODED,s)),q.fragment!==void 0&&(q.fragment=String(q.fragment).replace(A.PCT_ENCODED,x).replace(A.NOT_FRAGMENT,Ae).replace(A.PCT_ENCODED,s)),q}function J(q){return q.replace(/^0*(.*)/,"$1")||"0"}function ne(q,A){var x=q.match(A.IPV4ADDRESS)||[],y=u(x,2),P=y[1];return P?P.split(".").map(J).join("."):q}function he(q,A){var x=q.match(A.IPV6ADDRESS)||[],y=u(x,3),P=y[1],M=y[2];if(P){for(var Z=P.toLowerCase().split("::").reverse(),ee=u(Z,2),le=ee[0],Se=ee[1],ve=Se?Se.split(":").map(J):[],Fe=le.split(":").map(J),we=A.IPV4ADDRESS.test(Fe[Fe.length-1]),ke=we?7:8,Ee=Fe.length-ke,je=Array(ke),ge=0;ge<ke;++ge)je[ge]=ve[ge]||Fe[Ee+ge]||"";we&&(je[ke-1]=ne(je[ke-1],A));var pt=je.reduce(function(Ke,yt,Ct){if(!yt||yt==="0"){var Tt=Ke[Ke.length-1];Tt&&Tt.index+Tt.length===Ct?Tt.length++:Ke.push({index:Ct,length:1})}return Ke},[]),Ze=pt.sort(function(Ke,yt){return yt.length-Ke.length})[0],Rt=void 0;if(Ze&&Ze.length>1){var We=je.slice(0,Ze.index),ht=je.slice(Ze.index+Ze.length);Rt=We.join(":")+"::"+ht.join(":")}else Rt=je.join(":");return M&&(Rt+="%"+M),Rt}else return q}var Y=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,te="".match(/(){0}/)[1]===void 0;function de(q){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},x={},y=A.iri!==!1?c:l;A.reference==="suffix"&&(q=(A.scheme?A.scheme+":":"")+"//"+q);var P=q.match(Y);if(P){te?(x.scheme=P[1],x.userinfo=P[3],x.host=P[4],x.port=parseInt(P[5],10),x.path=P[6]||"",x.query=P[7],x.fragment=P[8],isNaN(x.port)&&(x.port=P[5])):(x.scheme=P[1]||void 0,x.userinfo=q.indexOf("@")!==-1?P[3]:void 0,x.host=q.indexOf("//")!==-1?P[4]:void 0,x.port=parseInt(P[5],10),x.path=P[6]||"",x.query=q.indexOf("?")!==-1?P[7]:void 0,x.fragment=q.indexOf("#")!==-1?P[8]:void 0,isNaN(x.port)&&(x.port=q.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?P[4]:void 0)),x.host&&(x.host=he(ne(x.host,y),y)),x.scheme===void 0&&x.userinfo===void 0&&x.host===void 0&&x.port===void 0&&!x.path&&x.query===void 0?x.reference="same-document":x.scheme===void 0?x.reference="relative":x.fragment===void 0?x.reference="absolute":x.reference="uri",A.reference&&A.reference!=="suffix"&&A.reference!==x.reference&&(x.error=x.error||"URI is not a "+A.reference+" reference.");var M=Ce[(A.scheme||x.scheme||"").toLowerCase()];if(!A.unicodeSupport&&(!M||!M.unicodeSupport)){if(x.host&&(A.domainHost||M&&M.domainHost))try{x.host=ye.toASCII(x.host.replace(y.PCT_ENCODED,Ue).toLowerCase())}catch(Z){x.error=x.error||"Host's domain name can not be converted to ASCII via punycode: "+Z}U(x,l)}else U(x,y);M&&M.parse&&M.parse(x,A)}else x.error=x.error||"URI can not be parsed.";return x}function Le(q,A){var x=A.iri!==!1?c:l,y=[];return q.userinfo!==void 0&&(y.push(q.userinfo),y.push("@")),q.host!==void 0&&y.push(he(ne(String(q.host),x),x).replace(x.IPV6ADDRESS,function(P,M,Z){return"["+M+(Z?"%25"+Z:"")+"]"})),(typeof q.port=="number"||typeof q.port=="string")&&(y.push(":"),y.push(String(q.port))),y.length?y.join(""):void 0}var _e=/^\.\.?\//,it=/^\/\.(\/|$)/,ot=/^\/\.\.(\/|$)/,Te=/^\/?(?:.|\n)*?(?=\/|$)/;function ft(q){for(var A=[];q.length;)if(q.match(_e))q=q.replace(_e,"");else if(q.match(it))q=q.replace(it,"/");else if(q.match(ot))q=q.replace(ot,"/"),A.pop();else if(q==="."||q==="..")q="";else{var x=q.match(Te);if(x){var y=x[0];q=q.slice(y.length),A.push(y)}else throw new Error("Unexpected dot segment condition")}return A.join("")}function Ye(q){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},x=A.iri?c:l,y=[],P=Ce[(A.scheme||q.scheme||"").toLowerCase()];if(P&&P.serialize&&P.serialize(q,A),q.host&&!x.IPV6ADDRESS.test(q.host)){if(A.domainHost||P&&P.domainHost)try{q.host=A.iri?ye.toUnicode(q.host):ye.toASCII(q.host.replace(x.PCT_ENCODED,Ue).toLowerCase())}catch(ee){q.error=q.error||"Host's domain name can not be converted to "+(A.iri?"Unicode":"ASCII")+" via punycode: "+ee}}U(q,x),A.reference!=="suffix"&&q.scheme&&(y.push(q.scheme),y.push(":"));var M=Le(q,A);if(M!==void 0&&(A.reference!=="suffix"&&y.push("//"),y.push(M),q.path&&q.path.charAt(0)!=="/"&&y.push("/")),q.path!==void 0){var Z=q.path;!A.absolutePath&&(!P||!P.absolutePath)&&(Z=ft(Z)),M===void 0&&(Z=Z.replace(/^\/\//,"/%2F")),y.push(Z)}return q.query!==void 0&&(y.push("?"),y.push(q.query)),q.fragment!==void 0&&(y.push("#"),y.push(q.fragment)),y.join("")}function dt(q,A){var x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},y=arguments[3],P={};return y||(q=de(Ye(q,x),x),A=de(Ye(A,x),x)),x=x||{},!x.tolerant&&A.scheme?(P.scheme=A.scheme,P.userinfo=A.userinfo,P.host=A.host,P.port=A.port,P.path=ft(A.path||""),P.query=A.query):(A.userinfo!==void 0||A.host!==void 0||A.port!==void 0?(P.userinfo=A.userinfo,P.host=A.host,P.port=A.port,P.path=ft(A.path||""),P.query=A.query):(A.path?(A.path.charAt(0)==="/"?P.path=ft(A.path):((q.userinfo!==void 0||q.host!==void 0||q.port!==void 0)&&!q.path?P.path="/"+A.path:q.path?P.path=q.path.slice(0,q.path.lastIndexOf("/")+1)+A.path:P.path=A.path,P.path=ft(P.path)),P.query=A.query):(P.path=q.path,A.query!==void 0?P.query=A.query:P.query=q.query),P.userinfo=q.userinfo,P.host=q.host,P.port=q.port),P.scheme=q.scheme),P.fragment=A.fragment,P}function rt(q,A,x){var y=n({scheme:"null"},x);return Ye(dt(de(q,y),de(A,y),y,!0),y)}function ct(q,A){return typeof q=="string"?q=Ye(de(q,A),A):a(q)==="object"&&(q=de(Ye(q,A),A)),q}function Lt(q,A,x){return typeof q=="string"?q=Ye(de(q,x),x):a(q)==="object"&&(q=Ye(q,x)),typeof A=="string"?A=Ye(de(A,x),x):a(A)==="object"&&(A=Ye(A,x)),q===A}function Ft(q,A){return q&&q.toString().replace(!A||!A.iri?l.ESCAPE:c.ESCAPE,Ae)}function Ut(q,A){return q&&q.toString().replace(!A||!A.iri?l.PCT_ENCODED:c.PCT_ENCODED,Ue)}var Oa={scheme:"http",domainHost:!0,parse:function(A,x){return A.host||(A.error=A.error||"HTTP URIs must have a host."),A},serialize:function(A,x){var y=String(A.scheme).toLowerCase()==="https";return(A.port===(y?443:80)||A.port==="")&&(A.port=void 0),A.path||(A.path="/"),A}},Xt={scheme:"https",domainHost:Oa.domainHost,parse:Oa.parse,serialize:Oa.serialize};function ts(q){return typeof q.secure=="boolean"?q.secure:String(q.scheme).toLowerCase()==="wss"}var rs={scheme:"ws",domainHost:!0,parse:function(A,x){var y=A;return y.secure=ts(y),y.resourceName=(y.path||"/")+(y.query?"?"+y.query:""),y.path=void 0,y.query=void 0,y},serialize:function(A,x){if((A.port===(ts(A)?443:80)||A.port==="")&&(A.port=void 0),typeof A.secure=="boolean"&&(A.scheme=A.secure?"wss":"ws",A.secure=void 0),A.resourceName){var y=A.resourceName.split("?"),P=u(y,2),M=P[0],Z=P[1];A.path=M&&M!=="/"?M:void 0,A.query=Z,A.resourceName=void 0}return A.fragment=void 0,A}},io={scheme:"wss",domainHost:rs.domainHost,parse:rs.parse,serialize:rs.serialize},As={},Cc=!0,Tc="[A-Za-z0-9\\-\\.\\_\\~"+(Cc?"\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF":"")+"]",Tr="[0-9A-Fa-f]",Oc=r(r("%[EFef]"+Tr+"%"+Tr+Tr+"%"+Tr+Tr)+"|"+r("%[89A-Fa-f]"+Tr+"%"+Tr+Tr)+"|"+r("%"+Tr+Tr)),Or="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",Zd="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",Vd=e(Zd,'[\\"\\\\]'),Hd="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",Gd=new RegExp(Tc,"g"),as=new RegExp(Oc,"g"),Wd=new RegExp(e("[^]",Or,"[\\.]",'[\\"]',Vd),"g"),Ia=new RegExp(e("[^]",Tc,Hd),"g"),Kd=Ia;function Vn(q){var A=Ue(q);return A.match(Gd)?A:q}var Ic={scheme:"mailto",parse:function(A,x){var y=A,P=y.to=y.path?y.path.split(","):[];if(y.path=void 0,y.query){for(var M=!1,Z={},ee=y.query.split("&"),le=0,Se=ee.length;le<Se;++le){var ve=ee[le].split("=");switch(ve[0]){case"to":for(var Fe=ve[1].split(","),we=0,ke=Fe.length;we<ke;++we)P.push(Fe[we]);break;case"subject":y.subject=Ut(ve[1],x);break;case"body":y.body=Ut(ve[1],x);break;default:M=!0,Z[Ut(ve[0],x)]=Ut(ve[1],x);break}}M&&(y.headers=Z)}y.query=void 0;for(var Ee=0,je=P.length;Ee<je;++Ee){var ge=P[Ee].split("@");if(ge[0]=Ut(ge[0]),x.unicodeSupport)ge[1]=Ut(ge[1],x).toLowerCase();else try{ge[1]=ye.toASCII(Ut(ge[1],x).toLowerCase())}catch(pt){y.error=y.error||"Email address's domain name can not be converted to ASCII via punycode: "+pt}P[Ee]=ge.join("@")}return y},serialize:function(A,x){var y=A,P=i(A.to);if(P){for(var M=0,Z=P.length;M<Z;++M){var ee=String(P[M]),le=ee.lastIndexOf("@"),Se=ee.slice(0,le).replace(as,Vn).replace(as,s).replace(Wd,Ae),ve=ee.slice(le+1);try{ve=x.iri?ye.toUnicode(ve):ye.toASCII(Ut(ve,x).toLowerCase())}catch(Ee){y.error=y.error||"Email address's domain name can not be converted to "+(x.iri?"Unicode":"ASCII")+" via punycode: "+Ee}P[M]=Se+"@"+ve}y.path=P.join(",")}var Fe=A.headers=A.headers||{};A.subject&&(Fe.subject=A.subject),A.body&&(Fe.body=A.body);var we=[];for(var ke in Fe)Fe[ke]!==As[ke]&&we.push(ke.replace(as,Vn).replace(as,s).replace(Ia,Ae)+"="+Fe[ke].replace(as,Vn).replace(as,s).replace(Kd,Ae));return we.length&&(y.query=we.join("&")),y}},oo=/^([^\:]+)\:(.*)/,co={scheme:"urn",parse:function(A,x){var y=A.path&&A.path.match(oo),P=A;if(y){var M=x.scheme||P.scheme||"urn",Z=y[1].toLowerCase(),ee=y[2],le=M+":"+(x.nid||Z),Se=Ce[le];P.nid=Z,P.nss=ee,P.path=void 0,Se&&(P=Se.parse(P,x))}else P.error=P.error||"URN can not be parsed.";return P},serialize:function(A,x){var y=x.scheme||A.scheme||"urn",P=A.nid,M=y+":"+(x.nid||P),Z=Ce[M];Z&&(A=Z.serialize(A,x));var ee=A,le=A.nss;return ee.path=(P||x.nid)+":"+le,ee}},Jd=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,lo={scheme:"urn:uuid",parse:function(A,x){var y=A;return y.uuid=y.nss,y.nss=void 0,!x.tolerant&&(!y.uuid||!y.uuid.match(Jd))&&(y.error=y.error||"UUID is not valid."),y},serialize:function(A,x){var y=A;return y.nss=(A.uuid||"").toLowerCase(),y}};Ce[Oa.scheme]=Oa,Ce[Xt.scheme]=Xt,Ce[rs.scheme]=rs,Ce[io.scheme]=io,Ce[Ic.scheme]=Ic,Ce[co.scheme]=co,Ce[lo.scheme]=lo,t.SCHEMES=Ce,t.pctEncChar=Ae,t.pctDecChars=Ue,t.parse=de,t.removeDotSegments=ft,t.serialize=Ye,t.resolveComponents=dt,t.resolve=rt,t.normalize=ct,t.equal=Lt,t.escapeComponent=Ft,t.unescapeComponent=Ut,Object.defineProperty(t,"__esModule",{value:!0})})});var xu=j((xte,ER)=>{"use strict";ER.exports=function t(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var a,s,i;if(Array.isArray(e)){if(a=e.length,a!=r.length)return!1;for(s=a;s--!==0;)if(!t(e[s],r[s]))return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if(i=Object.keys(e),a=i.length,a!==Object.keys(r).length)return!1;for(s=a;s--!==0;)if(!Object.prototype.hasOwnProperty.call(r,i[s]))return!1;for(s=a;s--!==0;){var n=i[s];if(!t(e[n],r[n]))return!1}return!0}return e!==e&&r!==r}});var RR=j((bte,PR)=>{"use strict";PR.exports=function(e){for(var r=0,a=e.length,s=0,i;s<a;)r++,i=e.charCodeAt(s++),i>=55296&&i<=56319&&s<a&&(i=e.charCodeAt(s),(i&64512)==56320&&s++);return r}});var jn=j((_te,OR)=>{"use strict";OR.exports={copy:U4,checkDataType:Eh,checkDataTypes:z4,coerceToTypes:B4,toHash:Rh,getProperty:Ch,escapeQuotes:Th,equal:xu(),ucs2length:RR(),varOccurences:H4,varReplace:G4,schemaHasRules:W4,schemaHasRulesExcept:K4,schemaUnknownRules:J4,toQuotedString:Ph,getPathExpr:Q4,getPath:Y4,getData:tB,unescapeFragment:rB,unescapeJsonPointer:Ih,escapeFragment:aB,escapeJsonPointer:Oh};function U4(t,e){e=e||{};for(var r in t)e[r]=t[r];return e}function Eh(t,e,r,a){var s=a?" !== ":" === ",i=a?" || ":" && ",n=a?"!":"",o=a?"":"!";switch(t){case"null":return e+s+"null";case"array":return n+"Array.isArray("+e+")";case"object":return"("+n+e+i+"typeof "+e+s+'"object"'+i+o+"Array.isArray("+e+"))";case"integer":return"(typeof "+e+s+'"number"'+i+o+"("+e+" % 1)"+i+e+s+e+(r?i+n+"isFinite("+e+")":"")+")";case"number":return"(typeof "+e+s+'"'+t+'"'+(r?i+n+"isFinite("+e+")":"")+")";default:return"typeof "+e+s+'"'+t+'"'}}function z4(t,e,r){switch(t.length){case 1:return Eh(t[0],e,r,!0);default:var a="",s=Rh(t);s.array&&s.object&&(a=s.null?"(":"(!"+e+" || ",a+="typeof "+e+' !== "object")',delete s.null,delete s.array,delete s.object),s.number&&delete s.integer;for(var i in s)a+=(a?" && ":"")+Eh(i,e,r,!0);return a}}var CR=Rh(["string","number","integer","boolean","null"]);function B4(t,e){if(Array.isArray(e)){for(var r=[],a=0;a<e.length;a++){var s=e[a];(CR[s]||t==="array"&&s==="array")&&(r[r.length]=s)}if(r.length)return r}else{if(CR[e])return[e];if(t==="array"&&e==="array")return["array"]}}function Rh(t){for(var e={},r=0;r<t.length;r++)e[t[r]]=!0;return e}var Z4=/^[a-z$_][a-z$_0-9]*$/i,V4=/'|\\/g;function Ch(t){return typeof t=="number"?"["+t+"]":Z4.test(t)?"."+t:"['"+Th(t)+"']"}function Th(t){return t.replace(V4,"\\$&").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\f/g,"\\f").replace(/\t/g,"\\t")}function H4(t,e){e+="[^0-9]";var r=t.match(new RegExp(e,"g"));return r?r.length:0}function G4(t,e,r){return e+="([^0-9])",r=r.replace(/\$/g,"$$$$"),t.replace(new RegExp(e,"g"),r+"$1")}function W4(t,e){if(typeof t=="boolean")return!t;for(var r in t)if(e[r])return!0}function K4(t,e,r){if(typeof t=="boolean")return!t&&r!="not";for(var a in t)if(a!=r&&e[a])return!0}function J4(t,e){if(typeof t!="boolean"){for(var r in t)if(!e[r])return r}}function Ph(t){return"'"+Th(t)+"'"}function Q4(t,e,r,a){var s=r?"'/' + "+e+(a?"":".replace(/~/g, '~0').replace(/\\//g, '~1')"):a?"'[' + "+e+" + ']'":"'[\\'' + "+e+" + '\\']'";return TR(t,s)}function Y4(t,e,r){var a=Ph(r?"/"+Oh(e):Ch(e));return TR(t,a)}var X4=/^\/(?:[^~]|~0|~1)*$/,eB=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function tB(t,e,r){var a,s,i,n;if(t==="")return"rootData";if(t[0]=="/"){if(!X4.test(t))throw new Error("Invalid JSON-pointer: "+t);s=t,i="rootData"}else{if(n=t.match(eB),!n)throw new Error("Invalid JSON-pointer: "+t);if(a=+n[1],s=n[2],s=="#"){if(a>=e)throw new Error("Cannot access property/index "+a+" levels up, current level is "+e);return r[e-a]}if(a>e)throw new Error("Cannot access data "+a+" levels up, current level is "+e);if(i="data"+(e-a||""),!s)return i}for(var o=i,l=s.split("/"),c=0;c<l.length;c++){var u=l[c];u&&(i+=Ch(Ih(u)),o+=" && "+i)}return o}function TR(t,e){return t=='""'?e:(t+" + "+e).replace(/([^\\])' \+ '/g,"$1")}function rB(t){return Ih(decodeURIComponent(t))}function aB(t){return encodeURIComponent(Oh(t))}function Oh(t){return t.replace(/~/g,"~0").replace(/\//g,"~1")}function Ih(t){return t.replace(/~1/g,"/").replace(/~0/g,"~")}});var Ah=j((wte,IR)=>{"use strict";var sB=jn();IR.exports=nB;function nB(t){sB.copy(t,this)}});var kR=j((Ste,AR)=>{"use strict";var ws=AR.exports=function(t,e,r){typeof e=="function"&&(r=e,e={}),r=e.cb||r;var a=typeof r=="function"?r:r.pre||function(){},s=r.post||function(){};bu(e,a,s,t,"",t)};ws.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0};ws.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};ws.propsKeywords={definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};ws.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function bu(t,e,r,a,s,i,n,o,l,c){if(a&&typeof a=="object"&&!Array.isArray(a)){e(a,s,i,n,o,l,c);for(var u in a){var d=a[u];if(Array.isArray(d)){if(u in ws.arrayKeywords)for(var h=0;h<d.length;h++)bu(t,e,r,d[h],s+"/"+u+"/"+h,i,s,u,a,h)}else if(u in ws.propsKeywords){if(d&&typeof d=="object")for(var p in d)bu(t,e,r,d[p],s+"/"+u+"/"+iB(p),i,s,u,a,p)}else(u in ws.keywords||t.allKeys&&!(u in ws.skipKeywords))&&bu(t,e,r,d,s+"/"+u,i,s,u,a)}r(a,s,i,n,o,l,c)}}function iB(t){return t.replace(/~/g,"~0").replace(/\//g,"~1")}});var Ru=j((Ete,$R)=>{"use strict";var uc=SR(),jR=xu(),Eu=jn(),_u=Ah(),oB=kR();$R.exports=Es;Es.normalizeId=Ss;Es.fullPath=wu;Es.url=Su;Es.ids=pB;Es.inlineRef=kh;Es.schema=Pu;function Es(t,e,r){var a=this._refs[r];if(typeof a=="string")if(this._refs[a])a=this._refs[a];else return Es.call(this,t,e,a);if(a=a||this._schemas[r],a instanceof _u)return kh(a.schema,this._opts.inlineRefs)?a.schema:a.validate||this._compile(a);var s=Pu.call(this,e,r),i,n,o;return s&&(i=s.schema,e=s.root,o=s.baseId),i instanceof _u?n=i.validate||t.call(this,i.schema,e,void 0,o):i!==void 0&&(n=kh(i,this._opts.inlineRefs)?i:t.call(this,i,e,void 0,o)),n}function Pu(t,e){var r=uc.parse(e),a=NR(r),s=wu(this._getId(t.schema));if(Object.keys(t.schema).length===0||a!==s){var i=Ss(a),n=this._refs[i];if(typeof n=="string")return cB.call(this,t,n,r);if(n instanceof _u)n.validate||this._compile(n),t=n;else if(n=this._schemas[i],n instanceof _u){if(n.validate||this._compile(n),i==Ss(e))return{schema:n,root:t,baseId:s};t=n}else return;if(!t.schema)return;s=wu(this._getId(t.schema))}return DR.call(this,r,s,t.schema,t)}function cB(t,e,r){var a=Pu.call(this,t,e);if(a){var s=a.schema,i=a.baseId;t=a.root;var n=this._getId(s);return n&&(i=Su(i,n)),DR.call(this,r,i,s,t)}}var lB=Eu.toHash(["properties","patternProperties","enum","dependencies","definitions"]);function DR(t,e,r,a){if(t.fragment=t.fragment||"",t.fragment.slice(0,1)=="/"){for(var s=t.fragment.split("/"),i=1;i<s.length;i++){var n=s[i];if(n){if(n=Eu.unescapeFragment(n),r=r[n],r===void 0)break;var o;if(!lB[n]&&(o=this._getId(r),o&&(e=Su(e,o)),r.$ref)){var l=Su(e,r.$ref),c=Pu.call(this,a,l);c&&(r=c.schema,a=c.root,e=c.baseId)}}}if(r!==void 0&&r!==a.schema)return{schema:r,root:a,baseId:e}}}var uB=Eu.toHash(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum"]);function kh(t,e){if(e===!1)return!1;if(e===void 0||e===!0)return jh(t);if(e)return Dh(t)<=e}function jh(t){var e;if(Array.isArray(t)){for(var r=0;r<t.length;r++)if(e=t[r],typeof e=="object"&&!jh(e))return!1}else for(var a in t)if(a=="$ref"||(e=t[a],typeof e=="object"&&!jh(e)))return!1;return!0}function Dh(t){var e=0,r;if(Array.isArray(t)){for(var a=0;a<t.length;a++)if(r=t[a],typeof r=="object"&&(e+=Dh(r)),e==1/0)return 1/0}else for(var s in t){if(s=="$ref")return 1/0;if(uB[s])e++;else if(r=t[s],typeof r=="object"&&(e+=Dh(r)+1),e==1/0)return 1/0}return e}function wu(t,e){e!==!1&&(t=Ss(t));var r=uc.parse(t);return NR(r)}function NR(t){return uc.serialize(t).split("#")[0]+"#"}var dB=/#\/?$/;function Ss(t){return t?t.replace(dB,""):""}function Su(t,e){return e=Ss(e),uc.resolve(t,e)}function pB(t){var e=Ss(this._getId(t)),r={"":e},a={"":wu(e,!1)},s={},i=this;return oB(t,{allKeys:!0},function(n,o,l,c,u,d,h){if(o!==""){var p=i._getId(n),m=r[c],f=a[c]+"/"+u;if(h!==void 0&&(f+="/"+(typeof h=="number"?h:Eu.escapeFragment(h))),typeof p=="string"){p=m=Ss(m?uc.resolve(m,p):p);var v=i._refs[p];if(typeof v=="string"&&(v=i._refs[v]),v&&v.schema){if(!jR(n,v.schema))throw new Error('id "'+p+'" resolves to more than one schema')}else if(p!=Ss(f))if(p[0]=="#"){if(s[p]&&!jR(n,s[p]))throw new Error('id "'+p+'" resolves to more than one schema');s[p]=n}else i._refs[p]=f}r[o]=m,a[o]=f}}),s}});var Cu=j((Pte,FR)=>{"use strict";var Nh=Ru();FR.exports={Validation:LR(fB),MissingRef:LR($h)};function fB(t){this.message="validation failed",this.errors=t,this.ajv=this.validation=!0}$h.message=function(t,e){return"can't resolve reference "+e+" from id "+t};function $h(t,e,r){this.message=r||$h.message(t,e),this.missingRef=Nh.url(t,e),this.missingSchema=Nh.normalizeId(Nh.fullPath(this.missingRef))}function LR(t){return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}});var Lh=j((Rte,qR)=>{"use strict";qR.exports=function(t,e){e||(e={}),typeof e=="function"&&(e={cmp:e});var r=typeof e.cycles=="boolean"?e.cycles:!1,a=e.cmp&&function(i){return function(n){return function(o,l){var c={key:o,value:n[o]},u={key:l,value:n[l]};return i(c,u)}}}(e.cmp),s=[];return function i(n){if(n&&n.toJSON&&typeof n.toJSON=="function"&&(n=n.toJSON()),n!==void 0){if(typeof n=="number")return isFinite(n)?""+n:"null";if(typeof n!="object")return JSON.stringify(n);var o,l;if(Array.isArray(n)){for(l="[",o=0;o<n.length;o++)o&&(l+=","),l+=i(n[o])||"null";return l+"]"}if(n===null)return"null";if(s.indexOf(n)!==-1){if(r)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var c=s.push(n)-1,u=Object.keys(n).sort(a&&a(n));for(l="",o=0;o<u.length;o++){var d=u[o],h=i(n[d]);h&&(l&&(l+=","),l+=JSON.stringify(d)+":"+h)}return s.splice(c,1),"{"+l+"}"}}(t)}});var Fh=j((Cte,MR)=>{"use strict";MR.exports=function(e,r,a){var s="",i=e.schema.$async===!0,n=e.util.schemaHasRulesExcept(e.schema,e.RULES.all,"$ref"),o=e.self._getId(e.schema);if(e.opts.strictKeywords){var l=e.util.schemaUnknownRules(e.schema,e.RULES.keywords);if(l){var c="unknown keyword: "+l;if(e.opts.strictKeywords==="log")e.logger.warn(c);else throw new Error(c)}}if(e.isTop&&(s+=" var validate = ",i&&(e.async=!0,s+="async "),s+="function(data, dataPath, parentData, parentDataProperty, rootData) { 'use strict'; ",o&&(e.opts.sourceCode||e.opts.processCode)&&(s+=" "+("/*# sourceURL="+o+" */")+" ")),typeof e.schema=="boolean"||!(n||e.schema.$ref)){var r="false schema",u=e.level,d=e.dataLevel,h=e.schema[r],p=e.schemaPath+e.util.getProperty(r),m=e.errSchemaPath+"/"+r,T=!e.opts.allErrors,L,f="data"+(d||""),C="valid"+u;if(e.schema===!1){e.isTop?T=!0:s+=" var "+C+" = false; ";var v=v||[];v.push(s),s="",e.createErrors!==!1?(s+=" { keyword: '"+(L||"false schema")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(m)+" , params: {} ",e.opts.messages!==!1&&(s+=" , message: 'boolean schema is false' "),e.opts.verbose&&(s+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),s+=" } "):s+=" {} ";var g=s;s=v.pop(),!e.compositeRule&&T?e.async?s+=" throw new ValidationError(["+g+"]); ":s+=" validate.errors = ["+g+"]; return false; ":s+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else e.isTop?i?s+=" return data; ":s+=" validate.errors = null; return true; ":s+=" var "+C+" = true; ";return e.isTop&&(s+=" }; return validate; "),s}if(e.isTop){var b=e.isTop,u=e.level=0,d=e.dataLevel=0,f="data";if(e.rootId=e.resolve.fullPath(e.self._getId(e.root.schema)),e.baseId=e.baseId||e.rootId,delete e.isTop,e.dataPathArr=[""],e.schema.default!==void 0&&e.opts.useDefaults&&e.opts.strictDefaults){var w="default is ignored in the schema root";if(e.opts.strictDefaults==="log")e.logger.warn(w);else throw new Error(w)}s+=" var vErrors = null; ",s+=" var errors = 0;     ",s+=" if (rootData === undefined) rootData = data; "}else{var u=e.level,d=e.dataLevel,f="data"+(d||"");if(o&&(e.baseId=e.resolve.url(e.baseId,o)),i&&!e.async)throw new Error("async schema in sync schema");s+=" var errs_"+u+" = errors;"}var C="valid"+u,T=!e.opts.allErrors,R="",O="",L,D=e.schema.type,F=Array.isArray(D);if(D&&e.opts.nullable&&e.schema.nullable===!0&&(F?D.indexOf("null")==-1&&(D=D.concat("null")):D!="null"&&(D=[D,"null"],F=!0)),F&&D.length==1&&(D=D[0],F=!1),e.schema.$ref&&n){if(e.opts.extendRefs=="fail")throw new Error('$ref: validation keywords used in schema at path "'+e.errSchemaPath+'" (see option extendRefs)');e.opts.extendRefs!==!0&&(n=!1,e.logger.warn('$ref: keywords ignored in schema at path "'+e.errSchemaPath+'"'))}if(e.schema.$comment&&e.opts.$comment&&(s+=" "+e.RULES.all.$comment.code(e,"$comment")),D){if(e.opts.coerceTypes)var $=e.util.coerceToTypes(e.opts.coerceTypes,D);var I=e.RULES.types[D];if($||F||I===!0||I&&!Te(I)){var p=e.schemaPath+".type",m=e.errSchemaPath+"/type",p=e.schemaPath+".type",m=e.errSchemaPath+"/type",k=F?"checkDataTypes":"checkDataType";if(s+=" if ("+e.util[k](D,f,e.opts.strictNumbers,!0)+") { ",$){var N="dataType"+u,B="coerced"+u;s+=" var "+N+" = typeof "+f+"; var "+B+" = undefined; ",e.opts.coerceTypes=="array"&&(s+=" if ("+N+" == 'object' && Array.isArray("+f+") && "+f+".length == 1) { "+f+" = "+f+"[0]; "+N+" = typeof "+f+"; if ("+e.util.checkDataType(e.schema.type,f,e.opts.strictNumbers)+") "+B+" = "+f+"; } "),s+=" if ("+B+" !== undefined) ; ";var W=$;if(W)for(var V,K=-1,Q=W.length-1;K<Q;)V=W[K+=1],V=="string"?s+=" else if ("+N+" == 'number' || "+N+" == 'boolean') "+B+" = '' + "+f+"; else if ("+f+" === null) "+B+" = ''; ":V=="number"||V=="integer"?(s+=" else if ("+N+" == 'boolean' || "+f+" === null || ("+N+" == 'string' && "+f+" && "+f+" == +"+f+" ",V=="integer"&&(s+=" && !("+f+" % 1)"),s+=")) "+B+" = +"+f+"; "):V=="boolean"?s+=" else if ("+f+" === 'false' || "+f+" === 0 || "+f+" === null) "+B+" = false; else if ("+f+" === 'true' || "+f+" === 1) "+B+" = true; ":V=="null"?s+=" else if ("+f+" === '' || "+f+" === 0 || "+f+" === false) "+B+" = null; ":e.opts.coerceTypes=="array"&&V=="array"&&(s+=" else if ("+N+" == 'string' || "+N+" == 'number' || "+N+" == 'boolean' || "+f+" == null) "+B+" = ["+f+"]; ");s+=" else {   ";var v=v||[];v.push(s),s="",e.createErrors!==!1?(s+=" { keyword: '"+(L||"type")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(m)+" , params: { type: '",F?s+=""+D.join(","):s+=""+D,s+="' } ",e.opts.messages!==!1&&(s+=" , message: 'should be ",F?s+=""+D.join(","):s+=""+D,s+="' "),e.opts.verbose&&(s+=" , schema: validate.schema"+p+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),s+=" } "):s+=" {} ";var g=s;s=v.pop(),!e.compositeRule&&T?e.async?s+=" throw new ValidationError(["+g+"]); ":s+=" validate.errors = ["+g+"]; return false; ":s+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+=" } if ("+B+" !== undefined) {  ";var X=d?"data"+(d-1||""):"parentData",ae=d?e.dataPathArr[d]:"parentDataProperty";s+=" "+f+" = "+B+"; ",d||(s+="if ("+X+" !== undefined)"),s+=" "+X+"["+ae+"] = "+B+"; } "}else{var v=v||[];v.push(s),s="",e.createErrors!==!1?(s+=" { keyword: '"+(L||"type")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(m)+" , params: { type: '",F?s+=""+D.join(","):s+=""+D,s+="' } ",e.opts.messages!==!1&&(s+=" , message: 'should be ",F?s+=""+D.join(","):s+=""+D,s+="' "),e.opts.verbose&&(s+=" , schema: validate.schema"+p+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),s+=" } "):s+=" {} ";var g=s;s=v.pop(),!e.compositeRule&&T?e.async?s+=" throw new ValidationError(["+g+"]); ":s+=" validate.errors = ["+g+"]; return false; ":s+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}s+=" } "}}if(e.schema.$ref&&!n)s+=" "+e.RULES.all.$ref.code(e,"$ref")+" ",T&&(s+=" } if (errors === ",b?s+="0":s+="errs_"+u,s+=") { ",O+="}");else{var ue=e.RULES;if(ue){for(var I,Qe=-1,ye=ue.length-1;Qe<ye;)if(I=ue[Qe+=1],Te(I)){if(I.type&&(s+=" if ("+e.util.checkDataType(I.type,f,e.opts.strictNumbers)+") { "),e.opts.useDefaults){if(I.type=="object"&&e.schema.properties){var h=e.schema.properties,Ce=Object.keys(h),Ae=Ce;if(Ae)for(var Ue,U=-1,J=Ae.length-1;U<J;){Ue=Ae[U+=1];var ne=h[Ue];if(ne.default!==void 0){var he=f+e.util.getProperty(Ue);if(e.compositeRule){if(e.opts.strictDefaults){var w="default is ignored for: "+he;if(e.opts.strictDefaults==="log")e.logger.warn(w);else throw new Error(w)}}else s+=" if ("+he+" === undefined ",e.opts.useDefaults=="empty"&&(s+=" || "+he+" === null || "+he+" === '' "),s+=" ) "+he+" = ",e.opts.useDefaults=="shared"?s+=" "+e.useDefault(ne.default)+" ":s+=" "+JSON.stringify(ne.default)+" ",s+="; "}}}else if(I.type=="array"&&Array.isArray(e.schema.items)){var Y=e.schema.items;if(Y){for(var ne,K=-1,te=Y.length-1;K<te;)if(ne=Y[K+=1],ne.default!==void 0){var he=f+"["+K+"]";if(e.compositeRule){if(e.opts.strictDefaults){var w="default is ignored for: "+he;if(e.opts.strictDefaults==="log")e.logger.warn(w);else throw new Error(w)}}else s+=" if ("+he+" === undefined ",e.opts.useDefaults=="empty"&&(s+=" || "+he+" === null || "+he+" === '' "),s+=" ) "+he+" = ",e.opts.useDefaults=="shared"?s+=" "+e.useDefault(ne.default)+" ":s+=" "+JSON.stringify(ne.default)+" ",s+="; "}}}}var de=I.rules;if(de){for(var Le,_e=-1,it=de.length-1;_e<it;)if(Le=de[_e+=1],ft(Le)){var ot=Le.code(e,Le.keyword,I.type);ot&&(s+=" "+ot+" ",T&&(R+="}"))}}if(T&&(s+=" "+R+" ",R=""),I.type&&(s+=" } ",D&&D===I.type&&!$)){s+=" else { ";var p=e.schemaPath+".type",m=e.errSchemaPath+"/type",v=v||[];v.push(s),s="",e.createErrors!==!1?(s+=" { keyword: '"+(L||"type")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(m)+" , params: { type: '",F?s+=""+D.join(","):s+=""+D,s+="' } ",e.opts.messages!==!1&&(s+=" , message: 'should be ",F?s+=""+D.join(","):s+=""+D,s+="' "),e.opts.verbose&&(s+=" , schema: validate.schema"+p+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),s+=" } "):s+=" {} ";var g=s;s=v.pop(),!e.compositeRule&&T?e.async?s+=" throw new ValidationError(["+g+"]); ":s+=" validate.errors = ["+g+"]; return false; ":s+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+=" } "}T&&(s+=" if (errors === ",b?s+="0":s+="errs_"+u,s+=") { ",O+="}")}}}T&&(s+=" "+O+" "),b?(i?(s+=" if (errors === 0) return data;           ",s+=" else throw new ValidationError(vErrors); "):(s+=" validate.errors = vErrors; ",s+=" return errors === 0;       "),s+=" }; return validate;"):s+=" var "+C+" = errors === errs_"+u+";";function Te(dt){for(var rt=dt.rules,ct=0;ct<rt.length;ct++)if(ft(rt[ct]))return!0}function ft(dt){return e.schema[dt.keyword]!==void 0||dt.implements&&Ye(dt)}function Ye(dt){for(var rt=dt.implements,ct=0;ct<rt.length;ct++)if(e.schema[rt[ct]]!==void 0)return!0}return s}});var VR=j((Tte,ZR)=>{"use strict";var Tu=Ru(),Iu=jn(),zR=Cu(),mB=Lh(),UR=Fh(),hB=Iu.ucs2length,vB=xu(),gB=zR.Validation;ZR.exports=qh;function qh(t,e,r,a){var s=this,i=this._opts,n=[void 0],o={},l=[],c={},u=[],d={},h=[];e=e||{schema:t,refVal:n,refs:o};var p=yB.call(this,t,e,a),m=this._compilations[p.index];if(p.compiling)return m.callValidate=w;var f=this._formats,v=this.RULES;try{var g=C(t,e,r,a);m.validate=g;var b=m.callValidate;return b&&(b.schema=g.schema,b.errors=null,b.refs=g.refs,b.refVal=g.refVal,b.root=g.root,b.$async=g.$async,i.sourceCode&&(b.source=g.source)),g}finally{xB.call(this,t,e,a)}function w(){var k=m.validate,N=k.apply(this,arguments);return w.errors=k.errors,N}function C(k,N,B,W){var V=!N||N&&N.schema==k;if(N.schema!=e.schema)return qh.call(s,k,N,B,W);var K=k.$async===!0,Q=UR({isTop:!0,schema:k,isRoot:V,baseId:W,root:N,schemaPath:"",errSchemaPath:"#",errorPath:'""',MissingRefError:zR.MissingRef,RULES:v,validate:UR,util:Iu,resolve:Tu,resolveRef:T,usePattern:F,useDefault:$,useCustomRule:I,opts:i,formats:f,logger:s.logger,self:s});Q=Ou(n,wB)+Ou(l,bB)+Ou(u,_B)+Ou(h,SB)+Q,i.processCode&&(Q=i.processCode(Q,k));var X;try{var ae=new Function("self","RULES","formats","root","refVal","defaults","customRules","equal","ucs2length","ValidationError",Q);X=ae(s,v,f,e,n,u,h,vB,hB,gB),n[0]=X}catch(ue){throw s.logger.error("Error compiling schema, function code:",Q),ue}return X.schema=k,X.errors=null,X.refs=o,X.refVal=n,X.root=V?X:N,K&&(X.$async=!0),i.sourceCode===!0&&(X.source={code:Q,patterns:l,defaults:u}),X}function T(k,N,B){N=Tu.url(k,N);var W=o[N],V,K;if(W!==void 0)return V=n[W],K="refVal["+W+"]",D(V,K);if(!B&&e.refs){var Q=e.refs[N];if(Q!==void 0)return V=e.refVal[Q],K=R(N,V),D(V,K)}K=R(N);var X=Tu.call(s,C,e,N);if(X===void 0){var ae=r&&r[N];ae&&(X=Tu.inlineRef(ae,i.inlineRefs)?ae:qh.call(s,ae,e,r,k))}if(X===void 0)O(N);else return L(N,X),D(X,K)}function R(k,N){var B=n.length;return n[B]=N,o[k]=B,"refVal"+B}function O(k){delete o[k]}function L(k,N){var B=o[k];n[B]=N}function D(k,N){return typeof k=="object"||typeof k=="boolean"?{code:N,schema:k,inline:!0}:{code:N,$async:k&&!!k.$async}}function F(k){var N=c[k];return N===void 0&&(N=c[k]=l.length,l[N]=k),"pattern"+N}function $(k){switch(typeof k){case"boolean":case"number":return""+k;case"string":return Iu.toQuotedString(k);case"object":if(k===null)return"null";var N=mB(k),B=d[N];return B===void 0&&(B=d[N]=u.length,u[B]=k),"default"+B}}function I(k,N,B,W){if(s._opts.validateSchema!==!1){var V=k.definition.dependencies;if(V&&!V.every(function(Ae){return Object.prototype.hasOwnProperty.call(B,Ae)}))throw new Error("parent schema must have all required keywords: "+V.join(","));var K=k.definition.validateSchema;if(K){var Q=K(N);if(!Q){var X="keyword schema is invalid: "+s.errorsText(K.errors);if(s._opts.validateSchema=="log")s.logger.error(X);else throw new Error(X)}}}var ae=k.definition.compile,ue=k.definition.inline,Qe=k.definition.macro,ye;if(ae)ye=ae.call(s,N,B,W);else if(Qe)ye=Qe.call(s,N,B,W),i.validateSchema!==!1&&s.validateSchema(ye,!0);else if(ue)ye=ue.call(s,W,k.keyword,N,B);else if(ye=k.definition.validate,!ye)return;if(ye===void 0)throw new Error('custom keyword "'+k.keyword+'"failed to compile');var Ce=h.length;return h[Ce]=ye,{code:"customRule"+Ce,validate:ye}}}function yB(t,e,r){var a=BR.call(this,t,e,r);return a>=0?{index:a,compiling:!0}:(a=this._compilations.length,this._compilations[a]={schema:t,root:e,baseId:r},{index:a,compiling:!1})}function xB(t,e,r){var a=BR.call(this,t,e,r);a>=0&&this._compilations.splice(a,1)}function BR(t,e,r){for(var a=0;a<this._compilations.length;a++){var s=this._compilations[a];if(s.schema==t&&s.root==e&&s.baseId==r)return a}return-1}function bB(t,e){return"var pattern"+t+" = new RegExp("+Iu.toQuotedString(e[t])+");"}function _B(t){return"var default"+t+" = defaults["+t+"];"}function wB(t,e){return e[t]===void 0?"":"var refVal"+t+" = refVal["+t+"];"}function SB(t){return"var customRule"+t+" = customRules["+t+"];"}function Ou(t,e){if(!t.length)return"";for(var r="",a=0;a<t.length;a++)r+=e(a,t);return r}});var GR=j((Ote,HR)=>{"use strict";var Au=HR.exports=function(){this._cache={}};Au.prototype.put=function(e,r){this._cache[e]=r};Au.prototype.get=function(e){return this._cache[e]};Au.prototype.del=function(e){delete this._cache[e]};Au.prototype.clear=function(){this._cache={}}});var nC=j((Ite,sC)=>{"use strict";var EB=jn(),PB=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,RB=[0,31,28,31,30,31,30,31,31,30,31,30,31],CB=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i,WR=/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,TB=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,OB=/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,KR=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,JR=/^(?:(?:http[s\u017F]?|ftp):\/\/)(?:(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+(?::(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?@)?(?:(?!10(?:\.[0-9]{1,3}){3})(?!127(?:\.[0-9]{1,3}){3})(?!169\.254(?:\.[0-9]{1,3}){2})(?!192\.168(?:\.[0-9]{1,3}){2})(?!172\.(?:1[6-9]|2[0-9]|3[01])(?:\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)(?:\.(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)*(?:\.(?:(?:[a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\/(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?$/i,QR=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,YR=/^(?:\/(?:[^~/]|~0|~1)*)*$/,XR=/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,eC=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/;sC.exports=ku;function ku(t){return t=t=="full"?"full":"fast",EB.copy(ku[t])}ku.fast={date:/^\d\d\d\d-[0-1]\d-[0-3]\d$/,time:/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,"date-time":/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,"uri-template":KR,url:JR,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,hostname:WR,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:aC,uuid:QR,"json-pointer":YR,"json-pointer-uri-fragment":XR,"relative-json-pointer":eC};ku.full={date:tC,time:rC,"date-time":kB,uri:DB,"uri-reference":OB,"uri-template":KR,url:JR,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:WR,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:aC,uuid:QR,"json-pointer":YR,"json-pointer-uri-fragment":XR,"relative-json-pointer":eC};function IB(t){return t%4===0&&(t%100!==0||t%400===0)}function tC(t){var e=t.match(PB);if(!e)return!1;var r=+e[1],a=+e[2],s=+e[3];return a>=1&&a<=12&&s>=1&&s<=(a==2&&IB(r)?29:RB[a])}function rC(t,e){var r=t.match(CB);if(!r)return!1;var a=r[1],s=r[2],i=r[3],n=r[5];return(a<=23&&s<=59&&i<=59||a==23&&s==59&&i==60)&&(!e||n)}var AB=/t|\s/i;function kB(t){var e=t.split(AB);return e.length==2&&tC(e[0])&&rC(e[1],!0)}var jB=/\/|:/;function DB(t){return jB.test(t)&&TB.test(t)}var NB=/[^\\]\\Z/;function aC(t){if(NB.test(t))return!1;try{return new RegExp(t),!0}catch{return!1}}});var oC=j((Ate,iC)=>{"use strict";iC.exports=function(e,r,a){var s=" ",i=e.level,n=e.dataLevel,o=e.schema[r],l=e.errSchemaPath+"/"+r,c=!e.opts.allErrors,u="data"+(n||""),d="valid"+i,h,p;if(o=="#"||o=="#/")e.isRoot?(h=e.async,p="validate"):(h=e.root.schema.$async===!0,p="root.refVal[0]");else{var m=e.resolveRef(e.baseId,o,e.isRoot);if(m===void 0){var f=e.MissingRefError.message(e.baseId,o);if(e.opts.missingRefs=="fail"){e.logger.error(f);var v=v||[];v.push(s),s="",e.createErrors!==!1?(s+=" { keyword: '$ref' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { ref: '"+e.util.escapeQuotes(o)+"' } ",e.opts.messages!==!1&&(s+=" , message: 'can\\'t resolve reference "+e.util.escapeQuotes(o)+"' "),e.opts.verbose&&(s+=" , schema: "+e.util.toQuotedString(o)+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),s+=" } "):s+=" {} ";var g=s;s=v.pop(),!e.compositeRule&&c?e.async?s+=" throw new ValidationError(["+g+"]); ":s+=" validate.errors = ["+g+"]; return false; ":s+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",c&&(s+=" if (false) { ")}else if(e.opts.missingRefs=="ignore")e.logger.warn(f),c&&(s+=" if (true) { ");else throw new e.MissingRefError(e.baseId,o,f)}else if(m.inline){var b=e.util.copy(e);b.level++;var w="valid"+b.level;b.schema=m.schema,b.schemaPath="",b.errSchemaPath=o;var C=e.validate(b).replace(/validate\.schema/g,m.code);s+=" "+C+" ",c&&(s+=" if ("+w+") { ")}else h=m.$async===!0||e.async&&m.$async!==!1,p=m.code}if(p){var v=v||[];v.push(s),s="",e.opts.passContext?s+=" "+p+".call(this, ":s+=" "+p+"( ",s+=" "+u+", (dataPath || '')",e.errorPath!='""'&&(s+=" + "+e.errorPath);var T=n?"data"+(n-1||""):"parentData",R=n?e.dataPathArr[n]:"parentDataProperty";s+=" , "+T+" , "+R+", rootData)  ";var O=s;if(s=v.pop(),h){if(!e.async)throw new Error("async schema referenced by sync schema");c&&(s+=" var "+d+"; "),s+=" try { await "+O+"; ",c&&(s+=" "+d+" = true; "),s+=" } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; ",c&&(s+=" "+d+" = false; "),s+=" } ",c&&(s+=" if ("+d+") { ")}else s+=" if (!"+O+") { if (vErrors === null) vErrors = "+p+".errors; else vErrors = vErrors.concat("+p+".errors); errors = vErrors.length; } ",c&&(s+=" else { ")}return s}});var lC=j((kte,cC)=>{"use strict";cC.exports=function(e,r,a){var s=" ",i=e.schema[r],n=e.schemaPath+e.util.getProperty(r),o=e.errSchemaPath+"/"+r,l=!e.opts.allErrors,c=e.util.copy(e),u="";c.level++;var d="valid"+c.level,h=c.baseId,p=!0,m=i;if(m)for(var f,v=-1,g=m.length-1;v<g;)f=m[v+=1],(e.opts.strictKeywords?typeof f=="object"&&Object.keys(f).length>0||f===!1:e.util.schemaHasRules(f,e.RULES.all))&&(p=!1,c.schema=f,c.schemaPath=n+"["+v+"]",c.errSchemaPath=o+"/"+v,s+="  "+e.validate(c)+" ",c.baseId=h,l&&(s+=" if ("+d+") { ",u+="}"));return l&&(p?s+=" if (true) { ":s+=" "+u.slice(0,-1)+" "),s}});var dC=j((jte,uC)=>{"use strict";uC.exports=function(e,r,a){var s=" ",i=e.level,n=e.dataLevel,o=e.schema[r],l=e.schemaPath+e.util.getProperty(r),c=e.errSchemaPath+"/"+r,u=!e.opts.allErrors,d="data"+(n||""),h="valid"+i,p="errs__"+i,m=e.util.copy(e),f="";m.level++;var v="valid"+m.level,g=o.every(function(L){return e.opts.strictKeywords?typeof L=="object"&&Object.keys(L).length>0||L===!1:e.util.schemaHasRules(L,e.RULES.all)});if(g){var b=m.baseId;s+=" var "+p+" = errors; var "+h+" = false;  ";var w=e.compositeRule;e.compositeRule=m.compositeRule=!0;var C=o;if(C)for(var T,R=-1,O=C.length-1;R<O;)T=C[R+=1],m.schema=T,m.schemaPath=l+"["+R+"]",m.errSchemaPath=c+"/"+R,s+="  "+e.validate(m)+" ",m.baseId=b,s+=" "+h+" = "+h+" || "+v+"; if (!"+h+") { ",f+="}";e.compositeRule=m.compositeRule=w,s+=" "+f+" if (!"+h+") {   var err =   ",e.createErrors!==!1?(s+=" { keyword: 'anyOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: {} ",e.opts.messages!==!1&&(s+=" , message: 'should match some schema in anyOf' "),e.opts.verbose&&(s+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),s+=" } "):s+=" {} ",s+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&u&&(e.async?s+=" throw new ValidationError(vErrors); ":s+=" validate.errors = vErrors; return false; "),s+=" } else {  errors = "+p+"; if (vErrors !== null) { if ("+p+") vErrors.length = "+p+"; else vErrors = null; } ",e.opts.allErrors&&(s+=" } ")}else u&&(s+=" if (true) { ");return s}});var fC=j((Dte,pC)=>{"use strict";pC.exports=function(e,r,a){var s=" ",i=e.schema[r],n=e.errSchemaPath+"/"+r,o=!e.opts.allErrors,l=e.util.toQuotedString(i);return e.opts.$comment===!0?s+=" console.log("+l+");":typeof e.opts.$comment=="function"&&(s+=" self._opts.$comment("+l+", "+e.util.toQuotedString(n)+", validate.root.schema);"),s}});var hC=j((Nte,mC)=>{"use strict";mC.exports=function(e,r,a){var s=" ",i=e.level,n=e.dataLevel,o=e.schema[r],l=e.schemaPath+e.util.getProperty(r),c=e.errSchemaPath+"/"+r,u=!e.opts.allErrors,d="data"+(n||""),h="valid"+i,p=e.opts.$data&&o&&o.$data,m;p?(s+=" var schema"+i+" = "+e.util.getData(o.$data,n,e.dataPathArr)+"; ",m="schema"+i):m=o,p||(s+=" var schema"+i+" = validate.schema"+l+";"),s+="var "+h+" = equal("+d+", schema"+i+"); if (!"+h+") {   ";var f=f||[];f.push(s),s="",e.createErrors!==!1?(s+=" { keyword: 'const' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { allowedValue: schema"+i+" } ",e.opts.messages!==!1&&(s+=" , message: 'should be equal to constant' "),e.opts.verbose&&(s+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),s+=" } "):s+=" {} ";var v=s;return s=f.pop(),!e.compositeRule&&u?e.async?s+=" throw new ValidationError(["+v+"]); ":s+=" validate.errors = ["+v+"]; return false; ":s+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+=" }",u&&(s+=" else { "),s}});var gC=j(($te,vC)=>{"use strict";vC.exports=function(e,r,a){var s=" ",i=e.level,n=e.dataLevel,o=e.schema[r],l=e.schemaPath+e.util.getProperty(r),c=e.errSchemaPath+"/"+r,u=!e.opts.allErrors,d="data"+(n||""),h="valid"+i,p="errs__"+i,m=e.util.copy(e),f="";m.level++;var v="valid"+m.level,g="i"+i,b=m.dataLevel=e.dataLevel+1,w="data"+b,C=e.baseId,T=e.opts.strictKeywords?typeof o=="object"&&Object.keys(o).length>0||o===!1:e.util.schemaHasRules(o,e.RULES.all);if(s+="var "+p+" = errors;var "+h+";",T){var R=e.compositeRule;e.compositeRule=m.compositeRule=!0,m.schema=o,m.schemaPath=l,m.errSchemaPath=c,s+=" var "+v+" = false; for (var "+g+" = 0; "+g+" < "+d+".length; "+g+"++) { ",m.errorPath=e.util.getPathExpr(e.errorPath,g,e.opts.jsonPointers,!0);var O=d+"["+g+"]";m.dataPathArr[b]=g;var L=e.validate(m);m.baseId=C,e.util.varOccurences(L,w)<2?s+=" "+e.util.varReplace(L,w,O)+" ":s+=" var "+w+" = "+O+"; "+L+" ",s+=" if ("+v+") break; }  ",e.compositeRule=m.compositeRule=R,s+=" "+f+" if (!"+v+") {"}else s+=" if ("+d+".length == 0) {";var D=D||[];D.push(s),s="",e.createErrors!==!1?(s+=" { keyword: 'contains' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: {} ",e.opts.messages!==!1&&(s+=" , message: 'should contain a valid item' "),e.opts.verbose&&(s+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),s+=" } "):s+=" {} ";var F=s;return s=D.pop(),!e.compositeRule&&u?e.async?s+=" throw new ValidationError(["+F+"]); ":s+=" validate.errors = ["+F+"]; return false; ":s+=" var err = "+F+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+=" } else { ",T&&(s+="  errors = "+p+"; if (vErrors !== null) { if ("+p+") vErrors.length = "+p+"; else vErrors = null; } "),e.opts.allErrors&&(s+=" } "),s}});var xC=j((Lte,yC)=>{"use strict";yC.exports=function(e,r,a){var s=" ",i=e.level,n=e.dataLevel,o=e.schema[r],l=e.schemaPath+e.util.getProperty(r),c=e.errSchemaPath+"/"+r,u=!e.opts.allErrors,d="data"+(n||""),h="errs__"+i,p=e.util.copy(e),m="";p.level++;var f="valid"+p.level,v={},g={},b=e.opts.ownProperties;for(R in o)if(R!="__proto__"){var w=o[R],C=Array.isArray(w)?g:v;C[R]=w}s+="var "+h+" = errors;";var T=e.errorPath;s+="var missing"+i+";";for(var R in g)if(C=g[R],C.length){if(s+=" if ( "+d+e.util.getProperty(R)+" !== undefined ",b&&(s+=" && Object.prototype.hasOwnProperty.call("+d+", '"+e.util.escapeQuotes(R)+"') "),u){s+=" && ( ";var O=C;if(O)for(var L,D=-1,F=O.length-1;D<F;){L=O[D+=1],D&&(s+=" || ");var $=e.util.getProperty(L),I=d+$;s+=" ( ( "+I+" === undefined ",b&&(s+=" || ! Object.prototype.hasOwnProperty.call("+d+", '"+e.util.escapeQuotes(L)+"') "),s+=") && (missing"+i+" = "+e.util.toQuotedString(e.opts.jsonPointers?L:$)+") ) "}s+=")) {  ";var k="missing"+i,N="' + "+k+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(T,k,!0):T+" + "+k);var B=B||[];B.push(s),s="",e.createErrors!==!1?(s+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { property: '"+e.util.escapeQuotes(R)+"', missingProperty: '"+N+"', depsCount: "+C.length+", deps: '"+e.util.escapeQuotes(C.length==1?C[0]:C.join(", "))+"' } ",e.opts.messages!==!1&&(s+=" , message: 'should have ",C.length==1?s+="property "+e.util.escapeQuotes(C[0]):s+="properties "+e.util.escapeQuotes(C.join(", ")),s+=" when property "+e.util.escapeQuotes(R)+" is present' "),e.opts.verbose&&(s+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),s+=" } "):s+=" {} ";var W=s;s=B.pop(),!e.compositeRule&&u?e.async?s+=" throw new ValidationError(["+W+"]); ":s+=" validate.errors = ["+W+"]; return false; ":s+=" var err = "+W+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else{s+=" ) { ";var V=C;if(V)for(var L,K=-1,Q=V.length-1;K<Q;){L=V[K+=1];var $=e.util.getProperty(L),N=e.util.escapeQuotes(L),I=d+$;e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(T,L,e.opts.jsonPointers)),s+=" if ( "+I+" === undefined ",b&&(s+=" || ! Object.prototype.hasOwnProperty.call("+d+", '"+e.util.escapeQuotes(L)+"') "),s+=") {  var err =   ",e.createErrors!==!1?(s+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { property: '"+e.util.escapeQuotes(R)+"', missingProperty: '"+N+"', depsCount: "+C.length+", deps: '"+e.util.escapeQuotes(C.length==1?C[0]:C.join(", "))+"' } ",e.opts.messages!==!1&&(s+=" , message: 'should have ",C.length==1?s+="property "+e.util.escapeQuotes(C[0]):s+="properties "+e.util.escapeQuotes(C.join(", ")),s+=" when property "+e.util.escapeQuotes(R)+" is present' "),e.opts.verbose&&(s+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),s+=" } "):s+=" {} ",s+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}s+=" }   ",u&&(m+="}",s+=" else { ")}e.errorPath=T;var X=p.baseId;for(var R in v){var w=v[R];(e.opts.strictKeywords?typeof w=="object"&&Object.keys(w).length>0||w===!1:e.util.schemaHasRules(w,e.RULES.all))&&(s+=" "+f+" = true; if ( "+d+e.util.getProperty(R)+" !== undefined ",b&&(s+=" && Object.prototype.hasOwnProperty.call("+d+", '"+e.util.escapeQuotes(R)+"') "),s+=") { ",p.schema=w,p.schemaPath=l+e.util.getProperty(R),p.errSchemaPath=c+"/"+e.util.escapeFragment(R),s+="  "+e.validate(p)+" ",p.baseId=X,s+=" }  ",u&&(s+=" if ("+f+") { ",m+="}"))}return u&&(s+="   "+m+" if ("+h+" == errors) {"),s}});var _C=j((Fte,bC)=>{"use strict";bC.exports=function(e,r,a){var s=" ",i=e.level,n=e.dataLevel,o=e.schema[r],l=e.schemaPath+e.util.getProperty(r),c=e.errSchemaPath+"/"+r,u=!e.opts.allErrors,d="data"+(n||""),h="valid"+i,p=e.opts.$data&&o&&o.$data,m;p?(s+=" var schema"+i+" = "+e.util.getData(o.$data,n,e.dataPathArr)+"; ",m="schema"+i):m=o;var f="i"+i,v="schema"+i;p||(s+=" var "+v+" = validate.schema"+l+";"),s+="var "+h+";",p&&(s+=" if (schema"+i+" === undefined) "+h+" = true; else if (!Array.isArray(schema"+i+")) "+h+" = false; else {"),s+=""+h+" = false;for (var "+f+"=0; "+f+"<"+v+".length; "+f+"++) if (equal("+d+", "+v+"["+f+"])) { "+h+" = true; break; }",p&&(s+="  }  "),s+=" if (!"+h+") {   ";var g=g||[];g.push(s),s="",e.createErrors!==!1?(s+=" { keyword: 'enum' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { allowedValues: schema"+i+" } ",e.opts.messages!==!1&&(s+=" , message: 'should be equal to one of the allowed values' "),e.opts.verbose&&(s+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),s+=" } "):s+=" {} ";var b=s;return s=g.pop(),!e.compositeRule&&u?e.async?s+=" throw new ValidationError(["+b+"]); ":s+=" validate.errors = ["+b+"]; return false; ":s+=" var err = "+b+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+=" }",u&&(s+=" else { "),s}});var SC=j((qte,wC)=>{"use strict";wC.exports=function(e,r,a){var s=" ",i=e.level,n=e.dataLevel,o=e.schema[r],l=e.schemaPath+e.util.getProperty(r),c=e.errSchemaPath+"/"+r,u=!e.opts.allErrors,d="data"+(n||"");if(e.opts.format===!1)return u&&(s+=" if (true) { "),s;var h=e.opts.$data&&o&&o.$data,p;h?(s+=" var schema"+i+" = "+e.util.getData(o.$data,n,e.dataPathArr)+"; ",p="schema"+i):p=o;var m=e.opts.unknownFormats,f=Array.isArray(m);if(h){var v="format"+i,g="isObject"+i,b="formatType"+i;s+=" var "+v+" = formats["+p+"]; var "+g+" = typeof "+v+" == 'object' && !("+v+" instanceof RegExp) && "+v+".validate; var "+b+" = "+g+" && "+v+".type || 'string'; if ("+g+") { ",e.async&&(s+=" var async"+i+" = "+v+".async; "),s+=" "+v+" = "+v+".validate; } if (  ",h&&(s+=" ("+p+" !== undefined && typeof "+p+" != 'string') || "),s+=" (",m!="ignore"&&(s+=" ("+p+" && !"+v+" ",f&&(s+=" && self._opts.unknownFormats.indexOf("+p+") == -1 "),s+=") || "),s+=" ("+v+" && "+b+" == '"+a+"' && !(typeof "+v+" == 'function' ? ",e.async?s+=" (async"+i+" ? await "+v+"("+d+") : "+v+"("+d+")) ":s+=" "+v+"("+d+") ",s+=" : "+v+".test("+d+"))))) {"}else{var v=e.formats[o];if(!v){if(m=="ignore")return e.logger.warn('unknown format "'+o+'" ignored in schema at path "'+e.errSchemaPath+'"'),u&&(s+=" if (true) { "),s;if(f&&m.indexOf(o)>=0)return u&&(s+=" if (true) { "),s;throw new Error('unknown format "'+o+'" is used in schema at path "'+e.errSchemaPath+'"')}var g=typeof v=="object"&&!(v instanceof RegExp)&&v.validate,b=g&&v.type||"string";if(g){var w=v.async===!0;v=v.validate}if(b!=a)return u&&(s+=" if (true) { "),s;if(w){if(!e.async)throw new Error("async format in sync schema");var C="formats"+e.util.getProperty(o)+".validate";s+=" if (!(await "+C+"("+d+"))) { "}else{s+=" if (! ";var C="formats"+e.util.getProperty(o);g&&(C+=".validate"),typeof v=="function"?s+=" "+C+"("+d+") ":s+=" "+C+".test("+d+") ",s+=") { "}}var T=T||[];T.push(s),s="",e.createErrors!==!1?(s+=" { keyword: 'format' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { format:  ",h?s+=""+p:s+=""+e.util.toQuotedString(o),s+="  } ",e.opts.messages!==!1&&(s+=` , message: 'should match format "`,h?s+="' + "+p+" + '":s+=""+e.util.escapeQuotes(o),s+=`"' `),e.opts.verbose&&(s+=" , schema:  ",h?s+="validate.schema"+l:s+=""+e.util.toQuotedString(o),s+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),s+=" } "):s+=" {} ";var R=s;return s=T.pop(),!e.compositeRule&&u?e.async?s+=" throw new ValidationError(["+R+"]); ":s+=" validate.errors = ["+R+"]; return false; ":s+=" var err = "+R+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+=" } ",u&&(s+=" else { "),s}});var PC=j((Mte,EC)=>{"use strict";EC.exports=function(e,r,a){var s=" ",i=e.level,n=e.dataLevel,o=e.schema[r],l=e.schemaPath+e.util.getProperty(r),c=e.errSchemaPath+"/"+r,u=!e.opts.allErrors,d="data"+(n||""),h="valid"+i,p="errs__"+i,m=e.util.copy(e);m.level++;var f="valid"+m.level,v=e.schema.then,g=e.schema.else,b=v!==void 0&&(e.opts.strictKeywords?typeof v=="object"&&Object.keys(v).length>0||v===!1:e.util.schemaHasRules(v,e.RULES.all)),w=g!==void 0&&(e.opts.strictKeywords?typeof g=="object"&&Object.keys(g).length>0||g===!1:e.util.schemaHasRules(g,e.RULES.all)),C=m.baseId;if(b||w){var T;m.createErrors=!1,m.schema=o,m.schemaPath=l,m.errSchemaPath=c,s+=" var "+p+" = errors; var "+h+" = true;  ";var R=e.compositeRule;e.compositeRule=m.compositeRule=!0,s+="  "+e.validate(m)+" ",m.baseId=C,m.createErrors=!0,s+="  errors = "+p+"; if (vErrors !== null) { if ("+p+") vErrors.length = "+p+"; else vErrors = null; }  ",e.compositeRule=m.compositeRule=R,b?(s+=" if ("+f+") {  ",m.schema=e.schema.then,m.schemaPath=e.schemaPath+".then",m.errSchemaPath=e.errSchemaPath+"/then",s+="  "+e.validate(m)+" ",m.baseId=C,s+=" "+h+" = "+f+"; ",b&&w?(T="ifClause"+i,s+=" var "+T+" = 'then'; "):T="'then'",s+=" } ",w&&(s+=" else { ")):s+=" if (!"+f+") { ",w&&(m.schema=e.schema.else,m.schemaPath=e.schemaPath+".else",m.errSchemaPath=e.errSchemaPath+"/else",s+="  "+e.validate(m)+" ",m.baseId=C,s+=" "+h+" = "+f+"; ",b&&w?(T="ifClause"+i,s+=" var "+T+" = 'else'; "):T="'else'",s+=" } "),s+=" if (!"+h+") {   var err =   ",e.createErrors!==!1?(s+=" { keyword: 'if' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { failingKeyword: "+T+" } ",e.opts.messages!==!1&&(s+=` , message: 'should match "' + `+T+` + '" schema' `),e.opts.verbose&&(s+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),s+=" } "):s+=" {} ",s+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&u&&(e.async?s+=" throw new ValidationError(vErrors); ":s+=" validate.errors = vErrors; return false; "),s+=" }   ",u&&(s+=" else { ")}else u&&(s+=" if (true) { ");return s}});var CC=j((Ute,RC)=>{"use strict";RC.exports=function(e,r,a){var s=" ",i=e.level,n=e.dataLevel,o=e.schema[r],l=e.schemaPath+e.util.getProperty(r),c=e.errSchemaPath+"/"+r,u=!e.opts.allErrors,d="data"+(n||""),h="valid"+i,p="errs__"+i,m=e.util.copy(e),f="";m.level++;var v="valid"+m.level,g="i"+i,b=m.dataLevel=e.dataLevel+1,w="data"+b,C=e.baseId;if(s+="var "+p+" = errors;var "+h+";",Array.isArray(o)){var T=e.schema.additionalItems;if(T===!1){s+=" "+h+" = "+d+".length <= "+o.length+"; ";var R=c;c=e.errSchemaPath+"/additionalItems",s+="  if (!"+h+") {   ";var O=O||[];O.push(s),s="",e.createErrors!==!1?(s+=" { keyword: 'additionalItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { limit: "+o.length+" } ",e.opts.messages!==!1&&(s+=" , message: 'should NOT have more than "+o.length+" items' "),e.opts.verbose&&(s+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),s+=" } "):s+=" {} ";var L=s;s=O.pop(),!e.compositeRule&&u?e.async?s+=" throw new ValidationError(["+L+"]); ":s+=" validate.errors = ["+L+"]; return false; ":s+=" var err = "+L+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+=" } ",c=R,u&&(f+="}",s+=" else { ")}var D=o;if(D){for(var F,$=-1,I=D.length-1;$<I;)if(F=D[$+=1],e.opts.strictKeywords?typeof F=="object"&&Object.keys(F).length>0||F===!1:e.util.schemaHasRules(F,e.RULES.all)){s+=" "+v+" = true; if ("+d+".length > "+$+") { ";var k=d+"["+$+"]";m.schema=F,m.schemaPath=l+"["+$+"]",m.errSchemaPath=c+"/"+$,m.errorPath=e.util.getPathExpr(e.errorPath,$,e.opts.jsonPointers,!0),m.dataPathArr[b]=$;var N=e.validate(m);m.baseId=C,e.util.varOccurences(N,w)<2?s+=" "+e.util.varReplace(N,w,k)+" ":s+=" var "+w+" = "+k+"; "+N+" ",s+=" }  ",u&&(s+=" if ("+v+") { ",f+="}")}}if(typeof T=="object"&&(e.opts.strictKeywords?typeof T=="object"&&Object.keys(T).length>0||T===!1:e.util.schemaHasRules(T,e.RULES.all))){m.schema=T,m.schemaPath=e.schemaPath+".additionalItems",m.errSchemaPath=e.errSchemaPath+"/additionalItems",s+=" "+v+" = true; if ("+d+".length > "+o.length+") {  for (var "+g+" = "+o.length+"; "+g+" < "+d+".length; "+g+"++) { ",m.errorPath=e.util.getPathExpr(e.errorPath,g,e.opts.jsonPointers,!0);var k=d+"["+g+"]";m.dataPathArr[b]=g;var N=e.validate(m);m.baseId=C,e.util.varOccurences(N,w)<2?s+=" "+e.util.varReplace(N,w,k)+" ":s+=" var "+w+" = "+k+"; "+N+" ",u&&(s+=" if (!"+v+") break; "),s+=" } }  ",u&&(s+=" if ("+v+") { ",f+="}")}}else if(e.opts.strictKeywords?typeof o=="object"&&Object.keys(o).length>0||o===!1:e.util.schemaHasRules(o,e.RULES.all)){m.schema=o,m.schemaPath=l,m.errSchemaPath=c,s+="  for (var "+g+" = 0; "+g+" < "+d+".length; "+g+"++) { ",m.errorPath=e.util.getPathExpr(e.errorPath,g,e.opts.jsonPointers,!0);var k=d+"["+g+"]";m.dataPathArr[b]=g;var N=e.validate(m);m.baseId=C,e.util.varOccurences(N,w)<2?s+=" "+e.util.varReplace(N,w,k)+" ":s+=" var "+w+" = "+k+"; "+N+" ",u&&(s+=" if (!"+v+") break; "),s+=" }"}return u&&(s+=" "+f+" if ("+p+" == errors) {"),s}});var Mh=j((zte,TC)=>{"use strict";TC.exports=function(e,r,a){var s=" ",i=e.level,n=e.dataLevel,o=e.schema[r],l=e.schemaPath+e.util.getProperty(r),c=e.errSchemaPath+"/"+r,u=!e.opts.allErrors,C,d="data"+(n||""),h=e.opts.$data&&o&&o.$data,p;h?(s+=" var schema"+i+" = "+e.util.getData(o.$data,n,e.dataPathArr)+"; ",p="schema"+i):p=o;var m=r=="maximum",f=m?"exclusiveMaximum":"exclusiveMinimum",v=e.schema[f],g=e.opts.$data&&v&&v.$data,b=m?"<":">",w=m?">":"<",C=void 0;if(!(h||typeof o=="number"||o===void 0))throw new Error(r+" must be number");if(!(g||v===void 0||typeof v=="number"||typeof v=="boolean"))throw new Error(f+" must be number or boolean");if(g){var T=e.util.getData(v.$data,n,e.dataPathArr),R="exclusive"+i,O="exclType"+i,L="exclIsNumber"+i,D="op"+i,F="' + "+D+" + '";s+=" var schemaExcl"+i+" = "+T+"; ",T="schemaExcl"+i,s+=" var "+R+"; var "+O+" = typeof "+T+"; if ("+O+" != 'boolean' && "+O+" != 'undefined' && "+O+" != 'number') { ";var C=f,$=$||[];$.push(s),s="",e.createErrors!==!1?(s+=" { keyword: '"+(C||"_exclusiveLimit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: {} ",e.opts.messages!==!1&&(s+=" , message: '"+f+" should be boolean' "),e.opts.verbose&&(s+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),s+=" } "):s+=" {} ";var I=s;s=$.pop(),!e.compositeRule&&u?e.async?s+=" throw new ValidationError(["+I+"]); ":s+=" validate.errors = ["+I+"]; return false; ":s+=" var err = "+I+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+=" } else if ( ",h&&(s+=" ("+p+" !== undefined && typeof "+p+" != 'number') || "),s+=" "+O+" == 'number' ? ( ("+R+" = "+p+" === undefined || "+T+" "+b+"= "+p+") ? "+d+" "+w+"= "+T+" : "+d+" "+w+" "+p+" ) : ( ("+R+" = "+T+" === true) ? "+d+" "+w+"= "+p+" : "+d+" "+w+" "+p+" ) || "+d+" !== "+d+") { var op"+i+" = "+R+" ? '"+b+"' : '"+b+"='; ",o===void 0&&(C=f,c=e.errSchemaPath+"/"+f,p=T,h=g)}else{var L=typeof v=="number",F=b;if(L&&h){var D="'"+F+"'";s+=" if ( ",h&&(s+=" ("+p+" !== undefined && typeof "+p+" != 'number') || "),s+=" ( "+p+" === undefined || "+v+" "+b+"= "+p+" ? "+d+" "+w+"= "+v+" : "+d+" "+w+" "+p+" ) || "+d+" !== "+d+") { "}else{L&&o===void 0?(R=!0,C=f,c=e.errSchemaPath+"/"+f,p=v,w+="="):(L&&(p=Math[m?"min":"max"](v,o)),v===(L?p:!0)?(R=!0,C=f,c=e.errSchemaPath+"/"+f,w+="="):(R=!1,F+="="));var D="'"+F+"'";s+=" if ( ",h&&(s+=" ("+p+" !== undefined && typeof "+p+" != 'number') || "),s+=" "+d+" "+w+" "+p+" || "+d+" !== "+d+") { "}}C=C||r;var $=$||[];$.push(s),s="",e.createErrors!==!1?(s+=" { keyword: '"+(C||"_limit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { comparison: "+D+", limit: "+p+", exclusive: "+R+" } ",e.opts.messages!==!1&&(s+=" , message: 'should be "+F+" ",h?s+="' + "+p:s+=""+p+"'"),e.opts.verbose&&(s+=" , schema:  ",h?s+="validate.schema"+l:s+=""+o,s+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),s+=" } "):s+=" {} ";var I=s;return s=$.pop(),!e.compositeRule&&u?e.async?s+=" throw new ValidationError(["+I+"]); ":s+=" validate.errors = ["+I+"]; return false; ":s+=" var err = "+I+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+=" } ",u&&(s+=" else { "),s}});var Uh=j((Bte,OC)=>{"use strict";OC.exports=function(e,r,a){var s=" ",i=e.level,n=e.dataLevel,o=e.schema[r],l=e.schemaPath+e.util.getProperty(r),c=e.errSchemaPath+"/"+r,u=!e.opts.allErrors,f,d="data"+(n||""),h=e.opts.$data&&o&&o.$data,p;if(h?(s+=" var schema"+i+" = "+e.util.getData(o.$data,n,e.dataPathArr)+"; ",p="schema"+i):p=o,!(h||typeof o=="number"))throw new Error(r+" must be number");var m=r=="maxItems"?">":"<";s+="if ( ",h&&(s+=" ("+p+" !== undefined && typeof "+p+" != 'number') || "),s+=" "+d+".length "+m+" "+p+") { ";var f=r,v=v||[];v.push(s),s="",e.createErrors!==!1?(s+=" { keyword: '"+(f||"_limitItems")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { limit: "+p+" } ",e.opts.messages!==!1&&(s+=" , message: 'should NOT have ",r=="maxItems"?s+="more":s+="fewer",s+=" than ",h?s+="' + "+p+" + '":s+=""+o,s+=" items' "),e.opts.verbose&&(s+=" , schema:  ",h?s+="validate.schema"+l:s+=""+o,s+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),s+=" } "):s+=" {} ";var g=s;return s=v.pop(),!e.compositeRule&&u?e.async?s+=" throw new ValidationError(["+g+"]); ":s+=" validate.errors = ["+g+"]; return false; ":s+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+="} ",u&&(s+=" else { "),s}});var zh=j((Zte,IC)=>{"use strict";IC.exports=function(e,r,a){var s=" ",i=e.level,n=e.dataLevel,o=e.schema[r],l=e.schemaPath+e.util.getProperty(r),c=e.errSchemaPath+"/"+r,u=!e.opts.allErrors,f,d="data"+(n||""),h=e.opts.$data&&o&&o.$data,p;if(h?(s+=" var schema"+i+" = "+e.util.getData(o.$data,n,e.dataPathArr)+"; ",p="schema"+i):p=o,!(h||typeof o=="number"))throw new Error(r+" must be number");var m=r=="maxLength"?">":"<";s+="if ( ",h&&(s+=" ("+p+" !== undefined && typeof "+p+" != 'number') || "),e.opts.unicode===!1?s+=" "+d+".length ":s+=" ucs2length("+d+") ",s+=" "+m+" "+p+") { ";var f=r,v=v||[];v.push(s),s="",e.createErrors!==!1?(s+=" { keyword: '"+(f||"_limitLength")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { limit: "+p+" } ",e.opts.messages!==!1&&(s+=" , message: 'should NOT be ",r=="maxLength"?s+="longer":s+="shorter",s+=" than ",h?s+="' + "+p+" + '":s+=""+o,s+=" characters' "),e.opts.verbose&&(s+=" , schema:  ",h?s+="validate.schema"+l:s+=""+o,s+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),s+=" } "):s+=" {} ";var g=s;return s=v.pop(),!e.compositeRule&&u?e.async?s+=" throw new ValidationError(["+g+"]); ":s+=" validate.errors = ["+g+"]; return false; ":s+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+="} ",u&&(s+=" else { "),s}});var Bh=j((Vte,AC)=>{"use strict";AC.exports=function(e,r,a){var s=" ",i=e.level,n=e.dataLevel,o=e.schema[r],l=e.schemaPath+e.util.getProperty(r),c=e.errSchemaPath+"/"+r,u=!e.opts.allErrors,f,d="data"+(n||""),h=e.opts.$data&&o&&o.$data,p;if(h?(s+=" var schema"+i+" = "+e.util.getData(o.$data,n,e.dataPathArr)+"; ",p="schema"+i):p=o,!(h||typeof o=="number"))throw new Error(r+" must be number");var m=r=="maxProperties"?">":"<";s+="if ( ",h&&(s+=" ("+p+" !== undefined && typeof "+p+" != 'number') || "),s+=" Object.keys("+d+").length "+m+" "+p+") { ";var f=r,v=v||[];v.push(s),s="",e.createErrors!==!1?(s+=" { keyword: '"+(f||"_limitProperties")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { limit: "+p+" } ",e.opts.messages!==!1&&(s+=" , message: 'should NOT have ",r=="maxProperties"?s+="more":s+="fewer",s+=" than ",h?s+="' + "+p+" + '":s+=""+o,s+=" properties' "),e.opts.verbose&&(s+=" , schema:  ",h?s+="validate.schema"+l:s+=""+o,s+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),s+=" } "):s+=" {} ";var g=s;return s=v.pop(),!e.compositeRule&&u?e.async?s+=" throw new ValidationError(["+g+"]); ":s+=" validate.errors = ["+g+"]; return false; ":s+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+="} ",u&&(s+=" else { "),s}});var jC=j((Hte,kC)=>{"use strict";kC.exports=function(e,r,a){var s=" ",i=e.level,n=e.dataLevel,o=e.schema[r],l=e.schemaPath+e.util.getProperty(r),c=e.errSchemaPath+"/"+r,u=!e.opts.allErrors,d="data"+(n||""),h=e.opts.$data&&o&&o.$data,p;if(h?(s+=" var schema"+i+" = "+e.util.getData(o.$data,n,e.dataPathArr)+"; ",p="schema"+i):p=o,!(h||typeof o=="number"))throw new Error(r+" must be number");s+="var division"+i+";if (",h&&(s+=" "+p+" !== undefined && ( typeof "+p+" != 'number' || "),s+=" (division"+i+" = "+d+" / "+p+", ",e.opts.multipleOfPrecision?s+=" Math.abs(Math.round(division"+i+") - division"+i+") > 1e-"+e.opts.multipleOfPrecision+" ":s+=" division"+i+" !== parseInt(division"+i+") ",s+=" ) ",h&&(s+="  )  "),s+=" ) {   ";var m=m||[];m.push(s),s="",e.createErrors!==!1?(s+=" { keyword: 'multipleOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { multipleOf: "+p+" } ",e.opts.messages!==!1&&(s+=" , message: 'should be multiple of ",h?s+="' + "+p:s+=""+p+"'"),e.opts.verbose&&(s+=" , schema:  ",h?s+="validate.schema"+l:s+=""+o,s+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),s+=" } "):s+=" {} ";var f=s;return s=m.pop(),!e.compositeRule&&u?e.async?s+=" throw new ValidationError(["+f+"]); ":s+=" validate.errors = ["+f+"]; return false; ":s+=" var err = "+f+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+="} ",u&&(s+=" else { "),s}});var NC=j((Gte,DC)=>{"use strict";DC.exports=function(e,r,a){var s=" ",i=e.level,n=e.dataLevel,o=e.schema[r],l=e.schemaPath+e.util.getProperty(r),c=e.errSchemaPath+"/"+r,u=!e.opts.allErrors,d="data"+(n||""),h="errs__"+i,p=e.util.copy(e);p.level++;var m="valid"+p.level;if(e.opts.strictKeywords?typeof o=="object"&&Object.keys(o).length>0||o===!1:e.util.schemaHasRules(o,e.RULES.all)){p.schema=o,p.schemaPath=l,p.errSchemaPath=c,s+=" var "+h+" = errors;  ";var f=e.compositeRule;e.compositeRule=p.compositeRule=!0,p.createErrors=!1;var v;p.opts.allErrors&&(v=p.opts.allErrors,p.opts.allErrors=!1),s+=" "+e.validate(p)+" ",p.createErrors=!0,v&&(p.opts.allErrors=v),e.compositeRule=p.compositeRule=f,s+=" if ("+m+") {   ";var g=g||[];g.push(s),s="",e.createErrors!==!1?(s+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: {} ",e.opts.messages!==!1&&(s+=" , message: 'should NOT be valid' "),e.opts.verbose&&(s+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),s+=" } "):s+=" {} ";var b=s;s=g.pop(),!e.compositeRule&&u?e.async?s+=" throw new ValidationError(["+b+"]); ":s+=" validate.errors = ["+b+"]; return false; ":s+=" var err = "+b+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+=" } else {  errors = "+h+"; if (vErrors !== null) { if ("+h+") vErrors.length = "+h+"; else vErrors = null; } ",e.opts.allErrors&&(s+=" } ")}else s+="  var err =   ",e.createErrors!==!1?(s+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: {} ",e.opts.messages!==!1&&(s+=" , message: 'should NOT be valid' "),e.opts.verbose&&(s+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),s+=" } "):s+=" {} ",s+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",u&&(s+=" if (false) { ");return s}});var LC=j((Wte,$C)=>{"use strict";$C.exports=function(e,r,a){var s=" ",i=e.level,n=e.dataLevel,o=e.schema[r],l=e.schemaPath+e.util.getProperty(r),c=e.errSchemaPath+"/"+r,u=!e.opts.allErrors,d="data"+(n||""),h="valid"+i,p="errs__"+i,m=e.util.copy(e),f="";m.level++;var v="valid"+m.level,g=m.baseId,b="prevValid"+i,w="passingSchemas"+i;s+="var "+p+" = errors , "+b+" = false , "+h+" = false , "+w+" = null; ";var C=e.compositeRule;e.compositeRule=m.compositeRule=!0;var T=o;if(T)for(var R,O=-1,L=T.length-1;O<L;)R=T[O+=1],(e.opts.strictKeywords?typeof R=="object"&&Object.keys(R).length>0||R===!1:e.util.schemaHasRules(R,e.RULES.all))?(m.schema=R,m.schemaPath=l+"["+O+"]",m.errSchemaPath=c+"/"+O,s+="  "+e.validate(m)+" ",m.baseId=g):s+=" var "+v+" = true; ",O&&(s+=" if ("+v+" && "+b+") { "+h+" = false; "+w+" = ["+w+", "+O+"]; } else { ",f+="}"),s+=" if ("+v+") { "+h+" = "+b+" = true; "+w+" = "+O+"; }";return e.compositeRule=m.compositeRule=C,s+=""+f+"if (!"+h+") {   var err =   ",e.createErrors!==!1?(s+=" { keyword: 'oneOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { passingSchemas: "+w+" } ",e.opts.messages!==!1&&(s+=" , message: 'should match exactly one schema in oneOf' "),e.opts.verbose&&(s+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),s+=" } "):s+=" {} ",s+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&u&&(e.async?s+=" throw new ValidationError(vErrors); ":s+=" validate.errors = vErrors; return false; "),s+="} else {  errors = "+p+"; if (vErrors !== null) { if ("+p+") vErrors.length = "+p+"; else vErrors = null; }",e.opts.allErrors&&(s+=" } "),s}});var qC=j((Kte,FC)=>{"use strict";FC.exports=function(e,r,a){var s=" ",i=e.level,n=e.dataLevel,o=e.schema[r],l=e.schemaPath+e.util.getProperty(r),c=e.errSchemaPath+"/"+r,u=!e.opts.allErrors,d="data"+(n||""),h=e.opts.$data&&o&&o.$data,p;h?(s+=" var schema"+i+" = "+e.util.getData(o.$data,n,e.dataPathArr)+"; ",p="schema"+i):p=o;var m=h?"(new RegExp("+p+"))":e.usePattern(o);s+="if ( ",h&&(s+=" ("+p+" !== undefined && typeof "+p+" != 'string') || "),s+=" !"+m+".test("+d+") ) {   ";var f=f||[];f.push(s),s="",e.createErrors!==!1?(s+=" { keyword: 'pattern' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { pattern:  ",h?s+=""+p:s+=""+e.util.toQuotedString(o),s+="  } ",e.opts.messages!==!1&&(s+=` , message: 'should match pattern "`,h?s+="' + "+p+" + '":s+=""+e.util.escapeQuotes(o),s+=`"' `),e.opts.verbose&&(s+=" , schema:  ",h?s+="validate.schema"+l:s+=""+e.util.toQuotedString(o),s+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),s+=" } "):s+=" {} ";var v=s;return s=f.pop(),!e.compositeRule&&u?e.async?s+=" throw new ValidationError(["+v+"]); ":s+=" validate.errors = ["+v+"]; return false; ":s+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+="} ",u&&(s+=" else { "),s}});var UC=j((Jte,MC)=>{"use strict";MC.exports=function(e,r,a){var s=" ",i=e.level,n=e.dataLevel,o=e.schema[r],l=e.schemaPath+e.util.getProperty(r),c=e.errSchemaPath+"/"+r,u=!e.opts.allErrors,d="data"+(n||""),h="errs__"+i,p=e.util.copy(e),m="";p.level++;var f="valid"+p.level,v="key"+i,g="idx"+i,b=p.dataLevel=e.dataLevel+1,w="data"+b,C="dataProperties"+i,T=Object.keys(o||{}).filter(K),R=e.schema.patternProperties||{},O=Object.keys(R).filter(K),L=e.schema.additionalProperties,D=T.length||O.length,F=L===!1,$=typeof L=="object"&&Object.keys(L).length,I=e.opts.removeAdditional,k=F||$||I,N=e.opts.ownProperties,B=e.baseId,W=e.schema.required;if(W&&!(e.opts.$data&&W.$data)&&W.length<e.opts.loopRequired)var V=e.util.toHash(W);function K(Ut){return Ut!=="__proto__"}if(s+="var "+h+" = errors;var "+f+" = true;",N&&(s+=" var "+C+" = undefined;"),k){if(N?s+=" "+C+" = "+C+" || Object.keys("+d+"); for (var "+g+"=0; "+g+"<"+C+".length; "+g+"++) { var "+v+" = "+C+"["+g+"]; ":s+=" for (var "+v+" in "+d+") { ",D){if(s+=" var isAdditional"+i+" = !(false ",T.length)if(T.length>8)s+=" || validate.schema"+l+".hasOwnProperty("+v+") ";else{var Q=T;if(Q)for(var X,ae=-1,ue=Q.length-1;ae<ue;)X=Q[ae+=1],s+=" || "+v+" == "+e.util.toQuotedString(X)+" "}if(O.length){var Qe=O;if(Qe)for(var ye,Ce=-1,Ae=Qe.length-1;Ce<Ae;)ye=Qe[Ce+=1],s+=" || "+e.usePattern(ye)+".test("+v+") "}s+=" ); if (isAdditional"+i+") { "}if(I=="all")s+=" delete "+d+"["+v+"]; ";else{var Ue=e.errorPath,U="' + "+v+" + '";if(e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(e.errorPath,v,e.opts.jsonPointers)),F)if(I)s+=" delete "+d+"["+v+"]; ";else{s+=" "+f+" = false; ";var J=c;c=e.errSchemaPath+"/additionalProperties";var ne=ne||[];ne.push(s),s="",e.createErrors!==!1?(s+=" { keyword: 'additionalProperties' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { additionalProperty: '"+U+"' } ",e.opts.messages!==!1&&(s+=" , message: '",e.opts._errorDataPathProperty?s+="is an invalid additional property":s+="should NOT have additional properties",s+="' "),e.opts.verbose&&(s+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),s+=" } "):s+=" {} ";var he=s;s=ne.pop(),!e.compositeRule&&u?e.async?s+=" throw new ValidationError(["+he+"]); ":s+=" validate.errors = ["+he+"]; return false; ":s+=" var err = "+he+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",c=J,u&&(s+=" break; ")}else if($)if(I=="failing"){s+=" var "+h+" = errors;  ";var Y=e.compositeRule;e.compositeRule=p.compositeRule=!0,p.schema=L,p.schemaPath=e.schemaPath+".additionalProperties",p.errSchemaPath=e.errSchemaPath+"/additionalProperties",p.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,v,e.opts.jsonPointers);var te=d+"["+v+"]";p.dataPathArr[b]=v;var de=e.validate(p);p.baseId=B,e.util.varOccurences(de,w)<2?s+=" "+e.util.varReplace(de,w,te)+" ":s+=" var "+w+" = "+te+"; "+de+" ",s+=" if (!"+f+") { errors = "+h+"; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete "+d+"["+v+"]; }  ",e.compositeRule=p.compositeRule=Y}else{p.schema=L,p.schemaPath=e.schemaPath+".additionalProperties",p.errSchemaPath=e.errSchemaPath+"/additionalProperties",p.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,v,e.opts.jsonPointers);var te=d+"["+v+"]";p.dataPathArr[b]=v;var de=e.validate(p);p.baseId=B,e.util.varOccurences(de,w)<2?s+=" "+e.util.varReplace(de,w,te)+" ":s+=" var "+w+" = "+te+"; "+de+" ",u&&(s+=" if (!"+f+") break; ")}e.errorPath=Ue}D&&(s+=" } "),s+=" }  ",u&&(s+=" if ("+f+") { ",m+="}")}var Le=e.opts.useDefaults&&!e.compositeRule;if(T.length){var _e=T;if(_e)for(var X,it=-1,ot=_e.length-1;it<ot;){X=_e[it+=1];var Te=o[X];if(e.opts.strictKeywords?typeof Te=="object"&&Object.keys(Te).length>0||Te===!1:e.util.schemaHasRules(Te,e.RULES.all)){var ft=e.util.getProperty(X),te=d+ft,Ye=Le&&Te.default!==void 0;p.schema=Te,p.schemaPath=l+ft,p.errSchemaPath=c+"/"+e.util.escapeFragment(X),p.errorPath=e.util.getPath(e.errorPath,X,e.opts.jsonPointers),p.dataPathArr[b]=e.util.toQuotedString(X);var de=e.validate(p);if(p.baseId=B,e.util.varOccurences(de,w)<2){de=e.util.varReplace(de,w,te);var dt=te}else{var dt=w;s+=" var "+w+" = "+te+"; "}if(Ye)s+=" "+de+" ";else{if(V&&V[X]){s+=" if ( "+dt+" === undefined ",N&&(s+=" || ! Object.prototype.hasOwnProperty.call("+d+", '"+e.util.escapeQuotes(X)+"') "),s+=") { "+f+" = false; ";var Ue=e.errorPath,J=c,rt=e.util.escapeQuotes(X);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(Ue,X,e.opts.jsonPointers)),c=e.errSchemaPath+"/required";var ne=ne||[];ne.push(s),s="",e.createErrors!==!1?(s+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { missingProperty: '"+rt+"' } ",e.opts.messages!==!1&&(s+=" , message: '",e.opts._errorDataPathProperty?s+="is a required property":s+="should have required property \\'"+rt+"\\'",s+="' "),e.opts.verbose&&(s+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),s+=" } "):s+=" {} ";var he=s;s=ne.pop(),!e.compositeRule&&u?e.async?s+=" throw new ValidationError(["+he+"]); ":s+=" validate.errors = ["+he+"]; return false; ":s+=" var err = "+he+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",c=J,e.errorPath=Ue,s+=" } else { "}else u?(s+=" if ( "+dt+" === undefined ",N&&(s+=" || ! Object.prototype.hasOwnProperty.call("+d+", '"+e.util.escapeQuotes(X)+"') "),s+=") { "+f+" = true; } else { "):(s+=" if ("+dt+" !== undefined ",N&&(s+=" &&   Object.prototype.hasOwnProperty.call("+d+", '"+e.util.escapeQuotes(X)+"') "),s+=" ) { ");s+=" "+de+" } "}}u&&(s+=" if ("+f+") { ",m+="}")}}if(O.length){var ct=O;if(ct)for(var ye,Lt=-1,Ft=ct.length-1;Lt<Ft;){ye=ct[Lt+=1];var Te=R[ye];if(e.opts.strictKeywords?typeof Te=="object"&&Object.keys(Te).length>0||Te===!1:e.util.schemaHasRules(Te,e.RULES.all)){p.schema=Te,p.schemaPath=e.schemaPath+".patternProperties"+e.util.getProperty(ye),p.errSchemaPath=e.errSchemaPath+"/patternProperties/"+e.util.escapeFragment(ye),N?s+=" "+C+" = "+C+" || Object.keys("+d+"); for (var "+g+"=0; "+g+"<"+C+".length; "+g+"++) { var "+v+" = "+C+"["+g+"]; ":s+=" for (var "+v+" in "+d+") { ",s+=" if ("+e.usePattern(ye)+".test("+v+")) { ",p.errorPath=e.util.getPathExpr(e.errorPath,v,e.opts.jsonPointers);var te=d+"["+v+"]";p.dataPathArr[b]=v;var de=e.validate(p);p.baseId=B,e.util.varOccurences(de,w)<2?s+=" "+e.util.varReplace(de,w,te)+" ":s+=" var "+w+" = "+te+"; "+de+" ",u&&(s+=" if (!"+f+") break; "),s+=" } ",u&&(s+=" else "+f+" = true; "),s+=" }  ",u&&(s+=" if ("+f+") { ",m+="}")}}}return u&&(s+=" "+m+" if ("+h+" == errors) {"),s}});var BC=j((Qte,zC)=>{"use strict";zC.exports=function(e,r,a){var s=" ",i=e.level,n=e.dataLevel,o=e.schema[r],l=e.schemaPath+e.util.getProperty(r),c=e.errSchemaPath+"/"+r,u=!e.opts.allErrors,d="data"+(n||""),h="errs__"+i,p=e.util.copy(e),m="";p.level++;var f="valid"+p.level;if(s+="var "+h+" = errors;",e.opts.strictKeywords?typeof o=="object"&&Object.keys(o).length>0||o===!1:e.util.schemaHasRules(o,e.RULES.all)){p.schema=o,p.schemaPath=l,p.errSchemaPath=c;var v="key"+i,g="idx"+i,b="i"+i,w="' + "+v+" + '",C=p.dataLevel=e.dataLevel+1,T="data"+C,R="dataProperties"+i,O=e.opts.ownProperties,L=e.baseId;O&&(s+=" var "+R+" = undefined; "),O?s+=" "+R+" = "+R+" || Object.keys("+d+"); for (var "+g+"=0; "+g+"<"+R+".length; "+g+"++) { var "+v+" = "+R+"["+g+"]; ":s+=" for (var "+v+" in "+d+") { ",s+=" var startErrs"+i+" = errors; ";var D=v,F=e.compositeRule;e.compositeRule=p.compositeRule=!0;var $=e.validate(p);p.baseId=L,e.util.varOccurences($,T)<2?s+=" "+e.util.varReplace($,T,D)+" ":s+=" var "+T+" = "+D+"; "+$+" ",e.compositeRule=p.compositeRule=F,s+=" if (!"+f+") { for (var "+b+"=startErrs"+i+"; "+b+"<errors; "+b+"++) { vErrors["+b+"].propertyName = "+v+"; }   var err =   ",e.createErrors!==!1?(s+=" { keyword: 'propertyNames' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { propertyName: '"+w+"' } ",e.opts.messages!==!1&&(s+=" , message: 'property name \\'"+w+"\\' is invalid' "),e.opts.verbose&&(s+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),s+=" } "):s+=" {} ",s+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&u&&(e.async?s+=" throw new ValidationError(vErrors); ":s+=" validate.errors = vErrors; return false; "),u&&(s+=" break; "),s+=" } }"}return u&&(s+=" "+m+" if ("+h+" == errors) {"),s}});var VC=j((Yte,ZC)=>{"use strict";ZC.exports=function(e,r,a){var s=" ",i=e.level,n=e.dataLevel,o=e.schema[r],l=e.schemaPath+e.util.getProperty(r),c=e.errSchemaPath+"/"+r,u=!e.opts.allErrors,d="data"+(n||""),h="valid"+i,p=e.opts.$data&&o&&o.$data,m;p?(s+=" var schema"+i+" = "+e.util.getData(o.$data,n,e.dataPathArr)+"; ",m="schema"+i):m=o;var f="schema"+i;if(!p)if(o.length<e.opts.loopRequired&&e.schema.properties&&Object.keys(e.schema.properties).length){var v=[],g=o;if(g)for(var b,w=-1,C=g.length-1;w<C;){b=g[w+=1];var T=e.schema.properties[b];T&&(e.opts.strictKeywords?typeof T=="object"&&Object.keys(T).length>0||T===!1:e.util.schemaHasRules(T,e.RULES.all))||(v[v.length]=b)}}else var v=o;if(p||v.length){var R=e.errorPath,O=p||v.length>=e.opts.loopRequired,L=e.opts.ownProperties;if(u)if(s+=" var missing"+i+"; ",O){p||(s+=" var "+f+" = validate.schema"+l+"; ");var D="i"+i,F="schema"+i+"["+D+"]",$="' + "+F+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(R,F,e.opts.jsonPointers)),s+=" var "+h+" = true; ",p&&(s+=" if (schema"+i+" === undefined) "+h+" = true; else if (!Array.isArray(schema"+i+")) "+h+" = false; else {"),s+=" for (var "+D+" = 0; "+D+" < "+f+".length; "+D+"++) { "+h+" = "+d+"["+f+"["+D+"]] !== undefined ",L&&(s+=" &&   Object.prototype.hasOwnProperty.call("+d+", "+f+"["+D+"]) "),s+="; if (!"+h+") break; } ",p&&(s+="  }  "),s+="  if (!"+h+") {   ";var I=I||[];I.push(s),s="",e.createErrors!==!1?(s+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { missingProperty: '"+$+"' } ",e.opts.messages!==!1&&(s+=" , message: '",e.opts._errorDataPathProperty?s+="is a required property":s+="should have required property \\'"+$+"\\'",s+="' "),e.opts.verbose&&(s+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),s+=" } "):s+=" {} ";var k=s;s=I.pop(),!e.compositeRule&&u?e.async?s+=" throw new ValidationError(["+k+"]); ":s+=" validate.errors = ["+k+"]; return false; ":s+=" var err = "+k+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+=" } else { "}else{s+=" if ( ";var N=v;if(N)for(var B,D=-1,W=N.length-1;D<W;){B=N[D+=1],D&&(s+=" || ");var V=e.util.getProperty(B),K=d+V;s+=" ( ( "+K+" === undefined ",L&&(s+=" || ! Object.prototype.hasOwnProperty.call("+d+", '"+e.util.escapeQuotes(B)+"') "),s+=") && (missing"+i+" = "+e.util.toQuotedString(e.opts.jsonPointers?B:V)+") ) "}s+=") {  ";var F="missing"+i,$="' + "+F+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(R,F,!0):R+" + "+F);var I=I||[];I.push(s),s="",e.createErrors!==!1?(s+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { missingProperty: '"+$+"' } ",e.opts.messages!==!1&&(s+=" , message: '",e.opts._errorDataPathProperty?s+="is a required property":s+="should have required property \\'"+$+"\\'",s+="' "),e.opts.verbose&&(s+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),s+=" } "):s+=" {} ";var k=s;s=I.pop(),!e.compositeRule&&u?e.async?s+=" throw new ValidationError(["+k+"]); ":s+=" validate.errors = ["+k+"]; return false; ":s+=" var err = "+k+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+=" } else { "}else if(O){p||(s+=" var "+f+" = validate.schema"+l+"; ");var D="i"+i,F="schema"+i+"["+D+"]",$="' + "+F+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(R,F,e.opts.jsonPointers)),p&&(s+=" if ("+f+" && !Array.isArray("+f+")) {  var err =   ",e.createErrors!==!1?(s+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { missingProperty: '"+$+"' } ",e.opts.messages!==!1&&(s+=" , message: '",e.opts._errorDataPathProperty?s+="is a required property":s+="should have required property \\'"+$+"\\'",s+="' "),e.opts.verbose&&(s+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),s+=" } "):s+=" {} ",s+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if ("+f+" !== undefined) { "),s+=" for (var "+D+" = 0; "+D+" < "+f+".length; "+D+"++) { if ("+d+"["+f+"["+D+"]] === undefined ",L&&(s+=" || ! Object.prototype.hasOwnProperty.call("+d+", "+f+"["+D+"]) "),s+=") {  var err =   ",e.createErrors!==!1?(s+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { missingProperty: '"+$+"' } ",e.opts.messages!==!1&&(s+=" , message: '",e.opts._errorDataPathProperty?s+="is a required property":s+="should have required property \\'"+$+"\\'",s+="' "),e.opts.verbose&&(s+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),s+=" } "):s+=" {} ",s+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ",p&&(s+="  }  ")}else{var Q=v;if(Q)for(var B,X=-1,ae=Q.length-1;X<ae;){B=Q[X+=1];var V=e.util.getProperty(B),$=e.util.escapeQuotes(B),K=d+V;e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(R,B,e.opts.jsonPointers)),s+=" if ( "+K+" === undefined ",L&&(s+=" || ! Object.prototype.hasOwnProperty.call("+d+", '"+e.util.escapeQuotes(B)+"') "),s+=") {  var err =   ",e.createErrors!==!1?(s+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { missingProperty: '"+$+"' } ",e.opts.messages!==!1&&(s+=" , message: '",e.opts._errorDataPathProperty?s+="is a required property":s+="should have required property \\'"+$+"\\'",s+="' "),e.opts.verbose&&(s+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),s+=" } "):s+=" {} ",s+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}e.errorPath=R}else u&&(s+=" if (true) {");return s}});var GC=j((Xte,HC)=>{"use strict";HC.exports=function(e,r,a){var s=" ",i=e.level,n=e.dataLevel,o=e.schema[r],l=e.schemaPath+e.util.getProperty(r),c=e.errSchemaPath+"/"+r,u=!e.opts.allErrors,d="data"+(n||""),h="valid"+i,p=e.opts.$data&&o&&o.$data,m;if(p?(s+=" var schema"+i+" = "+e.util.getData(o.$data,n,e.dataPathArr)+"; ",m="schema"+i):m=o,(o||p)&&e.opts.uniqueItems!==!1){p&&(s+=" var "+h+"; if ("+m+" === false || "+m+" === undefined) "+h+" = true; else if (typeof "+m+" != 'boolean') "+h+" = false; else { "),s+=" var i = "+d+".length , "+h+" = true , j; if (i > 1) { ";var f=e.schema.items&&e.schema.items.type,v=Array.isArray(f);if(!f||f=="object"||f=="array"||v&&(f.indexOf("object")>=0||f.indexOf("array")>=0))s+=" outer: for (;i--;) { for (j = i; j--;) { if (equal("+d+"[i], "+d+"[j])) { "+h+" = false; break outer; } } } ";else{s+=" var itemIndices = {}, item; for (;i--;) { var item = "+d+"[i]; ";var g="checkDataType"+(v?"s":"");s+=" if ("+e.util[g](f,"item",e.opts.strictNumbers,!0)+") continue; ",v&&(s+=` if (typeof item == 'string') item = '"' + item; `),s+=" if (typeof itemIndices[item] == 'number') { "+h+" = false; j = itemIndices[item]; break; } itemIndices[item] = i; } "}s+=" } ",p&&(s+="  }  "),s+=" if (!"+h+") {   ";var b=b||[];b.push(s),s="",e.createErrors!==!1?(s+=" { keyword: 'uniqueItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { i: i, j: j } ",e.opts.messages!==!1&&(s+=" , message: 'should NOT have duplicate items (items ## ' + j + ' and ' + i + ' are identical)' "),e.opts.verbose&&(s+=" , schema:  ",p?s+="validate.schema"+l:s+=""+o,s+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),s+=" } "):s+=" {} ";var w=s;s=b.pop(),!e.compositeRule&&u?e.async?s+=" throw new ValidationError(["+w+"]); ":s+=" validate.errors = ["+w+"]; return false; ":s+=" var err = "+w+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+=" } ",u&&(s+=" else { ")}else u&&(s+=" if (true) { ");return s}});var KC=j((ere,WC)=>{"use strict";WC.exports={$ref:oC(),allOf:lC(),anyOf:dC(),$comment:fC(),const:hC(),contains:gC(),dependencies:xC(),enum:_C(),format:SC(),if:PC(),items:CC(),maximum:Mh(),minimum:Mh(),maxItems:Uh(),minItems:Uh(),maxLength:zh(),minLength:zh(),maxProperties:Bh(),minProperties:Bh(),multipleOf:jC(),not:NC(),oneOf:LC(),pattern:qC(),properties:UC(),propertyNames:BC(),required:VC(),uniqueItems:GC(),validate:Fh()}});var YC=j((tre,QC)=>{"use strict";var JC=KC(),Zh=jn().toHash;QC.exports=function(){var e=[{type:"number",rules:[{maximum:["exclusiveMaximum"]},{minimum:["exclusiveMinimum"]},"multipleOf","format"]},{type:"string",rules:["maxLength","minLength","pattern","format"]},{type:"array",rules:["maxItems","minItems","items","contains","uniqueItems"]},{type:"object",rules:["maxProperties","minProperties","required","dependencies","propertyNames",{properties:["additionalProperties","patternProperties"]}]},{rules:["$ref","const","enum","not","anyOf","oneOf","allOf","if"]}],r=["type","$comment"],a=["$schema","$id","id","$data","$async","title","description","default","definitions","examples","readOnly","writeOnly","contentMediaType","contentEncoding","additionalItems","then","else"],s=["number","integer","string","array","object","boolean","null"];return e.all=Zh(r),e.types=Zh(s),e.forEach(function(i){i.rules=i.rules.map(function(n){var o;if(typeof n=="object"){var l=Object.keys(n)[0];o=n[l],n=l,o.forEach(function(u){r.push(u),e.all[u]=!0})}r.push(n);var c=e.all[n]={keyword:n,code:JC[n],implements:o};return c}),e.all.$comment={keyword:"$comment",code:JC.$comment},i.type&&(e.types[i.type]=i)}),e.keywords=Zh(r.concat(a)),e.custom={},e}});var tT=j((rre,eT)=>{"use strict";var XC=["multipleOf","maximum","exclusiveMaximum","minimum","exclusiveMinimum","maxLength","minLength","pattern","additionalItems","maxItems","minItems","uniqueItems","maxProperties","minProperties","required","additionalProperties","enum","format","const"];eT.exports=function(t,e){for(var r=0;r<e.length;r++){t=JSON.parse(JSON.stringify(t));var a=e[r].split("/"),s=t,i;for(i=1;i<a.length;i++)s=s[a[i]];for(i=0;i<XC.length;i++){var n=XC[i],o=s[n];o&&(s[n]={anyOf:[o,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]})}}return t}});var sT=j((are,aT)=>{"use strict";var $B=Cu().MissingRef;aT.exports=rT;function rT(t,e,r){var a=this;if(typeof this._opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");typeof e=="function"&&(r=e,e=void 0);var s=i(t).then(function(){var o=a._addSchema(t,void 0,e);return o.validate||n(o)});return r&&s.then(function(o){r(null,o)},r),s;function i(o){var l=o.$schema;return l&&!a.getSchema(l)?rT.call(a,{$ref:l},!0):Promise.resolve()}function n(o){try{return a._compile(o)}catch(c){if(c instanceof $B)return l(c);throw c}function l(c){var u=c.missingSchema;if(p(u))throw new Error("Schema "+u+" is loaded but "+c.missingRef+" cannot be resolved");var d=a._loadingSchemas[u];return d||(d=a._loadingSchemas[u]=a._opts.loadSchema(u),d.then(h,h)),d.then(function(m){if(!p(u))return i(m).then(function(){p(u)||a.addSchema(m,u,void 0,e)})}).then(function(){return n(o)});function h(){delete a._loadingSchemas[u]}function p(m){return a._refs[m]||a._schemas[m]}}}}});var iT=j((sre,nT)=>{"use strict";nT.exports=function(e,r,a){var s=" ",i=e.level,n=e.dataLevel,o=e.schema[r],l=e.schemaPath+e.util.getProperty(r),c=e.errSchemaPath+"/"+r,u=!e.opts.allErrors,d,h="data"+(n||""),p="valid"+i,m="errs__"+i,f=e.opts.$data&&o&&o.$data,v;f?(s+=" var schema"+i+" = "+e.util.getData(o.$data,n,e.dataPathArr)+"; ",v="schema"+i):v=o;var g=this,b="definition"+i,w=g.definition,C="",T,R,O,L,D;if(f&&w.$data){D="keywordValidate"+i;var F=w.validateSchema;s+=" var "+b+" = RULES.custom['"+r+"'].definition; var "+D+" = "+b+".validate;"}else{if(L=e.useCustomRule(g,o,e.schema,e),!L)return;v="validate.schema"+l,D=L.code,T=w.compile,R=w.inline,O=w.macro}var $=D+".errors",I="i"+i,k="ruleErr"+i,N=w.async;if(N&&!e.async)throw new Error("async keyword in sync schema");if(R||O||(s+=""+$+" = null;"),s+="var "+m+" = errors;var "+p+";",f&&w.$data&&(C+="}",s+=" if ("+v+" === undefined) { "+p+" = true; } else { ",F&&(C+="}",s+=" "+p+" = "+b+".validateSchema("+v+"); if ("+p+") { ")),R)w.statements?s+=" "+L.validate+" ":s+=" "+p+" = "+L.validate+"; ";else if(O){var B=e.util.copy(e),C="";B.level++;var W="valid"+B.level;B.schema=L.validate,B.schemaPath="";var V=e.compositeRule;e.compositeRule=B.compositeRule=!0;var K=e.validate(B).replace(/validate\.schema/g,D);e.compositeRule=B.compositeRule=V,s+=" "+K}else{var Q=Q||[];Q.push(s),s="",s+="  "+D+".call( ",e.opts.passContext?s+="this":s+="self",T||w.schema===!1?s+=" , "+h+" ":s+=" , "+v+" , "+h+" , validate.schema"+e.schemaPath+" ",s+=" , (dataPath || '')",e.errorPath!='""'&&(s+=" + "+e.errorPath);var X=n?"data"+(n-1||""):"parentData",ae=n?e.dataPathArr[n]:"parentDataProperty";s+=" , "+X+" , "+ae+" , rootData )  ";var ue=s;s=Q.pop(),w.errors===!1?(s+=" "+p+" = ",N&&(s+="await "),s+=""+ue+"; "):N?($="customErrors"+i,s+=" var "+$+" = null; try { "+p+" = await "+ue+"; } catch (e) { "+p+" = false; if (e instanceof ValidationError) "+$+" = e.errors; else throw e; } "):s+=" "+$+" = null; "+p+" = "+ue+"; "}if(w.modifying&&(s+=" if ("+X+") "+h+" = "+X+"["+ae+"];"),s+=""+C,w.valid)u&&(s+=" if (true) { ");else{s+=" if ( ",w.valid===void 0?(s+=" !",O?s+=""+W:s+=""+p):s+=" "+!w.valid+" ",s+=") { ",d=g.keyword;var Q=Q||[];Q.push(s),s="";var Q=Q||[];Q.push(s),s="",e.createErrors!==!1?(s+=" { keyword: '"+(d||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { keyword: '"+g.keyword+"' } ",e.opts.messages!==!1&&(s+=` , message: 'should pass "`+g.keyword+`" keyword validation' `),e.opts.verbose&&(s+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),s+=" } "):s+=" {} ";var Qe=s;s=Q.pop(),!e.compositeRule&&u?e.async?s+=" throw new ValidationError(["+Qe+"]); ":s+=" validate.errors = ["+Qe+"]; return false; ":s+=" var err = "+Qe+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";var ye=s;s=Q.pop(),R?w.errors?w.errors!="full"&&(s+="  for (var "+I+"="+m+"; "+I+"<errors; "+I+"++) { var "+k+" = vErrors["+I+"]; if ("+k+".dataPath === undefined) "+k+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+k+".schemaPath === undefined) { "+k+'.schemaPath = "'+c+'"; } ',e.opts.verbose&&(s+=" "+k+".schema = "+v+"; "+k+".data = "+h+"; "),s+=" } "):w.errors===!1?s+=" "+ye+" ":(s+=" if ("+m+" == errors) { "+ye+" } else {  for (var "+I+"="+m+"; "+I+"<errors; "+I+"++) { var "+k+" = vErrors["+I+"]; if ("+k+".dataPath === undefined) "+k+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+k+".schemaPath === undefined) { "+k+'.schemaPath = "'+c+'"; } ',e.opts.verbose&&(s+=" "+k+".schema = "+v+"; "+k+".data = "+h+"; "),s+=" } } "):O?(s+="   var err =   ",e.createErrors!==!1?(s+=" { keyword: '"+(d||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { keyword: '"+g.keyword+"' } ",e.opts.messages!==!1&&(s+=` , message: 'should pass "`+g.keyword+`" keyword validation' `),e.opts.verbose&&(s+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),s+=" } "):s+=" {} ",s+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&u&&(e.async?s+=" throw new ValidationError(vErrors); ":s+=" validate.errors = vErrors; return false; ")):w.errors===!1?s+=" "+ye+" ":(s+=" if (Array.isArray("+$+")) { if (vErrors === null) vErrors = "+$+"; else vErrors = vErrors.concat("+$+"); errors = vErrors.length;  for (var "+I+"="+m+"; "+I+"<errors; "+I+"++) { var "+k+" = vErrors["+I+"]; if ("+k+".dataPath === undefined) "+k+".dataPath = (dataPath || '') + "+e.errorPath+";  "+k+'.schemaPath = "'+c+'";  ',e.opts.verbose&&(s+=" "+k+".schema = "+v+"; "+k+".data = "+h+"; "),s+=" } } else { "+ye+" } "),s+=" } ",u&&(s+=" else { ")}return s}});var Vh=j((nre,LB)=>{LB.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}});var lT=j((ire,cT)=>{"use strict";var oT=Vh();cT.exports={$id:"https://github.com/ajv-validator/ajv/blob/master/lib/definition_schema.js",definitions:{simpleTypes:oT.definitions.simpleTypes},type:"object",dependencies:{schema:["validate"],$data:["validate"],statements:["inline"],valid:{not:{required:["macro"]}}},properties:{type:oT.properties.type,schema:{type:"boolean"},statements:{type:"boolean"},dependencies:{type:"array",items:{type:"string"}},metaSchema:{type:"object"},modifying:{type:"boolean"},valid:{type:"boolean"},$data:{type:"boolean"},async:{type:"boolean"},errors:{anyOf:[{type:"boolean"},{const:"full"}]}}}});var dT=j((ore,uT)=>{"use strict";var FB=/^[a-z_$][a-z0-9_$-]*$/i,qB=iT(),MB=lT();uT.exports={add:UB,get:zB,remove:BB,validate:Hh};function UB(t,e){var r=this.RULES;if(r.keywords[t])throw new Error("Keyword "+t+" is already defined");if(!FB.test(t))throw new Error("Keyword "+t+" is not a valid identifier");if(e){this.validateKeyword(e,!0);var a=e.type;if(Array.isArray(a))for(var s=0;s<a.length;s++)n(t,a[s],e);else n(t,a,e);var i=e.metaSchema;i&&(e.$data&&this._opts.$data&&(i={anyOf:[i,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]}),e.validateSchema=this.compile(i,!0))}r.keywords[t]=r.all[t]=!0;function n(o,l,c){for(var u,d=0;d<r.length;d++){var h=r[d];if(h.type==l){u=h;break}}u||(u={type:l,rules:[]},r.push(u));var p={keyword:o,definition:c,custom:!0,code:qB,implements:c.implements};u.rules.push(p),r.custom[o]=p}return this}function zB(t){var e=this.RULES.custom[t];return e?e.definition:this.RULES.keywords[t]||!1}function BB(t){var e=this.RULES;delete e.keywords[t],delete e.all[t],delete e.custom[t];for(var r=0;r<e.length;r++)for(var a=e[r].rules,s=0;s<a.length;s++)if(a[s].keyword==t){a.splice(s,1);break}return this}function Hh(t,e){Hh.errors=null;var r=this._validateKeyword=this._validateKeyword||this.compile(MB,!0);if(r(t))return!0;if(Hh.errors=r.errors,e)throw new Error("custom keyword definition is invalid: "+this.errorsText(r.errors));return!1}});var pT=j((cre,ZB)=>{ZB.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON Schema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1}});var wT=j((lre,_T)=>{"use strict";var mT=VR(),Dn=Ru(),VB=GR(),hT=Ah(),HB=Lh(),GB=nC(),WB=YC(),vT=tT(),gT=jn();_T.exports=Pt;Pt.prototype.validate=JB;Pt.prototype.compile=QB;Pt.prototype.addSchema=YB;Pt.prototype.addMetaSchema=XB;Pt.prototype.validateSchema=e3;Pt.prototype.getSchema=r3;Pt.prototype.removeSchema=s3;Pt.prototype.addFormat=p3;Pt.prototype.errorsText=d3;Pt.prototype._addSchema=n3;Pt.prototype._compile=i3;Pt.prototype.compileAsync=sT();var Nu=dT();Pt.prototype.addKeyword=Nu.add;Pt.prototype.getKeyword=Nu.get;Pt.prototype.removeKeyword=Nu.remove;Pt.prototype.validateKeyword=Nu.validate;var yT=Cu();Pt.ValidationError=yT.Validation;Pt.MissingRefError=yT.MissingRef;Pt.$dataMetaSchema=vT;var Du="http://json-schema.org/draft-07/schema",fT=["removeAdditional","useDefaults","coerceTypes","strictDefaults"],KB=["/properties"];function Pt(t){if(!(this instanceof Pt))return new Pt(t);t=this._opts=gT.copy(t)||{},y3(this),this._schemas={},this._refs={},this._fragments={},this._formats=GB(t.format),this._cache=t.cache||new VB,this._loadingSchemas={},this._compilations=[],this.RULES=WB(),this._getId=o3(t),t.loopRequired=t.loopRequired||1/0,t.errorDataPath=="property"&&(t._errorDataPathProperty=!0),t.serialize===void 0&&(t.serialize=HB),this._metaOpts=g3(this),t.formats&&h3(this),t.keywords&&v3(this),f3(this),typeof t.meta=="object"&&this.addMetaSchema(t.meta),t.nullable&&this.addKeyword("nullable",{metaSchema:{type:"boolean"}}),m3(this)}function JB(t,e){var r;if(typeof t=="string"){if(r=this.getSchema(t),!r)throw new Error('no schema with key or ref "'+t+'"')}else{var a=this._addSchema(t);r=a.validate||this._compile(a)}var s=r(e);return r.$async!==!0&&(this.errors=r.errors),s}function QB(t,e){var r=this._addSchema(t,void 0,e);return r.validate||this._compile(r)}function YB(t,e,r,a){if(Array.isArray(t)){for(var s=0;s<t.length;s++)this.addSchema(t[s],void 0,r,a);return this}var i=this._getId(t);if(i!==void 0&&typeof i!="string")throw new Error("schema id must be string");return e=Dn.normalizeId(e||i),bT(this,e),this._schemas[e]=this._addSchema(t,r,a,!0),this}function XB(t,e,r){return this.addSchema(t,e,r,!0),this}function e3(t,e){var r=t.$schema;if(r!==void 0&&typeof r!="string")throw new Error("$schema must be a string");if(r=r||this._opts.defaultMeta||t3(this),!r)return this.logger.warn("meta-schema not available"),this.errors=null,!0;var a=this.validate(r,t);if(!a&&e){var s="schema is invalid: "+this.errorsText();if(this._opts.validateSchema=="log")this.logger.error(s);else throw new Error(s)}return a}function t3(t){var e=t._opts.meta;return t._opts.defaultMeta=typeof e=="object"?t._getId(e)||e:t.getSchema(Du)?Du:void 0,t._opts.defaultMeta}function r3(t){var e=xT(this,t);switch(typeof e){case"object":return e.validate||this._compile(e);case"string":return this.getSchema(e);case"undefined":return a3(this,t)}}function a3(t,e){var r=Dn.schema.call(t,{schema:{}},e);if(r){var a=r.schema,s=r.root,i=r.baseId,n=mT.call(t,a,s,void 0,i);return t._fragments[e]=new hT({ref:e,fragment:!0,schema:a,root:s,baseId:i,validate:n}),n}}function xT(t,e){return e=Dn.normalizeId(e),t._schemas[e]||t._refs[e]||t._fragments[e]}function s3(t){if(t instanceof RegExp)return ju(this,this._schemas,t),ju(this,this._refs,t),this;switch(typeof t){case"undefined":return ju(this,this._schemas),ju(this,this._refs),this._cache.clear(),this;case"string":var e=xT(this,t);return e&&this._cache.del(e.cacheKey),delete this._schemas[t],delete this._refs[t],this;case"object":var r=this._opts.serialize,a=r?r(t):t;this._cache.del(a);var s=this._getId(t);s&&(s=Dn.normalizeId(s),delete this._schemas[s],delete this._refs[s])}return this}function ju(t,e,r){for(var a in e){var s=e[a];!s.meta&&(!r||r.test(a))&&(t._cache.del(s.cacheKey),delete e[a])}}function n3(t,e,r,a){if(typeof t!="object"&&typeof t!="boolean")throw new Error("schema should be object or boolean");var s=this._opts.serialize,i=s?s(t):t,n=this._cache.get(i);if(n)return n;a=a||this._opts.addUsedSchema!==!1;var o=Dn.normalizeId(this._getId(t));o&&a&&bT(this,o);var l=this._opts.validateSchema!==!1&&!e,c;l&&!(c=o&&o==Dn.normalizeId(t.$schema))&&this.validateSchema(t,!0);var u=Dn.ids.call(this,t),d=new hT({id:o,schema:t,localRefs:u,cacheKey:i,meta:r});return o[0]!="#"&&a&&(this._refs[o]=d),this._cache.put(i,d),l&&c&&this.validateSchema(t,!0),d}function i3(t,e){if(t.compiling)return t.validate=s,s.schema=t.schema,s.errors=null,s.root=e||s,t.schema.$async===!0&&(s.$async=!0),s;t.compiling=!0;var r;t.meta&&(r=this._opts,this._opts=this._metaOpts);var a;try{a=mT.call(this,t.schema,e,t.localRefs)}catch(i){throw delete t.validate,i}finally{t.compiling=!1,t.meta&&(this._opts=r)}return t.validate=a,t.refs=a.refs,t.refVal=a.refVal,t.root=a.root,a;function s(){var i=t.validate,n=i.apply(this,arguments);return s.errors=i.errors,n}}function o3(t){switch(t.schemaId){case"auto":return u3;case"id":return c3;default:return l3}}function c3(t){return t.$id&&this.logger.warn("schema $id ignored",t.$id),t.id}function l3(t){return t.id&&this.logger.warn("schema id ignored",t.id),t.$id}function u3(t){if(t.$id&&t.id&&t.$id!=t.id)throw new Error("schema $id is different from id");return t.$id||t.id}function d3(t,e){if(t=t||this.errors,!t)return"No errors";e=e||{};for(var r=e.separator===void 0?", ":e.separator,a=e.dataVar===void 0?"data":e.dataVar,s="",i=0;i<t.length;i++){var n=t[i];n&&(s+=a+n.dataPath+" "+n.message+r)}return s.slice(0,-r.length)}function p3(t,e){return typeof e=="string"&&(e=new RegExp(e)),this._formats[t]=e,this}function f3(t){var e;if(t._opts.$data&&(e=pT(),t.addMetaSchema(e,e.$id,!0)),t._opts.meta!==!1){var r=Vh();t._opts.$data&&(r=vT(r,KB)),t.addMetaSchema(r,Du,!0),t._refs["http://json-schema.org/schema"]=Du}}function m3(t){var e=t._opts.schemas;if(e)if(Array.isArray(e))t.addSchema(e);else for(var r in e)t.addSchema(e[r],r)}function h3(t){for(var e in t._opts.formats){var r=t._opts.formats[e];t.addFormat(e,r)}}function v3(t){for(var e in t._opts.keywords){var r=t._opts.keywords[e];t.addKeyword(e,r)}}function bT(t,e){if(t._schemas[e]||t._refs[e])throw new Error('schema with key or id "'+e+'" already exists')}function g3(t){for(var e=gT.copy(t._opts),r=0;r<fT.length;r++)delete e[fT[r]];return e}function y3(t){var e=t._opts.logger;if(e===!1)t.logger={log:Gh,warn:Gh,error:Gh};else{if(e===void 0&&(e=console),!(typeof e=="object"&&e.log&&e.warn&&e.error))throw new Error("logger must implement log, warn and error methods");t.logger=e}}function Gh(){}});var ET=j(Zi=>{"use strict";var x3=Zi&&Zi.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Zi,"__esModule",{value:!0});Zi.Server=void 0;var ST=_R(),Er=lc(),b3=x3(wT()),Wh=class extends ST.Protocol{constructor(e,r){var a;super(r),this._serverInfo=e,this._capabilities=(a=r?.capabilities)!==null&&a!==void 0?a:{},this._instructions=r?.instructions,this.setRequestHandler(Er.InitializeRequestSchema,s=>this._oninitialize(s)),this.setNotificationHandler(Er.InitializedNotificationSchema,()=>{var s;return(s=this.oninitialized)===null||s===void 0?void 0:s.call(this)})}registerCapabilities(e){if(this.transport)throw new Error("Cannot register capabilities after connecting to transport");this._capabilities=(0,ST.mergeCapabilities)(this._capabilities,e)}assertCapabilityForMethod(e){var r,a,s;switch(e){case"sampling/createMessage":if(!(!((r=this._clientCapabilities)===null||r===void 0)&&r.sampling))throw new Error(`Client does not support sampling (required for ${e})`);break;case"elicitation/create":if(!(!((a=this._clientCapabilities)===null||a===void 0)&&a.elicitation))throw new Error(`Client does not support elicitation (required for ${e})`);break;case"roots/list":if(!(!((s=this._clientCapabilities)===null||s===void 0)&&s.roots))throw new Error(`Client does not support listing roots (required for ${e})`);break;case"ping":break}}assertNotificationCapability(e){switch(e){case"notifications/message":if(!this._capabilities.logging)throw new Error(`Server does not support logging (required for ${e})`);break;case"notifications/resources/updated":case"notifications/resources/list_changed":if(!this._capabilities.resources)throw new Error(`Server does not support notifying about resources (required for ${e})`);break;case"notifications/tools/list_changed":if(!this._capabilities.tools)throw new Error(`Server does not support notifying of tool list changes (required for ${e})`);break;case"notifications/prompts/list_changed":if(!this._capabilities.prompts)throw new Error(`Server does not support notifying of prompt list changes (required for ${e})`);break;case"notifications/cancelled":break;case"notifications/progress":break}}assertRequestHandlerCapability(e){switch(e){case"sampling/createMessage":if(!this._capabilities.sampling)throw new Error(`Server does not support sampling (required for ${e})`);break;case"logging/setLevel":if(!this._capabilities.logging)throw new Error(`Server does not support logging (required for ${e})`);break;case"prompts/get":case"prompts/list":if(!this._capabilities.prompts)throw new Error(`Server does not support prompts (required for ${e})`);break;case"resources/list":case"resources/templates/list":case"resources/read":if(!this._capabilities.resources)throw new Error(`Server does not support resources (required for ${e})`);break;case"tools/call":case"tools/list":if(!this._capabilities.tools)throw new Error(`Server does not support tools (required for ${e})`);break;case"ping":case"initialize":break}}async _oninitialize(e){let r=e.params.protocolVersion;return this._clientCapabilities=e.params.capabilities,this._clientVersion=e.params.clientInfo,{protocolVersion:Er.SUPPORTED_PROTOCOL_VERSIONS.includes(r)?r:Er.LATEST_PROTOCOL_VERSION,capabilities:this.getCapabilities(),serverInfo:this._serverInfo,...this._instructions&&{instructions:this._instructions}}}getClientCapabilities(){return this._clientCapabilities}getClientVersion(){return this._clientVersion}getCapabilities(){return this._capabilities}async ping(){return this.request({method:"ping"},Er.EmptyResultSchema)}async createMessage(e,r){return this.request({method:"sampling/createMessage",params:e},Er.CreateMessageResultSchema,r)}async elicitInput(e,r){let a=await this.request({method:"elicitation/create",params:e},Er.ElicitResultSchema,r);if(a.action==="accept"&&a.content)try{let s=new b3.default,i=s.compile(e.requestedSchema);if(!i(a.content))throw new Er.McpError(Er.ErrorCode.InvalidParams,`Elicitation response content does not match requested schema: ${s.errorsText(i.errors)}`)}catch(s){throw s instanceof Er.McpError?s:new Er.McpError(Er.ErrorCode.InternalError,`Error validating elicitation response: ${s}`)}return a}async listRoots(e,r){return this.request({method:"roots/list",params:e},Er.ListRootsResultSchema,r)}async sendLoggingMessage(e){return this.notification({method:"notifications/message",params:e})}async sendResourceUpdated(e){return this.notification({method:"notifications/resources/updated",params:e})}async sendResourceListChanged(){return this.notification({method:"notifications/resources/list_changed"})}async sendToolListChanged(){return this.notification({method:"notifications/tools/list_changed"})}async sendPromptListChanged(){return this.notification({method:"notifications/prompts/list_changed"})}};Zi.Server=Wh});var $u=j(Br=>{"use strict";Object.defineProperty(Br,"__esModule",{value:!0});Br.getDefaultOptions=Br.defaultOptions=Br.jsonDescription=Br.ignoreOverride=void 0;Br.ignoreOverride=Symbol("Let zodToJsonSchema decide on which parser to use");var _3=(t,e)=>{if(e.description)try{return{...t,...JSON.parse(e.description)}}catch{}return t};Br.jsonDescription=_3;Br.defaultOptions={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",allowedAdditionalProperties:!0,rejectedAdditionalProperties:!1,definitionPath:"definitions",target:"jsonSchema7",strictUnions:!1,definitions:{},errorMessages:!1,markdownDescription:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref"};var w3=t=>typeof t=="string"?{...Br.defaultOptions,name:t}:{...Br.defaultOptions,...t};Br.getDefaultOptions=w3});var Kh=j(Lu=>{"use strict";Object.defineProperty(Lu,"__esModule",{value:!0});Lu.getRefs=void 0;var S3=$u(),E3=t=>{let e=(0,S3.getDefaultOptions)(t),r=e.name!==void 0?[...e.basePath,e.definitionPath,e.name]:e.basePath;return{...e,currentPath:r,propertyPath:void 0,seen:new Map(Object.entries(e.definitions).map(([a,s])=>[s._def,{def:s._def,path:[...e.basePath,e.definitionPath,a],jsonSchema:void 0}]))}};Lu.getRefs=E3});var Ps=j(Vi=>{"use strict";Object.defineProperty(Vi,"__esModule",{value:!0});Vi.setResponseValueAndErrors=Vi.addErrorMessage=void 0;function PT(t,e,r,a){a?.errorMessages&&r&&(t.errorMessage={...t.errorMessage,[e]:r})}Vi.addErrorMessage=PT;function P3(t,e,r,a,s){t[e]=r,PT(t,e,a,s)}Vi.setResponseValueAndErrors=P3});var Jh=j(Fu=>{"use strict";Object.defineProperty(Fu,"__esModule",{value:!0});Fu.parseAnyDef=void 0;function R3(){return{}}Fu.parseAnyDef=R3});var Qh=j(Mu=>{"use strict";Object.defineProperty(Mu,"__esModule",{value:!0});Mu.parseArrayDef=void 0;var C3=Va(),qu=Ps(),T3=At();function O3(t,e){let r={type:"array"};return t.type?._def&&t.type?._def?.typeName!==C3.ZodFirstPartyTypeKind.ZodAny&&(r.items=(0,T3.parseDef)(t.type._def,{...e,currentPath:[...e.currentPath,"items"]})),t.minLength&&(0,qu.setResponseValueAndErrors)(r,"minItems",t.minLength.value,t.minLength.message,e),t.maxLength&&(0,qu.setResponseValueAndErrors)(r,"maxItems",t.maxLength.value,t.maxLength.message,e),t.exactLength&&((0,qu.setResponseValueAndErrors)(r,"minItems",t.exactLength.value,t.exactLength.message,e),(0,qu.setResponseValueAndErrors)(r,"maxItems",t.exactLength.value,t.exactLength.message,e)),r}Mu.parseArrayDef=O3});var Yh=j(Uu=>{"use strict";Object.defineProperty(Uu,"__esModule",{value:!0});Uu.parseBigintDef=void 0;var Nn=Ps();function I3(t,e){let r={type:"integer",format:"int64"};if(!t.checks)return r;for(let a of t.checks)switch(a.kind){case"min":e.target==="jsonSchema7"?a.inclusive?(0,Nn.setResponseValueAndErrors)(r,"minimum",a.value,a.message,e):(0,Nn.setResponseValueAndErrors)(r,"exclusiveMinimum",a.value,a.message,e):(a.inclusive||(r.exclusiveMinimum=!0),(0,Nn.setResponseValueAndErrors)(r,"minimum",a.value,a.message,e));break;case"max":e.target==="jsonSchema7"?a.inclusive?(0,Nn.setResponseValueAndErrors)(r,"maximum",a.value,a.message,e):(0,Nn.setResponseValueAndErrors)(r,"exclusiveMaximum",a.value,a.message,e):(a.inclusive||(r.exclusiveMaximum=!0),(0,Nn.setResponseValueAndErrors)(r,"maximum",a.value,a.message,e));break;case"multipleOf":(0,Nn.setResponseValueAndErrors)(r,"multipleOf",a.value,a.message,e);break}return r}Uu.parseBigintDef=I3});var Xh=j(zu=>{"use strict";Object.defineProperty(zu,"__esModule",{value:!0});zu.parseBooleanDef=void 0;function A3(){return{type:"boolean"}}zu.parseBooleanDef=A3});var Zu=j(Bu=>{"use strict";Object.defineProperty(Bu,"__esModule",{value:!0});Bu.parseBrandedDef=void 0;var k3=At();function j3(t,e){return(0,k3.parseDef)(t.type._def,e)}Bu.parseBrandedDef=j3});var ev=j(Vu=>{"use strict";Object.defineProperty(Vu,"__esModule",{value:!0});Vu.parseCatchDef=void 0;var D3=At(),N3=(t,e)=>(0,D3.parseDef)(t.innerType._def,e);Vu.parseCatchDef=N3});var tv=j(Hu=>{"use strict";Object.defineProperty(Hu,"__esModule",{value:!0});Hu.parseDateDef=void 0;var RT=Ps();function CT(t,e,r){let a=r??e.dateStrategy;if(Array.isArray(a))return{anyOf:a.map((s,i)=>CT(t,e,s))};switch(a){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return $3(t,e)}}Hu.parseDateDef=CT;var $3=(t,e)=>{let r={type:"integer",format:"unix-time"};if(e.target==="openApi3")return r;for(let a of t.checks)switch(a.kind){case"min":(0,RT.setResponseValueAndErrors)(r,"minimum",a.value,a.message,e);break;case"max":(0,RT.setResponseValueAndErrors)(r,"maximum",a.value,a.message,e);break}return r}});var rv=j(Gu=>{"use strict";Object.defineProperty(Gu,"__esModule",{value:!0});Gu.parseDefaultDef=void 0;var L3=At();function F3(t,e){return{...(0,L3.parseDef)(t.innerType._def,e),default:t.defaultValue()}}Gu.parseDefaultDef=F3});var av=j(Wu=>{"use strict";Object.defineProperty(Wu,"__esModule",{value:!0});Wu.parseEffectsDef=void 0;var q3=At();function M3(t,e){return e.effectStrategy==="input"?(0,q3.parseDef)(t.schema._def,e):{}}Wu.parseEffectsDef=M3});var sv=j(Ku=>{"use strict";Object.defineProperty(Ku,"__esModule",{value:!0});Ku.parseEnumDef=void 0;function U3(t){return{type:"string",enum:Array.from(t.values)}}Ku.parseEnumDef=U3});var nv=j(Ju=>{"use strict";Object.defineProperty(Ju,"__esModule",{value:!0});Ju.parseIntersectionDef=void 0;var TT=At(),z3=t=>"type"in t&&t.type==="string"?!1:"allOf"in t;function B3(t,e){let r=[(0,TT.parseDef)(t.left._def,{...e,currentPath:[...e.currentPath,"allOf","0"]}),(0,TT.parseDef)(t.right._def,{...e,currentPath:[...e.currentPath,"allOf","1"]})].filter(i=>!!i),a=e.target==="jsonSchema2019-09"?{unevaluatedProperties:!1}:void 0,s=[];return r.forEach(i=>{if(z3(i))s.push(...i.allOf),i.unevaluatedProperties===void 0&&(a=void 0);else{let n=i;if("additionalProperties"in i&&i.additionalProperties===!1){let{additionalProperties:o,...l}=i;n=l}else a=void 0;s.push(n)}}),s.length?{allOf:s,...a}:void 0}Ju.parseIntersectionDef=B3});var iv=j(Qu=>{"use strict";Object.defineProperty(Qu,"__esModule",{value:!0});Qu.parseLiteralDef=void 0;function Z3(t,e){let r=typeof t.value;return r!=="bigint"&&r!=="number"&&r!=="boolean"&&r!=="string"?{type:Array.isArray(t.value)?"array":"object"}:e.target==="openApi3"?{type:r==="bigint"?"integer":r,enum:[t.value]}:{type:r==="bigint"?"integer":r,const:t.value}}Qu.parseLiteralDef=Z3});var Yu=j(Mt=>{"use strict";Object.defineProperty(Mt,"__esModule",{value:!0});Mt.parseStringDef=Mt.zodPatterns=void 0;var $n=Ps(),ov;Mt.zodPatterns={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:()=>(ov===void 0&&(ov=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),ov),uuid:/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/,ipv4:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv4Cidr:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ipv6:/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,ipv6Cidr:/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,base64url:/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/,jwt:/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/};function V3(t,e){let r={type:"string"};if(t.checks)for(let a of t.checks)switch(a.kind){case"min":(0,$n.setResponseValueAndErrors)(r,"minLength",typeof r.minLength=="number"?Math.max(r.minLength,a.value):a.value,a.message,e);break;case"max":(0,$n.setResponseValueAndErrors)(r,"maxLength",typeof r.maxLength=="number"?Math.min(r.maxLength,a.value):a.value,a.message,e);break;case"email":switch(e.emailStrategy){case"format:email":ia(r,"email",a.message,e);break;case"format:idn-email":ia(r,"idn-email",a.message,e);break;case"pattern:zod":Kt(r,Mt.zodPatterns.email,a.message,e);break}break;case"url":ia(r,"uri",a.message,e);break;case"uuid":ia(r,"uuid",a.message,e);break;case"regex":Kt(r,a.regex,a.message,e);break;case"cuid":Kt(r,Mt.zodPatterns.cuid,a.message,e);break;case"cuid2":Kt(r,Mt.zodPatterns.cuid2,a.message,e);break;case"startsWith":Kt(r,RegExp(`^${cv(a.value,e)}`),a.message,e);break;case"endsWith":Kt(r,RegExp(`${cv(a.value,e)}$`),a.message,e);break;case"datetime":ia(r,"date-time",a.message,e);break;case"date":ia(r,"date",a.message,e);break;case"time":ia(r,"time",a.message,e);break;case"duration":ia(r,"duration",a.message,e);break;case"length":(0,$n.setResponseValueAndErrors)(r,"minLength",typeof r.minLength=="number"?Math.max(r.minLength,a.value):a.value,a.message,e),(0,$n.setResponseValueAndErrors)(r,"maxLength",typeof r.maxLength=="number"?Math.min(r.maxLength,a.value):a.value,a.message,e);break;case"includes":{Kt(r,RegExp(cv(a.value,e)),a.message,e);break}case"ip":{a.version!=="v6"&&ia(r,"ipv4",a.message,e),a.version!=="v4"&&ia(r,"ipv6",a.message,e);break}case"base64url":Kt(r,Mt.zodPatterns.base64url,a.message,e);break;case"jwt":Kt(r,Mt.zodPatterns.jwt,a.message,e);break;case"cidr":{a.version!=="v6"&&Kt(r,Mt.zodPatterns.ipv4Cidr,a.message,e),a.version!=="v4"&&Kt(r,Mt.zodPatterns.ipv6Cidr,a.message,e);break}case"emoji":Kt(r,Mt.zodPatterns.emoji(),a.message,e);break;case"ulid":{Kt(r,Mt.zodPatterns.ulid,a.message,e);break}case"base64":{switch(e.base64Strategy){case"format:binary":{ia(r,"binary",a.message,e);break}case"contentEncoding:base64":{(0,$n.setResponseValueAndErrors)(r,"contentEncoding","base64",a.message,e);break}case"pattern:zod":{Kt(r,Mt.zodPatterns.base64,a.message,e);break}}break}case"nanoid":Kt(r,Mt.zodPatterns.nanoid,a.message,e);case"toLowerCase":case"toUpperCase":case"trim":break;default:}return r}Mt.parseStringDef=V3;function cv(t,e){return e.patternStrategy==="escape"?G3(t):t}var H3=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function G3(t){let e="";for(let r=0;r<t.length;r++)H3.has(t[r])||(e+="\\"),e+=t[r];return e}function ia(t,e,r,a){t.format||t.anyOf?.some(s=>s.format)?(t.anyOf||(t.anyOf=[]),t.format&&(t.anyOf.push({format:t.format,...t.errorMessage&&a.errorMessages&&{errorMessage:{format:t.errorMessage.format}}}),delete t.format,t.errorMessage&&(delete t.errorMessage.format,Object.keys(t.errorMessage).length===0&&delete t.errorMessage)),t.anyOf.push({format:e,...r&&a.errorMessages&&{errorMessage:{format:r}}})):(0,$n.setResponseValueAndErrors)(t,"format",e,r,a)}function Kt(t,e,r,a){t.pattern||t.allOf?.some(s=>s.pattern)?(t.allOf||(t.allOf=[]),t.pattern&&(t.allOf.push({pattern:t.pattern,...t.errorMessage&&a.errorMessages&&{errorMessage:{pattern:t.errorMessage.pattern}}}),delete t.pattern,t.errorMessage&&(delete t.errorMessage.pattern,Object.keys(t.errorMessage).length===0&&delete t.errorMessage)),t.allOf.push({pattern:OT(e,a),...r&&a.errorMessages&&{errorMessage:{pattern:r}}})):(0,$n.setResponseValueAndErrors)(t,"pattern",OT(e,a),r,a)}function OT(t,e){if(!e.applyRegexFlags||!t.flags)return t.source;let r={i:t.flags.includes("i"),m:t.flags.includes("m"),s:t.flags.includes("s")},a=r.i?t.source.toLowerCase():t.source,s="",i=!1,n=!1,o=!1;for(let l=0;l<a.length;l++){if(i){s+=a[l],i=!1;continue}if(r.i){if(n){if(a[l].match(/[a-z]/)){o?(s+=a[l],s+=`${a[l-2]}-${a[l]}`.toUpperCase(),o=!1):a[l+1]==="-"&&a[l+2]?.match(/[a-z]/)?(s+=a[l],o=!0):s+=`${a[l]}${a[l].toUpperCase()}`;continue}}else if(a[l].match(/[a-z]/)){s+=`[${a[l]}${a[l].toUpperCase()}]`;continue}}if(r.m){if(a[l]==="^"){s+=`(^|(?<=[\r
]))`;continue}else if(a[l]==="$"){s+=`($|(?=[\r
]))`;continue}}if(r.s&&a[l]==="."){s+=n?`${a[l]}\r
`:`[${a[l]}\r
]`;continue}s+=a[l],a[l]==="\\"?i=!0:n&&a[l]==="]"?n=!1:!n&&a[l]==="["&&(n=!0)}try{new RegExp(s)}catch{return console.warn(`Could not convert regex pattern at ${e.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),t.source}return s}});var ed=j(Xu=>{"use strict";Object.defineProperty(Xu,"__esModule",{value:!0});Xu.parseRecordDef=void 0;var dc=Va(),IT=At(),W3=Yu(),K3=Zu();function J3(t,e){if(e.target==="openAi"&&console.warn("Warning: OpenAI may not support records in schemas! Try an array of key-value pairs instead."),e.target==="openApi3"&&t.keyType?._def.typeName===dc.ZodFirstPartyTypeKind.ZodEnum)return{type:"object",required:t.keyType._def.values,properties:t.keyType._def.values.reduce((a,s)=>({...a,[s]:(0,IT.parseDef)(t.valueType._def,{...e,currentPath:[...e.currentPath,"properties",s]})??{}}),{}),additionalProperties:e.rejectedAdditionalProperties};let r={type:"object",additionalProperties:(0,IT.parseDef)(t.valueType._def,{...e,currentPath:[...e.currentPath,"additionalProperties"]})??e.allowedAdditionalProperties};if(e.target==="openApi3")return r;if(t.keyType?._def.typeName===dc.ZodFirstPartyTypeKind.ZodString&&t.keyType._def.checks?.length){let{type:a,...s}=(0,W3.parseStringDef)(t.keyType._def,e);return{...r,propertyNames:s}}else{if(t.keyType?._def.typeName===dc.ZodFirstPartyTypeKind.ZodEnum)return{...r,propertyNames:{enum:t.keyType._def.values}};if(t.keyType?._def.typeName===dc.ZodFirstPartyTypeKind.ZodBranded&&t.keyType._def.type._def.typeName===dc.ZodFirstPartyTypeKind.ZodString&&t.keyType._def.type._def.checks?.length){let{type:a,...s}=(0,K3.parseBrandedDef)(t.keyType._def,e);return{...r,propertyNames:s}}}return r}Xu.parseRecordDef=J3});var lv=j(td=>{"use strict";Object.defineProperty(td,"__esModule",{value:!0});td.parseMapDef=void 0;var AT=At(),Q3=ed();function Y3(t,e){if(e.mapStrategy==="record")return(0,Q3.parseRecordDef)(t,e);let r=(0,AT.parseDef)(t.keyType._def,{...e,currentPath:[...e.currentPath,"items","items","0"]})||{},a=(0,AT.parseDef)(t.valueType._def,{...e,currentPath:[...e.currentPath,"items","items","1"]})||{};return{type:"array",maxItems:125,items:{type:"array",items:[r,a],minItems:2,maxItems:2}}}td.parseMapDef=Y3});var uv=j(rd=>{"use strict";Object.defineProperty(rd,"__esModule",{value:!0});rd.parseNativeEnumDef=void 0;function X3(t){let e=t.values,a=Object.keys(t.values).filter(i=>typeof e[e[i]]!="number").map(i=>e[i]),s=Array.from(new Set(a.map(i=>typeof i)));return{type:s.length===1?s[0]==="string"?"string":"number":["string","number"],enum:a}}rd.parseNativeEnumDef=X3});var dv=j(ad=>{"use strict";Object.defineProperty(ad,"__esModule",{value:!0});ad.parseNeverDef=void 0;function eZ(){return{not:{}}}ad.parseNeverDef=eZ});var pv=j(sd=>{"use strict";Object.defineProperty(sd,"__esModule",{value:!0});sd.parseNullDef=void 0;function tZ(t){return t.target==="openApi3"?{enum:["null"],nullable:!0}:{type:"null"}}sd.parseNullDef=tZ});var nd=j(Rs=>{"use strict";Object.defineProperty(Rs,"__esModule",{value:!0});Rs.parseUnionDef=Rs.primitiveMappings=void 0;var rZ=At();Rs.primitiveMappings={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function aZ(t,e){if(e.target==="openApi3")return kT(t,e);let r=t.options instanceof Map?Array.from(t.options.values()):t.options;if(r.every(a=>a._def.typeName in Rs.primitiveMappings&&(!a._def.checks||!a._def.checks.length))){let a=r.reduce((s,i)=>{let n=Rs.primitiveMappings[i._def.typeName];return n&&!s.includes(n)?[...s,n]:s},[]);return{type:a.length>1?a:a[0]}}else if(r.every(a=>a._def.typeName==="ZodLiteral"&&!a.description)){let a=r.reduce((s,i)=>{let n=typeof i._def.value;switch(n){case"string":case"number":case"boolean":return[...s,n];case"bigint":return[...s,"integer"];case"object":if(i._def.value===null)return[...s,"null"];case"symbol":case"undefined":case"function":default:return s}},[]);if(a.length===r.length){let s=a.filter((i,n,o)=>o.indexOf(i)===n);return{type:s.length>1?s:s[0],enum:r.reduce((i,n)=>i.includes(n._def.value)?i:[...i,n._def.value],[])}}}else if(r.every(a=>a._def.typeName==="ZodEnum"))return{type:"string",enum:r.reduce((a,s)=>[...a,...s._def.values.filter(i=>!a.includes(i))],[])};return kT(t,e)}Rs.parseUnionDef=aZ;var kT=(t,e)=>{let r=(t.options instanceof Map?Array.from(t.options.values()):t.options).map((a,s)=>(0,rZ.parseDef)(a._def,{...e,currentPath:[...e.currentPath,"anyOf",`${s}`]})).filter(a=>!!a&&(!e.strictUnions||typeof a=="object"&&Object.keys(a).length>0));return r.length?{anyOf:r}:void 0}});var fv=j(id=>{"use strict";Object.defineProperty(id,"__esModule",{value:!0});id.parseNullableDef=void 0;var jT=At(),DT=nd();function sZ(t,e){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(t.innerType._def.typeName)&&(!t.innerType._def.checks||!t.innerType._def.checks.length))return e.target==="openApi3"?{type:DT.primitiveMappings[t.innerType._def.typeName],nullable:!0}:{type:[DT.primitiveMappings[t.innerType._def.typeName],"null"]};if(e.target==="openApi3"){let a=(0,jT.parseDef)(t.innerType._def,{...e,currentPath:[...e.currentPath]});return a&&"$ref"in a?{allOf:[a],nullable:!0}:a&&{...a,nullable:!0}}let r=(0,jT.parseDef)(t.innerType._def,{...e,currentPath:[...e.currentPath,"anyOf","0"]});return r&&{anyOf:[r,{type:"null"}]}}id.parseNullableDef=sZ});var mv=j(od=>{"use strict";Object.defineProperty(od,"__esModule",{value:!0});od.parseNumberDef=void 0;var Cs=Ps();function nZ(t,e){let r={type:"number"};if(!t.checks)return r;for(let a of t.checks)switch(a.kind){case"int":r.type="integer",(0,Cs.addErrorMessage)(r,"type",a.message,e);break;case"min":e.target==="jsonSchema7"?a.inclusive?(0,Cs.setResponseValueAndErrors)(r,"minimum",a.value,a.message,e):(0,Cs.setResponseValueAndErrors)(r,"exclusiveMinimum",a.value,a.message,e):(a.inclusive||(r.exclusiveMinimum=!0),(0,Cs.setResponseValueAndErrors)(r,"minimum",a.value,a.message,e));break;case"max":e.target==="jsonSchema7"?a.inclusive?(0,Cs.setResponseValueAndErrors)(r,"maximum",a.value,a.message,e):(0,Cs.setResponseValueAndErrors)(r,"exclusiveMaximum",a.value,a.message,e):(a.inclusive||(r.exclusiveMaximum=!0),(0,Cs.setResponseValueAndErrors)(r,"maximum",a.value,a.message,e));break;case"multipleOf":(0,Cs.setResponseValueAndErrors)(r,"multipleOf",a.value,a.message,e);break}return r}od.parseNumberDef=nZ});var hv=j(cd=>{"use strict";Object.defineProperty(cd,"__esModule",{value:!0});cd.parseObjectDef=void 0;var iZ=Va(),NT=At();function oZ(t,e){let r=e.target==="openAi",a={type:"object",properties:{}},s=[],i=t.shape();for(let o in i){let l=i[o];if(l===void 0||l._def===void 0)continue;let c=lZ(l);c&&r&&(l instanceof iZ.ZodOptional&&(l=l._def.innerType),l.isNullable()||(l=l.nullable()),c=!1);let u=(0,NT.parseDef)(l._def,{...e,currentPath:[...e.currentPath,"properties",o],propertyPath:[...e.currentPath,"properties",o]});u!==void 0&&(a.properties[o]=u,c||s.push(o))}s.length&&(a.required=s);let n=cZ(t,e);return n!==void 0&&(a.additionalProperties=n),a}cd.parseObjectDef=oZ;function cZ(t,e){if(t.catchall._def.typeName!=="ZodNever")return(0,NT.parseDef)(t.catchall._def,{...e,currentPath:[...e.currentPath,"additionalProperties"]});switch(t.unknownKeys){case"passthrough":return e.allowedAdditionalProperties;case"strict":return e.rejectedAdditionalProperties;case"strip":return e.removeAdditionalStrategy==="strict"?e.allowedAdditionalProperties:e.rejectedAdditionalProperties}}function lZ(t){try{return t.isOptional()}catch{return!0}}});var vv=j(ld=>{"use strict";Object.defineProperty(ld,"__esModule",{value:!0});ld.parseOptionalDef=void 0;var $T=At(),uZ=(t,e)=>{if(e.currentPath.toString()===e.propertyPath?.toString())return(0,$T.parseDef)(t.innerType._def,e);let r=(0,$T.parseDef)(t.innerType._def,{...e,currentPath:[...e.currentPath,"anyOf","1"]});return r?{anyOf:[{not:{}},r]}:{}};ld.parseOptionalDef=uZ});var gv=j(dd=>{"use strict";Object.defineProperty(dd,"__esModule",{value:!0});dd.parsePipelineDef=void 0;var ud=At(),dZ=(t,e)=>{if(e.pipeStrategy==="input")return(0,ud.parseDef)(t.in._def,e);if(e.pipeStrategy==="output")return(0,ud.parseDef)(t.out._def,e);let r=(0,ud.parseDef)(t.in._def,{...e,currentPath:[...e.currentPath,"allOf","0"]}),a=(0,ud.parseDef)(t.out._def,{...e,currentPath:[...e.currentPath,"allOf",r?"1":"0"]});return{allOf:[r,a].filter(s=>s!==void 0)}};dd.parsePipelineDef=dZ});var yv=j(pd=>{"use strict";Object.defineProperty(pd,"__esModule",{value:!0});pd.parsePromiseDef=void 0;var pZ=At();function fZ(t,e){return(0,pZ.parseDef)(t.type._def,e)}pd.parsePromiseDef=fZ});var xv=j(fd=>{"use strict";Object.defineProperty(fd,"__esModule",{value:!0});fd.parseSetDef=void 0;var LT=Ps(),mZ=At();function hZ(t,e){let a={type:"array",uniqueItems:!0,items:(0,mZ.parseDef)(t.valueType._def,{...e,currentPath:[...e.currentPath,"items"]})};return t.minSize&&(0,LT.setResponseValueAndErrors)(a,"minItems",t.minSize.value,t.minSize.message,e),t.maxSize&&(0,LT.setResponseValueAndErrors)(a,"maxItems",t.maxSize.value,t.maxSize.message,e),a}fd.parseSetDef=hZ});var _v=j(md=>{"use strict";Object.defineProperty(md,"__esModule",{value:!0});md.parseTupleDef=void 0;var bv=At();function vZ(t,e){return t.rest?{type:"array",minItems:t.items.length,items:t.items.map((r,a)=>(0,bv.parseDef)(r._def,{...e,currentPath:[...e.currentPath,"items",`${a}`]})).reduce((r,a)=>a===void 0?r:[...r,a],[]),additionalItems:(0,bv.parseDef)(t.rest._def,{...e,currentPath:[...e.currentPath,"additionalItems"]})}:{type:"array",minItems:t.items.length,maxItems:t.items.length,items:t.items.map((r,a)=>(0,bv.parseDef)(r._def,{...e,currentPath:[...e.currentPath,"items",`${a}`]})).reduce((r,a)=>a===void 0?r:[...r,a],[])}}md.parseTupleDef=vZ});var wv=j(hd=>{"use strict";Object.defineProperty(hd,"__esModule",{value:!0});hd.parseUndefinedDef=void 0;function gZ(){return{not:{}}}hd.parseUndefinedDef=gZ});var Sv=j(vd=>{"use strict";Object.defineProperty(vd,"__esModule",{value:!0});vd.parseUnknownDef=void 0;function yZ(){return{}}vd.parseUnknownDef=yZ});var Ev=j(gd=>{"use strict";Object.defineProperty(gd,"__esModule",{value:!0});gd.parseReadonlyDef=void 0;var xZ=At(),bZ=(t,e)=>(0,xZ.parseDef)(t.innerType._def,e);gd.parseReadonlyDef=bZ});var Pv=j(yd=>{"use strict";Object.defineProperty(yd,"__esModule",{value:!0});yd.selectParser=void 0;var tt=Va(),_Z=Jh(),wZ=Qh(),SZ=Yh(),EZ=Xh(),PZ=Zu(),RZ=ev(),CZ=tv(),TZ=rv(),OZ=av(),IZ=sv(),AZ=nv(),kZ=iv(),jZ=lv(),DZ=uv(),NZ=dv(),$Z=pv(),LZ=fv(),FZ=mv(),qZ=hv(),MZ=vv(),UZ=gv(),zZ=yv(),BZ=ed(),ZZ=xv(),VZ=Yu(),HZ=_v(),GZ=wv(),WZ=nd(),KZ=Sv(),JZ=Ev(),QZ=(t,e,r)=>{switch(e){case tt.ZodFirstPartyTypeKind.ZodString:return(0,VZ.parseStringDef)(t,r);case tt.ZodFirstPartyTypeKind.ZodNumber:return(0,FZ.parseNumberDef)(t,r);case tt.ZodFirstPartyTypeKind.ZodObject:return(0,qZ.parseObjectDef)(t,r);case tt.ZodFirstPartyTypeKind.ZodBigInt:return(0,SZ.parseBigintDef)(t,r);case tt.ZodFirstPartyTypeKind.ZodBoolean:return(0,EZ.parseBooleanDef)();case tt.ZodFirstPartyTypeKind.ZodDate:return(0,CZ.parseDateDef)(t,r);case tt.ZodFirstPartyTypeKind.ZodUndefined:return(0,GZ.parseUndefinedDef)();case tt.ZodFirstPartyTypeKind.ZodNull:return(0,$Z.parseNullDef)(r);case tt.ZodFirstPartyTypeKind.ZodArray:return(0,wZ.parseArrayDef)(t,r);case tt.ZodFirstPartyTypeKind.ZodUnion:case tt.ZodFirstPartyTypeKind.ZodDiscriminatedUnion:return(0,WZ.parseUnionDef)(t,r);case tt.ZodFirstPartyTypeKind.ZodIntersection:return(0,AZ.parseIntersectionDef)(t,r);case tt.ZodFirstPartyTypeKind.ZodTuple:return(0,HZ.parseTupleDef)(t,r);case tt.ZodFirstPartyTypeKind.ZodRecord:return(0,BZ.parseRecordDef)(t,r);case tt.ZodFirstPartyTypeKind.ZodLiteral:return(0,kZ.parseLiteralDef)(t,r);case tt.ZodFirstPartyTypeKind.ZodEnum:return(0,IZ.parseEnumDef)(t);case tt.ZodFirstPartyTypeKind.ZodNativeEnum:return(0,DZ.parseNativeEnumDef)(t);case tt.ZodFirstPartyTypeKind.ZodNullable:return(0,LZ.parseNullableDef)(t,r);case tt.ZodFirstPartyTypeKind.ZodOptional:return(0,MZ.parseOptionalDef)(t,r);case tt.ZodFirstPartyTypeKind.ZodMap:return(0,jZ.parseMapDef)(t,r);case tt.ZodFirstPartyTypeKind.ZodSet:return(0,ZZ.parseSetDef)(t,r);case tt.ZodFirstPartyTypeKind.ZodLazy:return()=>t.getter()._def;case tt.ZodFirstPartyTypeKind.ZodPromise:return(0,zZ.parsePromiseDef)(t,r);case tt.ZodFirstPartyTypeKind.ZodNaN:case tt.ZodFirstPartyTypeKind.ZodNever:return(0,NZ.parseNeverDef)();case tt.ZodFirstPartyTypeKind.ZodEffects:return(0,OZ.parseEffectsDef)(t,r);case tt.ZodFirstPartyTypeKind.ZodAny:return(0,_Z.parseAnyDef)();case tt.ZodFirstPartyTypeKind.ZodUnknown:return(0,KZ.parseUnknownDef)();case tt.ZodFirstPartyTypeKind.ZodDefault:return(0,TZ.parseDefaultDef)(t,r);case tt.ZodFirstPartyTypeKind.ZodBranded:return(0,PZ.parseBrandedDef)(t,r);case tt.ZodFirstPartyTypeKind.ZodReadonly:return(0,JZ.parseReadonlyDef)(t,r);case tt.ZodFirstPartyTypeKind.ZodCatch:return(0,RZ.parseCatchDef)(t,r);case tt.ZodFirstPartyTypeKind.ZodPipeline:return(0,UZ.parsePipelineDef)(t,r);case tt.ZodFirstPartyTypeKind.ZodFunction:case tt.ZodFirstPartyTypeKind.ZodVoid:case tt.ZodFirstPartyTypeKind.ZodSymbol:return;default:return(a=>{})(e)}};yd.selectParser=QZ});var At=j(xd=>{"use strict";Object.defineProperty(xd,"__esModule",{value:!0});xd.parseDef=void 0;var YZ=$u(),XZ=Pv();function FT(t,e,r=!1){let a=e.seen.get(t);if(e.override){let o=e.override?.(t,e,a,r);if(o!==YZ.ignoreOverride)return o}if(a&&!r){let o=eV(a,e);if(o!==void 0)return o}let s={def:t,path:e.currentPath,jsonSchema:void 0};e.seen.set(t,s);let i=(0,XZ.selectParser)(t,t.typeName,e),n=typeof i=="function"?FT(i(),e):i;if(n&&rV(t,e,n),e.postProcess){let o=e.postProcess(n,t,e);return s.jsonSchema=n,o}return s.jsonSchema=n,n}xd.parseDef=FT;var eV=(t,e)=>{switch(e.$refStrategy){case"root":return{$ref:t.path.join("/")};case"relative":return{$ref:tV(e.currentPath,t.path)};case"none":case"seen":return t.path.length<e.currentPath.length&&t.path.every((r,a)=>e.currentPath[a]===r)?(console.warn(`Recursive reference detected at ${e.currentPath.join("/")}! Defaulting to any`),{}):e.$refStrategy==="seen"?{}:void 0}},tV=(t,e)=>{let r=0;for(;r<t.length&&r<e.length&&t[r]===e[r];r++);return[(t.length-r).toString(),...e.slice(r)].join("/")},rV=(t,e,r)=>(t.description&&(r.description=t.description,e.markdownDescription&&(r.markdownDescription=t.description)),r)});var MT=j(qT=>{"use strict";Object.defineProperty(qT,"__esModule",{value:!0})});var Rv=j(bd=>{"use strict";Object.defineProperty(bd,"__esModule",{value:!0});bd.zodToJsonSchema=void 0;var UT=At(),aV=Kh(),sV=(t,e)=>{let r=(0,aV.getRefs)(e),a=typeof e=="object"&&e.definitions?Object.entries(e.definitions).reduce((l,[c,u])=>({...l,[c]:(0,UT.parseDef)(u._def,{...r,currentPath:[...r.basePath,r.definitionPath,c]},!0)??{}}),{}):void 0,s=typeof e=="string"?e:e?.nameStrategy==="title"?void 0:e?.name,i=(0,UT.parseDef)(t._def,s===void 0?r:{...r,currentPath:[...r.basePath,r.definitionPath,s]},!1)??{},n=typeof e=="object"&&e.name!==void 0&&e.nameStrategy==="title"?e.name:void 0;n!==void 0&&(i.title=n);let o=s===void 0?a?{...i,[r.definitionPath]:a}:i:{$ref:[...r.$refStrategy==="relative"?[]:r.basePath,r.definitionPath,s].join("/"),[r.definitionPath]:{...a,[s]:i}};return r.target==="jsonSchema7"?o.$schema="http://json-schema.org/draft-07/schema#":(r.target==="jsonSchema2019-09"||r.target==="openAi")&&(o.$schema="https://json-schema.org/draft/2019-09/schema#"),r.target==="openAi"&&("anyOf"in o||"oneOf"in o||"allOf"in o||"type"in o&&Array.isArray(o.type))&&console.warn("Warning: OpenAI may not support schemas with unions as roots! Try wrapping it in an object property."),o};bd.zodToJsonSchema=sV});var zT=j(qe=>{"use strict";var nV=qe&&qe.__createBinding||(Object.create?function(t,e,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(e,r);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,a,s)}:function(t,e,r,a){a===void 0&&(a=r),t[a]=e[r]}),et=qe&&qe.__exportStar||function(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&nV(e,t,r)};Object.defineProperty(qe,"__esModule",{value:!0});et($u(),qe);et(Kh(),qe);et(Ps(),qe);et(At(),qe);et(MT(),qe);et(Jh(),qe);et(Qh(),qe);et(Yh(),qe);et(Xh(),qe);et(Zu(),qe);et(ev(),qe);et(tv(),qe);et(rv(),qe);et(av(),qe);et(sv(),qe);et(nv(),qe);et(iv(),qe);et(lv(),qe);et(uv(),qe);et(dv(),qe);et(pv(),qe);et(fv(),qe);et(mv(),qe);et(hv(),qe);et(vv(),qe);et(gv(),qe);et(yv(),qe);et(Ev(),qe);et(ed(),qe);et(xv(),qe);et(Yu(),qe);et(_v(),qe);et(wv(),qe);et(nd(),qe);et(Sv(),qe);et(Pv(),qe);et(Rv(),qe);var iV=Rv();qe.default=iV.zodToJsonSchema});var BT=j(Ln=>{"use strict";Object.defineProperty(Ln,"__esModule",{value:!0});Ln.Completable=Ln.McpZodTypeKind=void 0;Ln.completable=cV;var oV=Va(),Cv;(function(t){t.Completable="McpCompletable"})(Cv||(Ln.McpZodTypeKind=Cv={}));var Hi=class extends oV.ZodType{_parse(e){let{ctx:r}=this._processInputParams(e),a=r.data;return this._def.type._parse({data:a,path:r.path,parent:r})}unwrap(){return this._def.type}};Ln.Completable=Hi;Hi.create=(t,e)=>new Hi({type:t,typeName:Cv.Completable,complete:e.complete,...lV(e)});function cV(t,e){return Hi.create(t,{...t._def,complete:e})}function lV(t){if(!t)return{};let{errorMap:e,invalid_type_error:r,required_error:a,description:s}=t;if(e&&(r||a))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(n,o)=>{var l,c;let{message:u}=t;return n.code==="invalid_enum_value"?{message:u??o.defaultError}:typeof o.data>"u"?{message:(l=u??a)!==null&&l!==void 0?l:o.defaultError}:n.code!=="invalid_type"?{message:o.defaultError}:{message:(c=u??r)!==null&&c!==void 0?c:o.defaultError}},description:s}}});var HT=j(_d=>{"use strict";Object.defineProperty(_d,"__esModule",{value:!0});_d.UriTemplate=void 0;var ZT=1e6,Tv=1e6,VT=1e4,uV=1e6,Ov=class t{static isTemplate(e){return/\{[^}\s]+\}/.test(e)}static validateLength(e,r,a){if(e.length>r)throw new Error(`${a} exceeds maximum length of ${r} characters (got ${e.length})`)}get variableNames(){return this.parts.flatMap(e=>typeof e=="string"?[]:e.names)}constructor(e){t.validateLength(e,ZT,"Template"),this.template=e,this.parts=this.parse(e)}toString(){return this.template}parse(e){let r=[],a="",s=0,i=0;for(;s<e.length;)if(e[s]==="{"){a&&(r.push(a),a="");let n=e.indexOf("}",s);if(n===-1)throw new Error("Unclosed template expression");if(i++,i>VT)throw new Error(`Template contains too many expressions (max ${VT})`);let o=e.slice(s+1,n),l=this.getOperator(o),c=o.includes("*"),u=this.getNames(o),d=u[0];for(let h of u)t.validateLength(h,Tv,"Variable name");r.push({name:d,operator:l,names:u,exploded:c}),s=n+1}else a+=e[s],s++;return a&&r.push(a),r}getOperator(e){return["+","#",".","/","?","&"].find(a=>e.startsWith(a))||""}getNames(e){let r=this.getOperator(e);return e.slice(r.length).split(",").map(a=>a.replace("*","").trim()).filter(a=>a.length>0)}encodeValue(e,r){return t.validateLength(e,Tv,"Variable value"),r==="+"||r==="#"?encodeURI(e):encodeURIComponent(e)}expandPart(e,r){if(e.operator==="?"||e.operator==="&"){let n=e.names.map(l=>{let c=r[l];if(c===void 0)return"";let u=Array.isArray(c)?c.map(d=>this.encodeValue(d,e.operator)).join(","):this.encodeValue(c.toString(),e.operator);return`${l}=${u}`}).filter(l=>l.length>0);return n.length===0?"":(e.operator==="?"?"?":"&")+n.join("&")}if(e.names.length>1){let n=e.names.map(o=>r[o]).filter(o=>o!==void 0);return n.length===0?"":n.map(o=>Array.isArray(o)?o[0]:o).join(",")}let a=r[e.name];if(a===void 0)return"";let i=(Array.isArray(a)?a:[a]).map(n=>this.encodeValue(n,e.operator));switch(e.operator){case"":return i.join(",");case"+":return i.join(",");case"#":return"#"+i.join(",");case".":return"."+i.join(".");case"/":return"/"+i.join("/");default:return i.join(",")}}expand(e){let r="",a=!1;for(let s of this.parts){if(typeof s=="string"){r+=s;continue}let i=this.expandPart(s,e);i&&((s.operator==="?"||s.operator==="&")&&a?r+=i.replace("?","&"):r+=i,(s.operator==="?"||s.operator==="&")&&(a=!0))}return r}escapeRegExp(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}partToRegExp(e){let r=[];for(let i of e.names)t.validateLength(i,Tv,"Variable name");if(e.operator==="?"||e.operator==="&"){for(let i=0;i<e.names.length;i++){let n=e.names[i],o=i===0?"\\"+e.operator:"&";r.push({pattern:o+this.escapeRegExp(n)+"=([^&]+)",name:n})}return r}let a,s=e.name;switch(e.operator){case"":a=e.exploded?"([^/]+(?:,[^/]+)*)":"([^/,]+)";break;case"+":case"#":a="(.+)";break;case".":a="\\.([^/,]+)";break;case"/":a="/"+(e.exploded?"([^/]+(?:,[^/]+)*)":"([^/,]+)");break;default:a="([^/]+)"}return r.push({pattern:a,name:s}),r}match(e){t.validateLength(e,ZT,"URI");let r="^",a=[];for(let o of this.parts)if(typeof o=="string")r+=this.escapeRegExp(o);else{let l=this.partToRegExp(o);for(let{pattern:c,name:u}of l)r+=c,a.push({name:u,exploded:o.exploded})}r+="$",t.validateLength(r,uV,"Generated regex pattern");let s=new RegExp(r),i=e.match(s);if(!i)return null;let n={};for(let o=0;o<a.length;o++){let{name:l,exploded:c}=a[o],u=i[o+1],d=l.replace("*","");c&&u.includes(",")?n[d]=u.split(","):n[d]=u}return n}};_d.UriTemplate=Ov});var JT=j(Gi=>{"use strict";Object.defineProperty(Gi,"__esModule",{value:!0});Gi.ResourceTemplate=Gi.McpServer=void 0;var dV=ET(),GT=zT(),pc=Va(),Me=lc(),pV=BT(),fV=HT(),Iv=class{constructor(e,r){this._registeredResources={},this._registeredResourceTemplates={},this._registeredTools={},this._registeredPrompts={},this._toolHandlersInitialized=!1,this._completionHandlerInitialized=!1,this._resourceHandlersInitialized=!1,this._promptHandlersInitialized=!1,this.server=new dV.Server(e,r)}async connect(e){return await this.server.connect(e)}async close(){await this.server.close()}setToolRequestHandlers(){this._toolHandlersInitialized||(this.server.assertCanSetRequestHandler(Me.ListToolsRequestSchema.shape.method.value),this.server.assertCanSetRequestHandler(Me.CallToolRequestSchema.shape.method.value),this.server.registerCapabilities({tools:{listChanged:!0}}),this.server.setRequestHandler(Me.ListToolsRequestSchema,()=>({tools:Object.entries(this._registeredTools).filter(([,e])=>e.enabled).map(([e,r])=>{let a={name:e,title:r.title,description:r.description,inputSchema:r.inputSchema?(0,GT.zodToJsonSchema)(r.inputSchema,{strictUnions:!0}):mV,annotations:r.annotations};return r.outputSchema&&(a.outputSchema=(0,GT.zodToJsonSchema)(r.outputSchema,{strictUnions:!0})),a})})),this.server.setRequestHandler(Me.CallToolRequestSchema,async(e,r)=>{let a=this._registeredTools[e.params.name];if(!a)throw new Me.McpError(Me.ErrorCode.InvalidParams,`Tool ${e.params.name} not found`);if(!a.enabled)throw new Me.McpError(Me.ErrorCode.InvalidParams,`Tool ${e.params.name} disabled`);let s;if(a.inputSchema){let i=await a.inputSchema.safeParseAsync(e.params.arguments);if(!i.success)throw new Me.McpError(Me.ErrorCode.InvalidParams,`Invalid arguments for tool ${e.params.name}: ${i.error.message}`);let n=i.data,o=a.callback;try{s=await Promise.resolve(o(n,r))}catch(l){s={content:[{type:"text",text:l instanceof Error?l.message:String(l)}],isError:!0}}}else{let i=a.callback;try{s=await Promise.resolve(i(r))}catch(n){s={content:[{type:"text",text:n instanceof Error?n.message:String(n)}],isError:!0}}}if(a.outputSchema&&!s.isError){if(!s.structuredContent)throw new Me.McpError(Me.ErrorCode.InvalidParams,`Tool ${e.params.name} has an output schema but no structured content was provided`);let i=await a.outputSchema.safeParseAsync(s.structuredContent);if(!i.success)throw new Me.McpError(Me.ErrorCode.InvalidParams,`Invalid structured content for tool ${e.params.name}: ${i.error.message}`)}return s}),this._toolHandlersInitialized=!0)}setCompletionRequestHandler(){this._completionHandlerInitialized||(this.server.assertCanSetRequestHandler(Me.CompleteRequestSchema.shape.method.value),this.server.registerCapabilities({completions:{}}),this.server.setRequestHandler(Me.CompleteRequestSchema,async e=>{switch(e.params.ref.type){case"ref/prompt":return this.handlePromptCompletion(e,e.params.ref);case"ref/resource":return this.handleResourceCompletion(e,e.params.ref);default:throw new Me.McpError(Me.ErrorCode.InvalidParams,`Invalid completion reference: ${e.params.ref}`)}}),this._completionHandlerInitialized=!0)}async handlePromptCompletion(e,r){let a=this._registeredPrompts[r.name];if(!a)throw new Me.McpError(Me.ErrorCode.InvalidParams,`Prompt ${r.name} not found`);if(!a.enabled)throw new Me.McpError(Me.ErrorCode.InvalidParams,`Prompt ${r.name} disabled`);if(!a.argsSchema)return wd;let s=a.argsSchema.shape[e.params.argument.name];if(!(s instanceof pV.Completable))return wd;let n=await s._def.complete(e.params.argument.value,e.params.context);return KT(n)}async handleResourceCompletion(e,r){let a=Object.values(this._registeredResourceTemplates).find(n=>n.resourceTemplate.uriTemplate.toString()===r.uri);if(!a){if(this._registeredResources[r.uri])return wd;throw new Me.McpError(Me.ErrorCode.InvalidParams,`Resource template ${e.params.ref.uri} not found`)}let s=a.resourceTemplate.completeCallback(e.params.argument.name);if(!s)return wd;let i=await s(e.params.argument.value,e.params.context);return KT(i)}setResourceRequestHandlers(){this._resourceHandlersInitialized||(this.server.assertCanSetRequestHandler(Me.ListResourcesRequestSchema.shape.method.value),this.server.assertCanSetRequestHandler(Me.ListResourceTemplatesRequestSchema.shape.method.value),this.server.assertCanSetRequestHandler(Me.ReadResourceRequestSchema.shape.method.value),this.server.registerCapabilities({resources:{listChanged:!0}}),this.server.setRequestHandler(Me.ListResourcesRequestSchema,async(e,r)=>{let a=Object.entries(this._registeredResources).filter(([i,n])=>n.enabled).map(([i,n])=>({uri:i,name:n.name,...n.metadata})),s=[];for(let i of Object.values(this._registeredResourceTemplates)){if(!i.resourceTemplate.listCallback)continue;let n=await i.resourceTemplate.listCallback(r);for(let o of n.resources)s.push({...i.metadata,...o})}return{resources:[...a,...s]}}),this.server.setRequestHandler(Me.ListResourceTemplatesRequestSchema,async()=>({resourceTemplates:Object.entries(this._registeredResourceTemplates).map(([r,a])=>({name:r,uriTemplate:a.resourceTemplate.uriTemplate.toString(),...a.metadata}))})),this.server.setRequestHandler(Me.ReadResourceRequestSchema,async(e,r)=>{let a=new URL(e.params.uri),s=this._registeredResources[a.toString()];if(s){if(!s.enabled)throw new Me.McpError(Me.ErrorCode.InvalidParams,`Resource ${a} disabled`);return s.readCallback(a,r)}for(let i of Object.values(this._registeredResourceTemplates)){let n=i.resourceTemplate.uriTemplate.match(a.toString());if(n)return i.readCallback(a,n,r)}throw new Me.McpError(Me.ErrorCode.InvalidParams,`Resource ${a} not found`)}),this.setCompletionRequestHandler(),this._resourceHandlersInitialized=!0)}setPromptRequestHandlers(){this._promptHandlersInitialized||(this.server.assertCanSetRequestHandler(Me.ListPromptsRequestSchema.shape.method.value),this.server.assertCanSetRequestHandler(Me.GetPromptRequestSchema.shape.method.value),this.server.registerCapabilities({prompts:{listChanged:!0}}),this.server.setRequestHandler(Me.ListPromptsRequestSchema,()=>({prompts:Object.entries(this._registeredPrompts).filter(([,e])=>e.enabled).map(([e,r])=>({name:e,title:r.title,description:r.description,arguments:r.argsSchema?vV(r.argsSchema):void 0}))})),this.server.setRequestHandler(Me.GetPromptRequestSchema,async(e,r)=>{let a=this._registeredPrompts[e.params.name];if(!a)throw new Me.McpError(Me.ErrorCode.InvalidParams,`Prompt ${e.params.name} not found`);if(!a.enabled)throw new Me.McpError(Me.ErrorCode.InvalidParams,`Prompt ${e.params.name} disabled`);if(a.argsSchema){let s=await a.argsSchema.safeParseAsync(e.params.arguments);if(!s.success)throw new Me.McpError(Me.ErrorCode.InvalidParams,`Invalid arguments for prompt ${e.params.name}: ${s.error.message}`);let i=s.data,n=a.callback;return await Promise.resolve(n(i,r))}else{let s=a.callback;return await Promise.resolve(s(r))}}),this.setCompletionRequestHandler(),this._promptHandlersInitialized=!0)}resource(e,r,...a){let s;typeof a[0]=="object"&&(s=a.shift());let i=a[0];if(typeof r=="string"){if(this._registeredResources[r])throw new Error(`Resource ${r} is already registered`);let n=this._createRegisteredResource(e,void 0,r,s,i);return this.setResourceRequestHandlers(),this.sendResourceListChanged(),n}else{if(this._registeredResourceTemplates[e])throw new Error(`Resource template ${e} is already registered`);let n=this._createRegisteredResourceTemplate(e,void 0,r,s,i);return this.setResourceRequestHandlers(),this.sendResourceListChanged(),n}}registerResource(e,r,a,s){if(typeof r=="string"){if(this._registeredResources[r])throw new Error(`Resource ${r} is already registered`);let i=this._createRegisteredResource(e,a.title,r,a,s);return this.setResourceRequestHandlers(),this.sendResourceListChanged(),i}else{if(this._registeredResourceTemplates[e])throw new Error(`Resource template ${e} is already registered`);let i=this._createRegisteredResourceTemplate(e,a.title,r,a,s);return this.setResourceRequestHandlers(),this.sendResourceListChanged(),i}}_createRegisteredResource(e,r,a,s,i){let n={name:e,title:r,metadata:s,readCallback:i,enabled:!0,disable:()=>n.update({enabled:!1}),enable:()=>n.update({enabled:!0}),remove:()=>n.update({uri:null}),update:o=>{typeof o.uri<"u"&&o.uri!==a&&(delete this._registeredResources[a],o.uri&&(this._registeredResources[o.uri]=n)),typeof o.name<"u"&&(n.name=o.name),typeof o.title<"u"&&(n.title=o.title),typeof o.metadata<"u"&&(n.metadata=o.metadata),typeof o.callback<"u"&&(n.readCallback=o.callback),typeof o.enabled<"u"&&(n.enabled=o.enabled),this.sendResourceListChanged()}};return this._registeredResources[a]=n,n}_createRegisteredResourceTemplate(e,r,a,s,i){let n={resourceTemplate:a,title:r,metadata:s,readCallback:i,enabled:!0,disable:()=>n.update({enabled:!1}),enable:()=>n.update({enabled:!0}),remove:()=>n.update({name:null}),update:o=>{typeof o.name<"u"&&o.name!==e&&(delete this._registeredResourceTemplates[e],o.name&&(this._registeredResourceTemplates[o.name]=n)),typeof o.title<"u"&&(n.title=o.title),typeof o.template<"u"&&(n.resourceTemplate=o.template),typeof o.metadata<"u"&&(n.metadata=o.metadata),typeof o.callback<"u"&&(n.readCallback=o.callback),typeof o.enabled<"u"&&(n.enabled=o.enabled),this.sendResourceListChanged()}};return this._registeredResourceTemplates[e]=n,n}_createRegisteredPrompt(e,r,a,s,i){let n={title:r,description:a,argsSchema:s===void 0?void 0:pc.z.object(s),callback:i,enabled:!0,disable:()=>n.update({enabled:!1}),enable:()=>n.update({enabled:!0}),remove:()=>n.update({name:null}),update:o=>{typeof o.name<"u"&&o.name!==e&&(delete this._registeredPrompts[e],o.name&&(this._registeredPrompts[o.name]=n)),typeof o.title<"u"&&(n.title=o.title),typeof o.description<"u"&&(n.description=o.description),typeof o.argsSchema<"u"&&(n.argsSchema=pc.z.object(o.argsSchema)),typeof o.callback<"u"&&(n.callback=o.callback),typeof o.enabled<"u"&&(n.enabled=o.enabled),this.sendPromptListChanged()}};return this._registeredPrompts[e]=n,n}_createRegisteredTool(e,r,a,s,i,n,o){let l={title:r,description:a,inputSchema:s===void 0?void 0:pc.z.object(s),outputSchema:i===void 0?void 0:pc.z.object(i),annotations:n,callback:o,enabled:!0,disable:()=>l.update({enabled:!1}),enable:()=>l.update({enabled:!0}),remove:()=>l.update({name:null}),update:c=>{typeof c.name<"u"&&c.name!==e&&(delete this._registeredTools[e],c.name&&(this._registeredTools[c.name]=l)),typeof c.title<"u"&&(l.title=c.title),typeof c.description<"u"&&(l.description=c.description),typeof c.paramsSchema<"u"&&(l.inputSchema=pc.z.object(c.paramsSchema)),typeof c.callback<"u"&&(l.callback=c.callback),typeof c.annotations<"u"&&(l.annotations=c.annotations),typeof c.enabled<"u"&&(l.enabled=c.enabled),this.sendToolListChanged()}};return this._registeredTools[e]=l,this.setToolRequestHandlers(),this.sendToolListChanged(),l}tool(e,...r){if(this._registeredTools[e])throw new Error(`Tool ${e} is already registered`);let a,s,i,n;if(typeof r[0]=="string"&&(a=r.shift()),r.length>1){let l=r[0];WT(l)?(s=r.shift(),r.length>1&&typeof r[0]=="object"&&r[0]!==null&&!WT(r[0])&&(n=r.shift())):typeof l=="object"&&l!==null&&(n=r.shift())}let o=r[0];return this._createRegisteredTool(e,void 0,a,s,i,n,o)}registerTool(e,r,a){if(this._registeredTools[e])throw new Error(`Tool ${e} is already registered`);let{title:s,description:i,inputSchema:n,outputSchema:o,annotations:l}=r;return this._createRegisteredTool(e,s,i,n,o,l,a)}prompt(e,...r){if(this._registeredPrompts[e])throw new Error(`Prompt ${e} is already registered`);let a;typeof r[0]=="string"&&(a=r.shift());let s;r.length>1&&(s=r.shift());let i=r[0],n=this._createRegisteredPrompt(e,void 0,a,s,i);return this.setPromptRequestHandlers(),this.sendPromptListChanged(),n}registerPrompt(e,r,a){if(this._registeredPrompts[e])throw new Error(`Prompt ${e} is already registered`);let{title:s,description:i,argsSchema:n}=r,o=this._createRegisteredPrompt(e,s,i,n,a);return this.setPromptRequestHandlers(),this.sendPromptListChanged(),o}isConnected(){return this.server.transport!==void 0}sendResourceListChanged(){this.isConnected()&&this.server.sendResourceListChanged()}sendToolListChanged(){this.isConnected()&&this.server.sendToolListChanged()}sendPromptListChanged(){this.isConnected()&&this.server.sendPromptListChanged()}};Gi.McpServer=Iv;var Av=class{constructor(e,r){this._callbacks=r,this._uriTemplate=typeof e=="string"?new fV.UriTemplate(e):e}get uriTemplate(){return this._uriTemplate}get listCallback(){return this._callbacks.list}completeCallback(e){var r;return(r=this._callbacks.complete)===null||r===void 0?void 0:r[e]}};Gi.ResourceTemplate=Av;var mV={type:"object",properties:{}};function WT(t){return typeof t!="object"||t===null?!1:Object.keys(t).length===0||Object.values(t).some(hV)}function hV(t){return t!==null&&typeof t=="object"&&"parse"in t&&typeof t.parse=="function"&&"safeParse"in t&&typeof t.safeParse=="function"}function vV(t){return Object.entries(t.shape).map(([e,r])=>({name:e,description:r.description,required:!r.isOptional()}))}function KT(t){return{completion:{values:t.slice(0,100),total:t.length,hasMore:t.length>100}}}var wd={completion:{values:[],hasMore:!1}}});var QT=j(kv=>{"use strict";Object.defineProperty(kv,"__esModule",{value:!0});kv.convertPosixPathToWindowsPath=yV;var gV=require("node:child_process");function yV(t){let e=t;if(t.startsWith("file://")&&(e=t.substring(7)),!e.startsWith("/")||/^\/[a-zA-Z]:/.test(e))return t;try{return(0,gV.execFileSync)("wsl.exe",["-e","wslpath","-w",e],{encoding:"utf8",stdio:["pipe","pipe","ignore"]}).trim()}catch{return t}}});var YT=j(Ha=>{"use strict";var xV=Ha&&Ha.__createBinding||(Object.create?function(t,e,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(e,r);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,a,s)}:function(t,e,r,a){a===void 0&&(a=r),t[a]=e[r]}),bV=Ha&&Ha.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),_V=Ha&&Ha.__importStar||function(){var t=function(e){return t=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},t(e)};return function(e){if(e&&e.__esModule)return e;var r={};if(e!=null)for(var a=t(e),s=0;s<a.length;s++)a[s]!=="default"&&xV(r,e,a[s]);return bV(r,e),r}}();Object.defineProperty(Ha,"__esModule",{value:!0});Ha.createVscodeUri=SV;var jv=_V(require("vscode")),wV=QT();function SV(t){if(process.platform==="win32"){let e=(0,wV.convertPosixPathToWindowsPath)(t);return e.startsWith("file://")?jv.Uri.parse(e):jv.Uri.file(e)}else return jv.Uri.parse(t)}});var Dv=j(lr=>{"use strict";var EV=lr&&lr.__createBinding||(Object.create?function(t,e,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(e,r);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,a,s)}:function(t,e,r,a){a===void 0&&(a=r),t[a]=e[r]}),PV=lr&&lr.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),RV=lr&&lr.__importStar||function(){var t=function(e){return t=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},t(e)};return function(e){if(e&&e.__esModule)return e;var r={};if(e!=null)for(var a=t(e),s=0;s<a.length;s++)a[s]!=="default"&&EV(r,e,a[s]);return PV(r,e),r}}();Object.defineProperty(lr,"__esModule",{value:!0});lr.DiagnosticSubscriptionManager=lr.DiagnosticStreamManager=void 0;lr.transformVsCodeDiagnostics=XT;lr.getDiagnostics=TV;var Sd=RV(require("vscode")),CV=YT();function XT(t){return t.map(e=>({message:e.message,severity:Sd.DiagnosticSeverity[e.severity],range:{start:{line:e.range.start.line,character:e.range.start.character},end:{line:e.range.end.line,character:e.range.end.character}},source:e.source,code:e.code?.toString()}))}function TV(t){return(t?(()=>{let a=(0,CV.createVscodeUri)(t);return[[a,Sd.languages.getDiagnostics(a)]]})():Sd.languages.getDiagnostics()).map(([a,s])=>({uri:a.toString(!0),diagnostics:XT(s)}))}var Ed=class t{static instance;listener;clients;clientCounter;output;constructor(e){this.clients=new Map,this.clientCounter=0,this.output=e}static getInstance(e){return t.instance||(t.instance=new t(e)),t.instance}registerClient(e){let r=`client_${this.clientCounter++}`;return this.clients.set(r,e),this.startStreaming(),r}unregisterClient(e){this.clients.delete(e)&&(this.output.info(`[DiagnosticStreamManager] Unregistered client ${e}. Total clients: ${this.clients.size}`),this.clients.size===0&&this.stopStreaming())}startStreaming(){this.listener||(this.listener=Sd.languages.onDidChangeDiagnostics(e=>{this.notifyDiagnosticsChanged(e.uris)}),this.output.info("[DiagnosticStreamManager] Started streaming diagnostics"))}stopStreaming(){this.listener&&(this.listener.dispose(),this.listener=void 0,this.output.info("[DiagnosticStreamManager] Stopped streaming diagnostics"))}notifyDiagnosticsChanged(e){if(this.clients.size===0)return;let r=e.map(a=>a.toString());this.output.info(`[DiagnosticStreamManager] Notifying ${this.clients.size} clients about diagnostics change for ${e.length} files`),this.clients.forEach((a,s)=>{try{a(r)}catch(i){this.output.error(`[DiagnosticStreamManager] Error notifying client ${s}: ${i}`)}})}dispose(){this.clients.clear(),this.stopStreaming()}};lr.DiagnosticStreamManager=Ed;lr.DiagnosticSubscriptionManager=Ed});var tO=j(Jt=>{"use strict";var OV=Jt&&Jt.__createBinding||(Object.create?function(t,e,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(e,r);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,a,s)}:function(t,e,r,a){a===void 0&&(a=r),t[a]=e[r]}),IV=Jt&&Jt.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),eO=Jt&&Jt.__importStar||function(){var t=function(e){return t=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},t(e)};return function(e){if(e&&e.__esModule)return e;var r={};if(e!=null)for(var a=t(e),s=0;s<a.length;s++)a[s]!=="default"&&OV(r,e,a[s]);return IV(r,e),r}}();Object.defineProperty(Jt,"__esModule",{value:!0});Jt.handleGetDiagnostics=kV;Jt.handleOpenFile=jV;Jt.handleGetOpenEditors=DV;Jt.handleGetCurrentSelection=NV;Jt.handleGetWorkspaceFolders=$V;Jt.handleCheckDocumentDirty=LV;Jt.handleSaveDocument=FV;var Je=eO(require("vscode")),Wi=eO(require("path")),AV=Dv();async function kV(t={}){try{let e=(0,AV.getDiagnostics)(t.uri);return{content:[{type:"text",text:JSON.stringify(e,null,2)}]}}catch(e){throw console.error("Error getting diagnostics through MCP:",e),e}}async function jV({filePath:t,preview:e,startText:r,endText:a,selectToEndOfLine:s,makeFrontmost:i=!0}){try{if(!t)throw new Error("File path is required");let n;if(!Wi.isAbsolute(t)&&Je.workspace.workspaceFolders&&Je.workspace.workspaceFolders.length>0){let o=Je.workspace.workspaceFolders[0].uri.fsPath,l=Wi.join(o,t);n=Je.Uri.file(l),console.log(`Converted relative path '${t}' to absolute: '${l}'`)}else n=Je.Uri.file(t);try{await Je.workspace.fs.stat(n);let o=await Je.workspace.openTextDocument(n),l=Je.window.visibleTextEditors.some(d=>d.document.uri.toString()===n.toString()),c;if(i||!l?c=await Je.window.showTextDocument(o,{preview:e,preserveFocus:!i}):c=Je.window.visibleTextEditors.find(d=>d.document.uri.toString()===n.toString()),r&&c){let d=o.getText(),h={success:!0,filePath:n.fsPath,message:`Opened file: ${n.fsPath}`},p=d.indexOf(r);if(p!==-1){let m=o.positionAt(p),f;if(a){let g=d.substring(p+r.length).indexOf(a);if(g!==-1){let b=p+r.length+g+a.length;f=o.positionAt(b),s&&(f=new Je.Position(f.line,Number.MAX_SAFE_INTEGER)),c.selection=new Je.Selection(m,f),c.revealRange(new Je.Range(m,f),Je.TextEditorRevealType.InCenter),h.message=`Opened file and selected text from "${r}" to "${a}"`}else c.selection=new Je.Selection(m,m),c.revealRange(new Je.Range(m,m),Je.TextEditorRevealType.InCenter),h.message=`Opened file and positioned at "${r}" (end text "${a}" not found)`}else f=o.positionAt(p+r.length),c.selection=new Je.Selection(m,f),c.revealRange(new Je.Range(m,f),Je.TextEditorRevealType.InCenter),h.message=`Opened file and selected text "${r}"`}else h.message=`Opened file, but text "${r}" not found`;return{content:[{type:"text",text:h.message}]}}let u={success:!0,filePath:n.fsPath,fileUrl:o.uri.toString(),message:`Opened file: ${n.fsPath}`};return i||(u.languageId=o.languageId,u.lineCount=o.lineCount,u.isDirty=o.isDirty,u.isUntitled=o.isUntitled,u.isClosed=o.isClosed),{content:[{type:"text",text:i?u.message:JSON.stringify(u,null,2)}]}}catch{throw new Error(`File not found: ${n.fsPath}`)}}catch(n){throw console.error("Error opening file through MCP:",n),n}}async function DV(){try{let t=Je.window.activeTextEditor,e=[];for(let a of Je.window.tabGroups.all)for(let s of a.tabs)if(s.input instanceof Je.TabInputText){let i=s.input.uri,n=Je.workspace.textDocuments.find(l=>l.uri.toString()===i.toString()),o={uri:i.toString(),isActive:s.isActive,isPinned:s.isPinned,isPreview:s.isPreview,isDirty:s.isDirty,label:s.label,groupIndex:a.viewColumn?a.viewColumn-1:0,viewColumn:a.viewColumn,isGroupActive:a.isActive};n&&(o.fileName=n.fileName,o.languageId=n.languageId,o.lineCount=n.lineCount,o.isUntitled=n.isUntitled,t&&t.document.uri.toString()===i.toString()&&(o.selection={start:{line:t.selection.start.line,character:t.selection.start.character},end:{line:t.selection.end.line,character:t.selection.end.character},isReversed:t.selection.isReversed})),e.push(o)}return{content:[{type:"text",text:JSON.stringify({tabs:e},null,2)}]}}catch(t){throw console.error("Error getting open editors through MCP:",t),t}}async function NV(){try{let t=Je.window.activeTextEditor;if(!t)return{content:[{type:"text",text:JSON.stringify({success:!1,message:"No active editor found"},null,2)}]};let e=t.selection,r=t.document,a=r.getText(e),s=r.uri.fsPath;return{content:[{type:"text",text:JSON.stringify({success:!0,text:a,filePath:s,fileUrl:r.uri.toString(),selection:{start:{line:e.start.line,character:e.start.character},end:{line:e.end.line,character:e.end.character},isEmpty:e.isEmpty}},null,2)}]}}catch(t){throw console.error("Error getting current selection through MCP:",t),t}}async function $V(){try{let e=(Je.workspace.workspaceFolders||[]).map(r=>({name:r.name,uri:r.uri.toString(),path:r.uri.fsPath,index:r.index}));return{content:[{type:"text",text:JSON.stringify({success:!0,folders:e,rootPath:Je.workspace.rootPath||null,workspaceFile:Je.workspace.workspaceFile?.toString()||null},null,2)}]}}catch(t){throw console.error("Error getting workspace folders through MCP:",t),t}}async function LV({filePath:t}){try{if(!t)throw new Error("File path is required");let e;if(!Wi.isAbsolute(t)&&Je.workspace.workspaceFolders&&Je.workspace.workspaceFolders.length>0){let a=Je.workspace.workspaceFolders[0].uri.fsPath,s=Wi.join(a,t);e=Je.Uri.file(s),console.log(`Converted relative path '${t}' to absolute: '${s}'`)}else e=Je.Uri.file(t);let r=Je.workspace.textDocuments.find(a=>a.uri.toString()===e.toString());return r?{content:[{type:"text",text:JSON.stringify({success:!0,filePath:e.fsPath,isDirty:r.isDirty,isUntitled:r.isUntitled},null,2)}]}:{content:[{type:"text",text:JSON.stringify({success:!1,message:`Document not open: ${e.fsPath}`},null,2)}]}}catch(e){throw console.error("Error checking document dirty state through MCP:",e),e}}async function FV({filePath:t}){try{if(!t)throw new Error("File path is required");let e;if(!Wi.isAbsolute(t)&&Je.workspace.workspaceFolders&&Je.workspace.workspaceFolders.length>0){let s=Je.workspace.workspaceFolders[0].uri.fsPath,i=Wi.join(s,t);e=Je.Uri.file(i),console.log(`Converted relative path '${t}' to absolute: '${i}'`)}else e=Je.Uri.file(t);let r=Je.workspace.textDocuments.find(s=>s.uri.toString()===e.toString());if(!r)return{content:[{type:"text",text:JSON.stringify({success:!1,message:`Document not open: ${e.fsPath}`},null,2)}]};let a=await r.save();return{content:[{type:"text",text:JSON.stringify({success:!0,filePath:e.fsPath,saved:a,message:a?"Document saved successfully":"Document was not dirty or save failed"},null,2)}]}}catch(e){throw console.error("Error saving document through MCP:",e),e}}});var rO=j(Ga=>{"use strict";var qV=Ga&&Ga.__createBinding||(Object.create?function(t,e,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(e,r);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,a,s)}:function(t,e,r,a){a===void 0&&(a=r),t[a]=e[r]}),MV=Ga&&Ga.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),UV=Ga&&Ga.__importStar||function(){var t=function(e){return t=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},t(e)};return function(e){if(e&&e.__esModule)return e;var r={};if(e!=null)for(var a=t(e),s=0;s<a.length;s++)a[s]!=="default"&&qV(r,e,a[s]);return MV(r,e),r}}();Object.defineProperty(Ga,"__esModule",{value:!0});Ga.handleExecuteCode=BV;var Zr=UV(require("vscode")),Nv;async function zV(){if(!Nv){let t=Zr.extensions.getExtension("ms-toolsai.jupyter");if(!t)throw new Error("Jupyter extension not installed");Nv=Promise.resolve(t.activate())}return Nv}function Ki(t,e){return t.error(e),{content:[{type:"text",text:e}]}}async function BV(t,e){let r=Zr.window.activeNotebookEditor;if(!r)return Ki(t,"No active notebook editor found.");let a;try{a=await zV()}catch{return Ki(t,"Unable to request Jupyter extension API. It is either not installed or not activated.")}let s=await a.kernels.getKernel(r.notebook.uri);if(!s)return Ki(t,"No kernel found for the active notebook. Please connect to a kernel.");if(s.language!=="python")return Ki(t,`Kernel language is ${s?.language}, not python.`);let i={content:[]};try{t.info(`Executing ${e}`);let n=new TextDecoder,o=await VV(e,r.notebook),l=r.notebook.getCells().find(d=>d.metadata.id===o);if(!l)return Ki(t,"No cell found in the notebook.");let c=r.notebook.getCells().indexOf(l);if(r.revealRange(new Zr.NotebookRange(c,c+1),Zr.NotebookEditorRevealType.InCenter),!await ZV(t))return Ki(t,"Code execution cancelled by user. Ask the user how they would like to proceed.");await Zr.commands.executeCommand("notebook.cell.execute",{ranges:[{start:c,end:c+1}],document:r.notebook.uri});for(let d of l.outputs)for(let h of d.items)if(h.mime===HV){let p=JSON.parse(n.decode(h.data));t.appendLine(`Error executing code ${p.name}: ${p.message},/n ${p.stack}`),i.content.push({type:"text",text:`Error: ${p.name}: ${p.message},/n ${p.stack}`})}else if(h.mime===GV){let p=Buffer.from(h.data).toString("base64");i.content.push({type:"image",data:p,mimeType:h.mime})}else i.content.push({type:"text",text:n.decode(h.data)});t.info("Code execution completed")}catch(n){t.error(`Code execution failed with an error '${n}'`)}return i}async function ZV(t){return(await Zr.window.showQuickPick([{label:"Execute",description:"Run the code in the notebook"},{label:"Cancel",description:"Do not execute the code"}],{title:"Claude Code Execution",placeHolder:"Choose whether to execute the code"}))?.label==="Execute"}async function VV(t,e){let r=new Zr.NotebookCellData(Zr.NotebookCellKind.Code,t,"python"),a=Math.random().toString(36).substring(2,15);r.metadata={id:a};let s=e.getCells().length,i=Zr.NotebookEdit.insertCells(s,[r]),n=new Zr.WorkspaceEdit;return n.set(e.uri,[i]),await Zr.workspace.applyEdit(n),a}var HV=Zr.NotebookCellOutputItem.error(new Error("")).mime,GV="image/png"});var iO=j(ur=>{"use strict";var WV=ur&&ur.__createBinding||(Object.create?function(t,e,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(e,r);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,a,s)}:function(t,e,r,a){a===void 0&&(a=r),t[a]=e[r]}),KV=ur&&ur.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),fc=ur&&ur.__importStar||function(){var t=function(e){return t=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},t(e)};return function(e){if(e&&e.__esModule)return e;var r={};if(e!=null)for(var a=t(e),s=0;s<a.length;s++)a[s]!=="default"&&WV(r,e,a[s]);return KV(r,e),r}}();Object.defineProperty(ur,"__esModule",{value:!0});ur.getRandomPort=sO;ur.ensureLockFileDirectory=Lv;ur.createLockFile=YV;ur.deleteLockFile=XV;ur.isPortAvailable=nO;ur.findAvailablePort=eH;var aO=fc(require("vscode")),Ji=fc(require("fs")),$v=fc(require("path")),JV=fc(require("os")),QV=fc(require("http"));function sO(){return Math.floor(Math.random()*55536)+1e4}function Lv(){let t=$v.join(JV.homedir(),".claude","ide");return Ji.existsSync(t)||Ji.mkdirSync(t,{recursive:!0}),t}function YV(t,e){let r=Lv(),a=$v.join(r,`${t}.lock`),s=Ji.existsSync(a),i=aO.workspace.workspaceFolders?.map(o=>o.uri.fsPath)||[],n={pid:process.ppid,workspaceFolders:i,ideName:aO.env.appName,transport:"ws",runningInWindows:process.platform==="win32",authToken:e};return Ji.writeFileSync(a,JSON.stringify(n)),s&&console.log(`Updated lock file with new workspace folders: ${a}`),a}function XV(t){let e=Lv(),r=$v.join(e,`${t}.lock`);if(Ji.existsSync(r))try{Ji.unlinkSync(r)}catch(a){console.error(`Failed to delete lock file ${r}:`,a)}}function nO(t){return new Promise(e=>{let r=QV.createServer();r.once("error",()=>{e(!1)}),r.once("listening",()=>{r.close(),e(!0)}),r.listen(t)})}async function eH(){for(let t=0;t<50;t++){let e=sO();if(await nO(e))return e}throw new Error("Failed to find an available port after multiple attempts")}});var oO=j(Pr=>{"use strict";var tH=Pr&&Pr.__createBinding||(Object.create?function(t,e,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(e,r);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,a,s)}:function(t,e,r,a){a===void 0&&(a=r),t[a]=e[r]}),rH=Pr&&Pr.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),aH=Pr&&Pr.__importStar||function(){var t=function(e){return t=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},t(e)};return function(e){if(e&&e.__esModule)return e;var r={};if(e!=null)for(var a=t(e),s=0;s<a.length;s++)a[s]!=="default"&&tH(r,e,a[s]);return rH(r,e),r}}();Object.defineProperty(Pr,"__esModule",{value:!0});Pr.findRunningClaudeProcesses=sH;Pr.getProcessTree=nH;Pr.getDirectChildren=iH;Pr.getProcessCommand=oH;Pr.isShellCommand=cH;var Wa=aH(require("node:child_process"));async function sH(){return new Promise(async t=>{try{let e=process.platform==="win32"?Wa.spawn("powershell.exe",["-NoProfile","-Command",`Get-CimInstance Win32_Process | Where-Object { $_.CommandLine -match '(node.*bin/claude|/claude|\\$claude)(\\$| )' -and $_.CommandLine -notmatch 'grep' } | ForEach-Object { "$($_.ProcessId) $($_.ParentProcessId)" }`]):Wa.spawn("bash",["-c",'ps -eo pid,ppid,command | grep -E "(node.*bin/claude|/claude|$claude)($| )" | grep -v "grep" || echo "no_claude_found"']),r="";e.stdout.on("data",a=>{r+=a.toString()}),e.on("close",()=>{if(r.includes("no_claude_found")||r.trim()===""){console.log("No Claude processes found running"),t([]);return}let a=[];process.platform==="win32"?a=r.trim().split(/\r?\n/).filter(s=>s.trim()).map(s=>{let i=s.trim().split(/\s+/);return{pid:i[0],ppid:i[1]}}):a=r.trim().split(/\r?\n/).map(s=>{let i=s.trim().split(/\s+/);return{pid:i[0],ppid:i[1]}}),console.log(`Found ${a.length} Claude processes running`),t(a)}),e.on("error",a=>{console.error(`Error checking for Claude processes: ${a}`),t([])})}catch(e){console.error(`Error in process check: ${e}`),t([])}})}async function nH(t){let e="",r=process.platform==="win32"?Wa.spawn("powershell.exe",["-NoProfile","-Command",`$p=${t};while($p -gt 0){$p;$p=(Get-CimInstance Win32_Process -Filter "ProcessId=$p").ParentProcessId}`]):Wa.spawn("bash",["-c",`pid=${t}; while [ "$pid" -ne 0 ]; do echo $pid; pid=$(ps -o ppid= -p $pid 2>/dev/null | tr -d ' '); [ -z "$pid" ] && break; done`]);return r.stdout.on("data",a=>{e+=a.toString()}),new Promise(a=>{r.on("close",()=>{let s=e.trim().split(/\r?\n/).map(i=>i.trim()).filter(i=>i.length>0);a(s)}),r.on("error",s=>{console.error(`Error getting process tree: ${s}`),a([])})})}async function iH(t){return new Promise(async e=>{try{let r=process.platform==="win32"?Wa.spawn("powershell.exe",["-NoProfile","-Command",`(Get-CimInstance Win32_Process -Filter "ParentProcessId=${t}").ProcessId`]):process.platform==="darwin"?Wa.spawn("bash",["-c",`ps -eo pid,ppid | awk '$2 == ${t} {print $1}'`]):Wa.spawn("bash",["-c",`ps -o pid= --ppid ${t}`]),a="";r.stdout.on("data",s=>{a+=s.toString()}),r.on("close",()=>{let s=a.trim().split(/\r?\n/).map(i=>i.trim()).filter(i=>i.length>0);e(s)}),r.on("error",s=>{console.error(`Error finding children: ${s}`),e([])})}catch(r){console.error(`Error checking for child processes: ${r}`),e([])}})}async function oH(t){return new Promise(e=>{try{let r=process.platform==="win32"?Wa.spawn("powershell.exe",["-NoProfile","-Command",`(Get-CimInstance Win32_Process -Filter "ProcessId=${t}").CommandLine`]):Wa.spawn("bash",["-c",`ps -p ${t} -o command=`]),a="";r.stdout.on("data",s=>{a+=s.toString()}),r.on("close",()=>{e(a.trim())}),r.on("error",s=>{console.error(`Error getting process command: ${s}`),e("")})}catch(r){console.error(`Error checking process command: ${r}`),e("")}})}function cH(t){return t.includes("bash")||t.includes("sh")||t.includes("zsh")||t.includes("cmd.exe")||t.includes("powershell")}});var mc=j(Ea=>{"use strict";var lH=Ea&&Ea.__createBinding||(Object.create?function(t,e,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(e,r);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,a,s)}:function(t,e,r,a){a===void 0&&(a=r),t[a]=e[r]}),uH=Ea&&Ea.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),dH=Ea&&Ea.__importStar||function(){var t=function(e){return t=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},t(e)};return function(e){if(e&&e.__esModule)return e;var r={};if(e!=null)for(var a=t(e),s=0;s<a.length;s++)a[s]!=="default"&&lH(r,e,a[s]);return uH(r,e),r}}();Object.defineProperty(Ea,"__esModule",{value:!0});Ea.isClaudeRunningInTerminal=fH;Ea.focusTerminal=mH;var pH=dH(require("vscode")),Fn=oO();async function fH(t,e){let r={claudeRunning:!1,terminalProcessTree:[],runningClaudeProcesses:[],isChildOfThisTerminal:!1};try{let a=await e.processId;if(!a)return t.info("Could not get terminal process ID"),r;r.runningClaudeProcesses=await(0,Fn.findRunningClaudeProcesses)();let s=r.runningClaudeProcesses.length>0;r.terminalProcessTree=await(0,Fn.getProcessTree)(a);let i=await(0,Fn.getDirectChildren)(a);for(let n of r.runningClaudeProcesses){if(n.ppid===a.toString()){r.isChildOfThisTerminal=!0;break}if(i.includes(n.ppid)){r.isChildOfThisTerminal=!0;break}let o=n.ppid;if(o===a.toString()){r.isChildOfThisTerminal=!0;break}if(a.toString()===o){r.isChildOfThisTerminal=!0;break}try{let l=await(0,Fn.getProcessCommand)(o);if((0,Fn.isShellCommand)(l)&&e.name!=="Claude Code")if(a.toString()===o)r.isChildOfThisTerminal=!0;else{let c=await(0,Fn.getProcessCommand)(a.toString());(0,Fn.isShellCommand)(c)&&e.name!=="Claude Code"&&(r.isChildOfThisTerminal=!0)}}catch(l){t.error(`Error checking Claude's parent process: ${l}`)}if(r.isChildOfThisTerminal)break}return!r.isChildOfThisTerminal&&e.name==="Claude Code"?(r.claudeRunning=!1,r):(s&&r.isChildOfThisTerminal?r.claudeRunning=!0:r.claudeRunning=!1,r)}catch(a){return t.error("Error checking if Claude is running:",a),r}}function mH(){try{let t=pH.window.activeTerminal;t&&t.show()}catch(t){console.error("Error focusing terminal:",t)}}});var lO=j(oa=>{"use strict";var hH=oa&&oa.__createBinding||(Object.create?function(t,e,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(e,r);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,a,s)}:function(t,e,r,a){a===void 0&&(a=r),t[a]=e[r]}),vH=oa&&oa.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),cO=oa&&oa.__importStar||function(){var t=function(e){return t=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},t(e)};return function(e){if(e&&e.__esModule)return e;var r={};if(e!=null)for(var a=t(e),s=0;s<a.length;s++)a[s]!=="default"&&hH(r,e,a[s]);return vH(r,e),r}}();Object.defineProperty(oa,"__esModule",{value:!0});oa.openDiff=bH;oa.listAllOpenTabs=hc;oa.waitFor=Fv;var Qt=cO(require("vscode")),gH=cO(require("fs")),yH=mc(),xH=Pd(),Ts;async function bH(t,e,r,a,s,i,n,o,l){t.info("diff from",a,"to",s,"as",n);let c=Qt.Uri.file(a);try{if((await Qt.workspace.openTextDocument(c)).isDirty){let I=gH.readFileSync(a,"utf8");c=e.createFile(a,I).uri}}catch{t.info("leftTempFileProvider.createFile",a),c=e.createFile(a,"").uri}let d=r.createFile(s,i).uri,h=await Qt.workspace.openTextDocument(d),p=$=>$.input instanceof Qt.TabInputTextDiff&&$.input.modified.toString()===d.toString();await(0,xH.closeAllDiffTabs)(t)>0&&await new Promise($=>setTimeout($,200));let f={preview:!1},v=i,g=i,b;Qt.workspace.onDidChangeTextDocument($=>{$.document.uri.toString()===d.toString()&&(v=g,g=$.document.getText(),$.contentChanges.length>3&&$.reason!==Qt.TextDocumentChangeReason.Undo&&$.reason!==Qt.TextDocumentChangeReason.Redo&&(b={time:Date.now(),contents:v}))});let w=new Promise($=>{l.push(Qt.workspace.onWillSaveTextDocument(I=>{if(I.document.uri.toString()===d.toString()){let k=I.document.getText();b&&Date.now()-b.time<500&&(k=b.contents),$(k)}}))}),C=!0;Ts&&(Ts.dispose(),Ts=void 0);try{Ts=Qt.commands.registerCommand("type",$=>{if(!(C&&Qt.window.activeTextEditor?.document.uri.toString()===d.toString()))return Qt.commands.executeCommand("default:type",$)}),setTimeout(()=>{C=!1,Ts&&(Ts.dispose(),Ts=void 0)},1e3),l.push(Ts)}catch($){t.warn("Could not register type command interceptor:",$)}let T=hc(),R=await Qt.commands.executeCommand("vscode.diff",c,d,n,f);t.info("diff result",R,n,c,d,f);try{await Fv(()=>hc().some($=>$.label===n),1e3)}catch($){let I=hc().filter(k=>!T.some(N=>N.label===k.label)).map(k=>({label:k.label,isDiff:k.isDiff}));throw t.error(`Failed to open diff tab, possibly new tabs: ${JSON.stringify(I)}`),$}(0,yH.focusTerminal)();let O=new Promise($=>{l.push(o(I=>{I.activeTab&&p(I.activeTab)&&$(I)}))}).then($=>$.accepted?(t.info("diff_accepted",n),{content:[{type:"text",text:"FILE_SAVED"},{type:"text",text:h.getText()}]}):{content:[{type:"text",text:"DIFF_REJECTED"},{type:"text",text:n}]}),L=Fv(()=>!hc().some($=>$.label===n)).then(()=>(t.info("tab_closed",n),{content:[{type:"text",text:"DIFF_REJECTED"},{type:"text",text:n}]})),D=w.then(async $=>(t.info("file_saved",n),{content:[{type:"text",text:"FILE_SAVED"},{type:"text",text:$}]})),F=[L,O];return Qt.workspace.getConfiguration("files").get("autoSave")==="off"&&F.push(D),await Promise.race(F)}function hc(){return Qt.window.tabGroups.all.flatMap(t=>t.tabs.map(e=>({tab:e,label:e.label,isDiff:e.input instanceof Qt.TabInputTextDiff,viewColumn:t.viewColumn,isActive:e.isActive})))}function Fv(t,e){return new Promise((r,a)=>{let s,i=setInterval(()=>{t()&&(clearInterval(i),s&&clearTimeout(s),r())},100);e&&(s=setTimeout(()=>{clearInterval(i),a(new Error(`Timeout waiting after ${e}ms`))},e))})}});var uO=j(Rd=>{"use strict";Object.defineProperty(Rd,"__esModule",{value:!0});Rd.setTerminalEnvironmentVariable=_H;Rd.getTerminalEnvironmentVariable=wH;async function _H(t,e,r){t.environmentVariableCollection.replace(e,r),console.log(`Set ${e}=${r} in terminal environment (in-memory)`)}function wH(t,e){return t.environmentVariableCollection.get(e)?.value}});var Ka=j((cae,fO)=>{"use strict";var dO=["nodebuffer","arraybuffer","fragments"],pO=typeof Blob<"u";pO&&dO.push("blob");fO.exports={BINARY_TYPES:dO,EMPTY_BUFFER:Buffer.alloc(0),GUID:"258EAFA5-E914-47DA-95CA-C5AB0DC85B11",hasBlob:pO,kForOnEventAttribute:Symbol("kIsForOnEventAttribute"),kListener:Symbol("kListener"),kStatusCode:Symbol("status-code"),kWebSocket:Symbol("websocket"),NOOP:()=>{}}});var vc=j((lae,Cd)=>{"use strict";var{EMPTY_BUFFER:SH}=Ka(),qv=Buffer[Symbol.species];function EH(t,e){if(t.length===0)return SH;if(t.length===1)return t[0];let r=Buffer.allocUnsafe(e),a=0;for(let s=0;s<t.length;s++){let i=t[s];r.set(i,a),a+=i.length}return a<e?new qv(r.buffer,r.byteOffset,a):r}function mO(t,e,r,a,s){for(let i=0;i<s;i++)r[a+i]=t[i]^e[i&3]}function hO(t,e){for(let r=0;r<t.length;r++)t[r]^=e[r&3]}function PH(t){return t.length===t.buffer.byteLength?t.buffer:t.buffer.slice(t.byteOffset,t.byteOffset+t.length)}function Mv(t){if(Mv.readOnly=!0,Buffer.isBuffer(t))return t;let e;return t instanceof ArrayBuffer?e=new qv(t):ArrayBuffer.isView(t)?e=new qv(t.buffer,t.byteOffset,t.byteLength):(e=Buffer.from(t),Mv.readOnly=!1),e}Cd.exports={concat:EH,mask:mO,toArrayBuffer:PH,toBuffer:Mv,unmask:hO};if(!process.env.WS_NO_BUFFER_UTIL)try{let t=require("bufferutil");Cd.exports.mask=function(e,r,a,s,i){i<48?mO(e,r,a,s,i):t.mask(e,r,a,s,i)},Cd.exports.unmask=function(e,r){e.length<32?hO(e,r):t.unmask(e,r)}}catch{}});var yO=j((uae,gO)=>{"use strict";var vO=Symbol("kDone"),Uv=Symbol("kRun"),zv=class{constructor(e){this[vO]=()=>{this.pending--,this[Uv]()},this.concurrency=e||1/0,this.jobs=[],this.pending=0}add(e){this.jobs.push(e),this[Uv]()}[Uv](){if(this.pending!==this.concurrency&&this.jobs.length){let e=this.jobs.shift();this.pending++,e(this[vO])}}};gO.exports=zv});var yc=j((dae,wO)=>{"use strict";var gc=require("zlib"),xO=vc(),RH=yO(),{kStatusCode:bO}=Ka(),CH=Buffer[Symbol.species],TH=Buffer.from([0,0,255,255]),Od=Symbol("permessage-deflate"),Ja=Symbol("total-length"),Qi=Symbol("callback"),Os=Symbol("buffers"),Yi=Symbol("error"),Td,Bv=class{constructor(e,r,a){if(this._maxPayload=a|0,this._options=e||{},this._threshold=this._options.threshold!==void 0?this._options.threshold:1024,this._isServer=!!r,this._deflate=null,this._inflate=null,this.params=null,!Td){let s=this._options.concurrencyLimit!==void 0?this._options.concurrencyLimit:10;Td=new RH(s)}}static get extensionName(){return"permessage-deflate"}offer(){let e={};return this._options.serverNoContextTakeover&&(e.server_no_context_takeover=!0),this._options.clientNoContextTakeover&&(e.client_no_context_takeover=!0),this._options.serverMaxWindowBits&&(e.server_max_window_bits=this._options.serverMaxWindowBits),this._options.clientMaxWindowBits?e.client_max_window_bits=this._options.clientMaxWindowBits:this._options.clientMaxWindowBits==null&&(e.client_max_window_bits=!0),e}accept(e){return e=this.normalizeParams(e),this.params=this._isServer?this.acceptAsServer(e):this.acceptAsClient(e),this.params}cleanup(){if(this._inflate&&(this._inflate.close(),this._inflate=null),this._deflate){let e=this._deflate[Qi];this._deflate.close(),this._deflate=null,e&&e(new Error("The deflate stream was closed while data was being processed"))}}acceptAsServer(e){let r=this._options,a=e.find(s=>!(r.serverNoContextTakeover===!1&&s.server_no_context_takeover||s.server_max_window_bits&&(r.serverMaxWindowBits===!1||typeof r.serverMaxWindowBits=="number"&&r.serverMaxWindowBits>s.server_max_window_bits)||typeof r.clientMaxWindowBits=="number"&&!s.client_max_window_bits));if(!a)throw new Error("None of the extension offers can be accepted");return r.serverNoContextTakeover&&(a.server_no_context_takeover=!0),r.clientNoContextTakeover&&(a.client_no_context_takeover=!0),typeof r.serverMaxWindowBits=="number"&&(a.server_max_window_bits=r.serverMaxWindowBits),typeof r.clientMaxWindowBits=="number"?a.client_max_window_bits=r.clientMaxWindowBits:(a.client_max_window_bits===!0||r.clientMaxWindowBits===!1)&&delete a.client_max_window_bits,a}acceptAsClient(e){let r=e[0];if(this._options.clientNoContextTakeover===!1&&r.client_no_context_takeover)throw new Error('Unexpected parameter "client_no_context_takeover"');if(!r.client_max_window_bits)typeof this._options.clientMaxWindowBits=="number"&&(r.client_max_window_bits=this._options.clientMaxWindowBits);else if(this._options.clientMaxWindowBits===!1||typeof this._options.clientMaxWindowBits=="number"&&r.client_max_window_bits>this._options.clientMaxWindowBits)throw new Error('Unexpected or invalid parameter "client_max_window_bits"');return r}normalizeParams(e){return e.forEach(r=>{Object.keys(r).forEach(a=>{let s=r[a];if(s.length>1)throw new Error(`Parameter "${a}" must have only a single value`);if(s=s[0],a==="client_max_window_bits"){if(s!==!0){let i=+s;if(!Number.isInteger(i)||i<8||i>15)throw new TypeError(`Invalid value for parameter "${a}": ${s}`);s=i}else if(!this._isServer)throw new TypeError(`Invalid value for parameter "${a}": ${s}`)}else if(a==="server_max_window_bits"){let i=+s;if(!Number.isInteger(i)||i<8||i>15)throw new TypeError(`Invalid value for parameter "${a}": ${s}`);s=i}else if(a==="client_no_context_takeover"||a==="server_no_context_takeover"){if(s!==!0)throw new TypeError(`Invalid value for parameter "${a}": ${s}`)}else throw new Error(`Unknown parameter "${a}"`);r[a]=s})}),e}decompress(e,r,a){Td.add(s=>{this._decompress(e,r,(i,n)=>{s(),a(i,n)})})}compress(e,r,a){Td.add(s=>{this._compress(e,r,(i,n)=>{s(),a(i,n)})})}_decompress(e,r,a){let s=this._isServer?"client":"server";if(!this._inflate){let i=`${s}_max_window_bits`,n=typeof this.params[i]!="number"?gc.Z_DEFAULT_WINDOWBITS:this.params[i];this._inflate=gc.createInflateRaw({...this._options.zlibInflateOptions,windowBits:n}),this._inflate[Od]=this,this._inflate[Ja]=0,this._inflate[Os]=[],this._inflate.on("error",IH),this._inflate.on("data",_O)}this._inflate[Qi]=a,this._inflate.write(e),r&&this._inflate.write(TH),this._inflate.flush(()=>{let i=this._inflate[Yi];if(i){this._inflate.close(),this._inflate=null,a(i);return}let n=xO.concat(this._inflate[Os],this._inflate[Ja]);this._inflate._readableState.endEmitted?(this._inflate.close(),this._inflate=null):(this._inflate[Ja]=0,this._inflate[Os]=[],r&&this.params[`${s}_no_context_takeover`]&&this._inflate.reset()),a(null,n)})}_compress(e,r,a){let s=this._isServer?"server":"client";if(!this._deflate){let i=`${s}_max_window_bits`,n=typeof this.params[i]!="number"?gc.Z_DEFAULT_WINDOWBITS:this.params[i];this._deflate=gc.createDeflateRaw({...this._options.zlibDeflateOptions,windowBits:n}),this._deflate[Ja]=0,this._deflate[Os]=[],this._deflate.on("data",OH)}this._deflate[Qi]=a,this._deflate.write(e),this._deflate.flush(gc.Z_SYNC_FLUSH,()=>{if(!this._deflate)return;let i=xO.concat(this._deflate[Os],this._deflate[Ja]);r&&(i=new CH(i.buffer,i.byteOffset,i.length-4)),this._deflate[Qi]=null,this._deflate[Ja]=0,this._deflate[Os]=[],r&&this.params[`${s}_no_context_takeover`]&&this._deflate.reset(),a(null,i)})}};wO.exports=Bv;function OH(t){this[Os].push(t),this[Ja]+=t.length}function _O(t){if(this[Ja]+=t.length,this[Od]._maxPayload<1||this[Ja]<=this[Od]._maxPayload){this[Os].push(t);return}this[Yi]=new RangeError("Max payload size exceeded"),this[Yi].code="WS_ERR_UNSUPPORTED_MESSAGE_LENGTH",this[Yi][bO]=1009,this.removeListener("data",_O),this.reset()}function IH(t){if(this[Od]._inflate=null,this[Yi]){this[Qi](this[Yi]);return}t[bO]=1007,this[Qi](t)}});var Xi=j((pae,Id)=>{"use strict";var{isUtf8:SO}=require("buffer"),{hasBlob:AH}=Ka(),kH=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0];function jH(t){return t>=1e3&&t<=1014&&t!==1004&&t!==1005&&t!==1006||t>=3e3&&t<=4999}function Zv(t){let e=t.length,r=0;for(;r<e;)if((t[r]&128)===0)r++;else if((t[r]&224)===192){if(r+1===e||(t[r+1]&192)!==128||(t[r]&254)===192)return!1;r+=2}else if((t[r]&240)===224){if(r+2>=e||(t[r+1]&192)!==128||(t[r+2]&192)!==128||t[r]===224&&(t[r+1]&224)===128||t[r]===237&&(t[r+1]&224)===160)return!1;r+=3}else if((t[r]&248)===240){if(r+3>=e||(t[r+1]&192)!==128||(t[r+2]&192)!==128||(t[r+3]&192)!==128||t[r]===240&&(t[r+1]&240)===128||t[r]===244&&t[r+1]>143||t[r]>244)return!1;r+=4}else return!1;return!0}function DH(t){return AH&&typeof t=="object"&&typeof t.arrayBuffer=="function"&&typeof t.type=="string"&&typeof t.stream=="function"&&(t[Symbol.toStringTag]==="Blob"||t[Symbol.toStringTag]==="File")}Id.exports={isBlob:DH,isValidStatusCode:jH,isValidUTF8:Zv,tokenChars:kH};if(SO)Id.exports.isValidUTF8=function(t){return t.length<24?Zv(t):SO(t)};else if(!process.env.WS_NO_UTF_8_VALIDATE)try{let t=require("utf-8-validate");Id.exports.isValidUTF8=function(e){return e.length<32?Zv(e):t(e)}}catch{}});var Kv=j((fae,IO)=>{"use strict";var{Writable:NH}=require("stream"),EO=yc(),{BINARY_TYPES:$H,EMPTY_BUFFER:PO,kStatusCode:LH,kWebSocket:FH}=Ka(),{concat:Vv,toArrayBuffer:qH,unmask:MH}=vc(),{isValidStatusCode:UH,isValidUTF8:RO}=Xi(),Ad=Buffer[Symbol.species],Vr=0,CO=1,TO=2,OO=3,Hv=4,Gv=5,kd=6,Wv=class extends NH{constructor(e={}){super(),this._allowSynchronousEvents=e.allowSynchronousEvents!==void 0?e.allowSynchronousEvents:!0,this._binaryType=e.binaryType||$H[0],this._extensions=e.extensions||{},this._isServer=!!e.isServer,this._maxPayload=e.maxPayload|0,this._skipUTF8Validation=!!e.skipUTF8Validation,this[FH]=void 0,this._bufferedBytes=0,this._buffers=[],this._compressed=!1,this._payloadLength=0,this._mask=void 0,this._fragmented=0,this._masked=!1,this._fin=!1,this._opcode=0,this._totalPayloadLength=0,this._messageLength=0,this._fragments=[],this._errored=!1,this._loop=!1,this._state=Vr}_write(e,r,a){if(this._opcode===8&&this._state==Vr)return a();this._bufferedBytes+=e.length,this._buffers.push(e),this.startLoop(a)}consume(e){if(this._bufferedBytes-=e,e===this._buffers[0].length)return this._buffers.shift();if(e<this._buffers[0].length){let a=this._buffers[0];return this._buffers[0]=new Ad(a.buffer,a.byteOffset+e,a.length-e),new Ad(a.buffer,a.byteOffset,e)}let r=Buffer.allocUnsafe(e);do{let a=this._buffers[0],s=r.length-e;e>=a.length?r.set(this._buffers.shift(),s):(r.set(new Uint8Array(a.buffer,a.byteOffset,e),s),this._buffers[0]=new Ad(a.buffer,a.byteOffset+e,a.length-e)),e-=a.length}while(e>0);return r}startLoop(e){this._loop=!0;do switch(this._state){case Vr:this.getInfo(e);break;case CO:this.getPayloadLength16(e);break;case TO:this.getPayloadLength64(e);break;case OO:this.getMask();break;case Hv:this.getData(e);break;case Gv:case kd:this._loop=!1;return}while(this._loop);this._errored||e()}getInfo(e){if(this._bufferedBytes<2){this._loop=!1;return}let r=this.consume(2);if((r[0]&48)!==0){let s=this.createError(RangeError,"RSV2 and RSV3 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_2_3");e(s);return}let a=(r[0]&64)===64;if(a&&!this._extensions[EO.extensionName]){let s=this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");e(s);return}if(this._fin=(r[0]&128)===128,this._opcode=r[0]&15,this._payloadLength=r[1]&127,this._opcode===0){if(a){let s=this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");e(s);return}if(!this._fragmented){let s=this.createError(RangeError,"invalid opcode 0",!0,1002,"WS_ERR_INVALID_OPCODE");e(s);return}this._opcode=this._fragmented}else if(this._opcode===1||this._opcode===2){if(this._fragmented){let s=this.createError(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE");e(s);return}this._compressed=a}else if(this._opcode>7&&this._opcode<11){if(!this._fin){let s=this.createError(RangeError,"FIN must be set",!0,1002,"WS_ERR_EXPECTED_FIN");e(s);return}if(a){let s=this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");e(s);return}if(this._payloadLength>125||this._opcode===8&&this._payloadLength===1){let s=this.createError(RangeError,`invalid payload length ${this._payloadLength}`,!0,1002,"WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH");e(s);return}}else{let s=this.createError(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE");e(s);return}if(!this._fin&&!this._fragmented&&(this._fragmented=this._opcode),this._masked=(r[1]&128)===128,this._isServer){if(!this._masked){let s=this.createError(RangeError,"MASK must be set",!0,1002,"WS_ERR_EXPECTED_MASK");e(s);return}}else if(this._masked){let s=this.createError(RangeError,"MASK must be clear",!0,1002,"WS_ERR_UNEXPECTED_MASK");e(s);return}this._payloadLength===126?this._state=CO:this._payloadLength===127?this._state=TO:this.haveLength(e)}getPayloadLength16(e){if(this._bufferedBytes<2){this._loop=!1;return}this._payloadLength=this.consume(2).readUInt16BE(0),this.haveLength(e)}getPayloadLength64(e){if(this._bufferedBytes<8){this._loop=!1;return}let r=this.consume(8),a=r.readUInt32BE(0);if(a>Math.pow(2,21)-1){let s=this.createError(RangeError,"Unsupported WebSocket frame: payload length > 2^53 - 1",!1,1009,"WS_ERR_UNSUPPORTED_DATA_PAYLOAD_LENGTH");e(s);return}this._payloadLength=a*Math.pow(2,32)+r.readUInt32BE(4),this.haveLength(e)}haveLength(e){if(this._payloadLength&&this._opcode<8&&(this._totalPayloadLength+=this._payloadLength,this._totalPayloadLength>this._maxPayload&&this._maxPayload>0)){let r=this.createError(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH");e(r);return}this._masked?this._state=OO:this._state=Hv}getMask(){if(this._bufferedBytes<4){this._loop=!1;return}this._mask=this.consume(4),this._state=Hv}getData(e){let r=PO;if(this._payloadLength){if(this._bufferedBytes<this._payloadLength){this._loop=!1;return}r=this.consume(this._payloadLength),this._masked&&(this._mask[0]|this._mask[1]|this._mask[2]|this._mask[3])!==0&&MH(r,this._mask)}if(this._opcode>7){this.controlMessage(r,e);return}if(this._compressed){this._state=Gv,this.decompress(r,e);return}r.length&&(this._messageLength=this._totalPayloadLength,this._fragments.push(r)),this.dataMessage(e)}decompress(e,r){this._extensions[EO.extensionName].decompress(e,this._fin,(s,i)=>{if(s)return r(s);if(i.length){if(this._messageLength+=i.length,this._messageLength>this._maxPayload&&this._maxPayload>0){let n=this.createError(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH");r(n);return}this._fragments.push(i)}this.dataMessage(r),this._state===Vr&&this.startLoop(r)})}dataMessage(e){if(!this._fin){this._state=Vr;return}let r=this._messageLength,a=this._fragments;if(this._totalPayloadLength=0,this._messageLength=0,this._fragmented=0,this._fragments=[],this._opcode===2){let s;this._binaryType==="nodebuffer"?s=Vv(a,r):this._binaryType==="arraybuffer"?s=qH(Vv(a,r)):this._binaryType==="blob"?s=new Blob(a):s=a,this._allowSynchronousEvents?(this.emit("message",s,!0),this._state=Vr):(this._state=kd,setImmediate(()=>{this.emit("message",s,!0),this._state=Vr,this.startLoop(e)}))}else{let s=Vv(a,r);if(!this._skipUTF8Validation&&!RO(s)){let i=this.createError(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");e(i);return}this._state===Gv||this._allowSynchronousEvents?(this.emit("message",s,!1),this._state=Vr):(this._state=kd,setImmediate(()=>{this.emit("message",s,!1),this._state=Vr,this.startLoop(e)}))}}controlMessage(e,r){if(this._opcode===8){if(e.length===0)this._loop=!1,this.emit("conclude",1005,PO),this.end();else{let a=e.readUInt16BE(0);if(!UH(a)){let i=this.createError(RangeError,`invalid status code ${a}`,!0,1002,"WS_ERR_INVALID_CLOSE_CODE");r(i);return}let s=new Ad(e.buffer,e.byteOffset+2,e.length-2);if(!this._skipUTF8Validation&&!RO(s)){let i=this.createError(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");r(i);return}this._loop=!1,this.emit("conclude",a,s),this.end()}this._state=Vr;return}this._allowSynchronousEvents?(this.emit(this._opcode===9?"ping":"pong",e),this._state=Vr):(this._state=kd,setImmediate(()=>{this.emit(this._opcode===9?"ping":"pong",e),this._state=Vr,this.startLoop(r)}))}createError(e,r,a,s,i){this._loop=!1,this._errored=!0;let n=new e(a?`Invalid WebSocket frame: ${r}`:r);return Error.captureStackTrace(n,this.createError),n.code=i,n[LH]=s,n}};IO.exports=Wv});var Yv=j((hae,jO)=>{"use strict";var{Duplex:mae}=require("stream"),{randomFillSync:zH}=require("crypto"),AO=yc(),{EMPTY_BUFFER:BH,kWebSocket:ZH,NOOP:VH}=Ka(),{isBlob:eo,isValidStatusCode:HH}=Xi(),{mask:kO,toBuffer:qn}=vc(),Hr=Symbol("kByteLength"),GH=Buffer.alloc(4),jd=8*1024,Mn,to=jd,ca=0,WH=1,KH=2,Jv=class t{constructor(e,r,a){this._extensions=r||{},a&&(this._generateMask=a,this._maskBuffer=Buffer.alloc(4)),this._socket=e,this._firstFragment=!0,this._compress=!1,this._bufferedBytes=0,this._queue=[],this._state=ca,this.onerror=VH,this[ZH]=void 0}static frame(e,r){let a,s=!1,i=2,n=!1;r.mask&&(a=r.maskBuffer||GH,r.generateMask?r.generateMask(a):(to===jd&&(Mn===void 0&&(Mn=Buffer.alloc(jd)),zH(Mn,0,jd),to=0),a[0]=Mn[to++],a[1]=Mn[to++],a[2]=Mn[to++],a[3]=Mn[to++]),n=(a[0]|a[1]|a[2]|a[3])===0,i=6);let o;typeof e=="string"?(!r.mask||n)&&r[Hr]!==void 0?o=r[Hr]:(e=Buffer.from(e),o=e.length):(o=e.length,s=r.mask&&r.readOnly&&!n);let l=o;o>=65536?(i+=8,l=127):o>125&&(i+=2,l=126);let c=Buffer.allocUnsafe(s?o+i:i);return c[0]=r.fin?r.opcode|128:r.opcode,r.rsv1&&(c[0]|=64),c[1]=l,l===126?c.writeUInt16BE(o,2):l===127&&(c[2]=c[3]=0,c.writeUIntBE(o,4,6)),r.mask?(c[1]|=128,c[i-4]=a[0],c[i-3]=a[1],c[i-2]=a[2],c[i-1]=a[3],n?[c,e]:s?(kO(e,a,c,i,o),[c]):(kO(e,a,e,0,o),[c,e])):[c,e]}close(e,r,a,s){let i;if(e===void 0)i=BH;else{if(typeof e!="number"||!HH(e))throw new TypeError("First argument must be a valid error code number");if(r===void 0||!r.length)i=Buffer.allocUnsafe(2),i.writeUInt16BE(e,0);else{let o=Buffer.byteLength(r);if(o>123)throw new RangeError("The message must not be greater than 123 bytes");i=Buffer.allocUnsafe(2+o),i.writeUInt16BE(e,0),typeof r=="string"?i.write(r,2):i.set(r,2)}}let n={[Hr]:i.length,fin:!0,generateMask:this._generateMask,mask:a,maskBuffer:this._maskBuffer,opcode:8,readOnly:!1,rsv1:!1};this._state!==ca?this.enqueue([this.dispatch,i,!1,n,s]):this.sendFrame(t.frame(i,n),s)}ping(e,r,a){let s,i;if(typeof e=="string"?(s=Buffer.byteLength(e),i=!1):eo(e)?(s=e.size,i=!1):(e=qn(e),s=e.length,i=qn.readOnly),s>125)throw new RangeError("The data size must not be greater than 125 bytes");let n={[Hr]:s,fin:!0,generateMask:this._generateMask,mask:r,maskBuffer:this._maskBuffer,opcode:9,readOnly:i,rsv1:!1};eo(e)?this._state!==ca?this.enqueue([this.getBlobData,e,!1,n,a]):this.getBlobData(e,!1,n,a):this._state!==ca?this.enqueue([this.dispatch,e,!1,n,a]):this.sendFrame(t.frame(e,n),a)}pong(e,r,a){let s,i;if(typeof e=="string"?(s=Buffer.byteLength(e),i=!1):eo(e)?(s=e.size,i=!1):(e=qn(e),s=e.length,i=qn.readOnly),s>125)throw new RangeError("The data size must not be greater than 125 bytes");let n={[Hr]:s,fin:!0,generateMask:this._generateMask,mask:r,maskBuffer:this._maskBuffer,opcode:10,readOnly:i,rsv1:!1};eo(e)?this._state!==ca?this.enqueue([this.getBlobData,e,!1,n,a]):this.getBlobData(e,!1,n,a):this._state!==ca?this.enqueue([this.dispatch,e,!1,n,a]):this.sendFrame(t.frame(e,n),a)}send(e,r,a){let s=this._extensions[AO.extensionName],i=r.binary?2:1,n=r.compress,o,l;typeof e=="string"?(o=Buffer.byteLength(e),l=!1):eo(e)?(o=e.size,l=!1):(e=qn(e),o=e.length,l=qn.readOnly),this._firstFragment?(this._firstFragment=!1,n&&s&&s.params[s._isServer?"server_no_context_takeover":"client_no_context_takeover"]&&(n=o>=s._threshold),this._compress=n):(n=!1,i=0),r.fin&&(this._firstFragment=!0);let c={[Hr]:o,fin:r.fin,generateMask:this._generateMask,mask:r.mask,maskBuffer:this._maskBuffer,opcode:i,readOnly:l,rsv1:n};eo(e)?this._state!==ca?this.enqueue([this.getBlobData,e,this._compress,c,a]):this.getBlobData(e,this._compress,c,a):this._state!==ca?this.enqueue([this.dispatch,e,this._compress,c,a]):this.dispatch(e,this._compress,c,a)}getBlobData(e,r,a,s){this._bufferedBytes+=a[Hr],this._state=KH,e.arrayBuffer().then(i=>{if(this._socket.destroyed){let o=new Error("The socket was closed while the blob was being read");process.nextTick(Qv,this,o,s);return}this._bufferedBytes-=a[Hr];let n=qn(i);r?this.dispatch(n,r,a,s):(this._state=ca,this.sendFrame(t.frame(n,a),s),this.dequeue())}).catch(i=>{process.nextTick(JH,this,i,s)})}dispatch(e,r,a,s){if(!r){this.sendFrame(t.frame(e,a),s);return}let i=this._extensions[AO.extensionName];this._bufferedBytes+=a[Hr],this._state=WH,i.compress(e,a.fin,(n,o)=>{if(this._socket.destroyed){let l=new Error("The socket was closed while data was being compressed");Qv(this,l,s);return}this._bufferedBytes-=a[Hr],this._state=ca,a.readOnly=!1,this.sendFrame(t.frame(o,a),s),this.dequeue()})}dequeue(){for(;this._state===ca&&this._queue.length;){let e=this._queue.shift();this._bufferedBytes-=e[3][Hr],Reflect.apply(e[0],this,e.slice(1))}}enqueue(e){this._bufferedBytes+=e[3][Hr],this._queue.push(e)}sendFrame(e,r){e.length===2?(this._socket.cork(),this._socket.write(e[0]),this._socket.write(e[1],r),this._socket.uncork()):this._socket.write(e[0],r)}};jO.exports=Jv;function Qv(t,e,r){typeof r=="function"&&r(e);for(let a=0;a<t._queue.length;a++){let s=t._queue[a],i=s[s.length-1];typeof i=="function"&&i(e)}}function JH(t,e,r){Qv(t,e,r),t.onerror(e)}});var zO=j((vae,UO)=>{"use strict";var{kForOnEventAttribute:xc,kListener:Xv}=Ka(),DO=Symbol("kCode"),NO=Symbol("kData"),$O=Symbol("kError"),LO=Symbol("kMessage"),FO=Symbol("kReason"),ro=Symbol("kTarget"),qO=Symbol("kType"),MO=Symbol("kWasClean"),Qa=class{constructor(e){this[ro]=null,this[qO]=e}get target(){return this[ro]}get type(){return this[qO]}};Object.defineProperty(Qa.prototype,"target",{enumerable:!0});Object.defineProperty(Qa.prototype,"type",{enumerable:!0});var Un=class extends Qa{constructor(e,r={}){super(e),this[DO]=r.code===void 0?0:r.code,this[FO]=r.reason===void 0?"":r.reason,this[MO]=r.wasClean===void 0?!1:r.wasClean}get code(){return this[DO]}get reason(){return this[FO]}get wasClean(){return this[MO]}};Object.defineProperty(Un.prototype,"code",{enumerable:!0});Object.defineProperty(Un.prototype,"reason",{enumerable:!0});Object.defineProperty(Un.prototype,"wasClean",{enumerable:!0});var ao=class extends Qa{constructor(e,r={}){super(e),this[$O]=r.error===void 0?null:r.error,this[LO]=r.message===void 0?"":r.message}get error(){return this[$O]}get message(){return this[LO]}};Object.defineProperty(ao.prototype,"error",{enumerable:!0});Object.defineProperty(ao.prototype,"message",{enumerable:!0});var bc=class extends Qa{constructor(e,r={}){super(e),this[NO]=r.data===void 0?null:r.data}get data(){return this[NO]}};Object.defineProperty(bc.prototype,"data",{enumerable:!0});var QH={addEventListener(t,e,r={}){for(let s of this.listeners(t))if(!r[xc]&&s[Xv]===e&&!s[xc])return;let a;if(t==="message")a=function(i,n){let o=new bc("message",{data:n?i:i.toString()});o[ro]=this,Dd(e,this,o)};else if(t==="close")a=function(i,n){let o=new Un("close",{code:i,reason:n.toString(),wasClean:this._closeFrameReceived&&this._closeFrameSent});o[ro]=this,Dd(e,this,o)};else if(t==="error")a=function(i){let n=new ao("error",{error:i,message:i.message});n[ro]=this,Dd(e,this,n)};else if(t==="open")a=function(){let i=new Qa("open");i[ro]=this,Dd(e,this,i)};else return;a[xc]=!!r[xc],a[Xv]=e,r.once?this.once(t,a):this.on(t,a)},removeEventListener(t,e){for(let r of this.listeners(t))if(r[Xv]===e&&!r[xc]){this.removeListener(t,r);break}}};UO.exports={CloseEvent:Un,ErrorEvent:ao,Event:Qa,EventTarget:QH,MessageEvent:bc};function Dd(t,e,r){typeof t=="object"&&t.handleEvent?t.handleEvent.call(t,r):t.call(e,r)}});var eg=j((gae,BO)=>{"use strict";var{tokenChars:_c}=Xi();function Pa(t,e,r){t[e]===void 0?t[e]=[r]:t[e].push(r)}function YH(t){let e=Object.create(null),r=Object.create(null),a=!1,s=!1,i=!1,n,o,l=-1,c=-1,u=-1,d=0;for(;d<t.length;d++)if(c=t.charCodeAt(d),n===void 0)if(u===-1&&_c[c]===1)l===-1&&(l=d);else if(d!==0&&(c===32||c===9))u===-1&&l!==-1&&(u=d);else if(c===59||c===44){if(l===-1)throw new SyntaxError(`Unexpected character at index ${d}`);u===-1&&(u=d);let p=t.slice(l,u);c===44?(Pa(e,p,r),r=Object.create(null)):n=p,l=u=-1}else throw new SyntaxError(`Unexpected character at index ${d}`);else if(o===void 0)if(u===-1&&_c[c]===1)l===-1&&(l=d);else if(c===32||c===9)u===-1&&l!==-1&&(u=d);else if(c===59||c===44){if(l===-1)throw new SyntaxError(`Unexpected character at index ${d}`);u===-1&&(u=d),Pa(r,t.slice(l,u),!0),c===44&&(Pa(e,n,r),r=Object.create(null),n=void 0),l=u=-1}else if(c===61&&l!==-1&&u===-1)o=t.slice(l,d),l=u=-1;else throw new SyntaxError(`Unexpected character at index ${d}`);else if(s){if(_c[c]!==1)throw new SyntaxError(`Unexpected character at index ${d}`);l===-1?l=d:a||(a=!0),s=!1}else if(i)if(_c[c]===1)l===-1&&(l=d);else if(c===34&&l!==-1)i=!1,u=d;else if(c===92)s=!0;else throw new SyntaxError(`Unexpected character at index ${d}`);else if(c===34&&t.charCodeAt(d-1)===61)i=!0;else if(u===-1&&_c[c]===1)l===-1&&(l=d);else if(l!==-1&&(c===32||c===9))u===-1&&(u=d);else if(c===59||c===44){if(l===-1)throw new SyntaxError(`Unexpected character at index ${d}`);u===-1&&(u=d);let p=t.slice(l,u);a&&(p=p.replace(/\\/g,""),a=!1),Pa(r,o,p),c===44&&(Pa(e,n,r),r=Object.create(null),n=void 0),o=void 0,l=u=-1}else throw new SyntaxError(`Unexpected character at index ${d}`);if(l===-1||i||c===32||c===9)throw new SyntaxError("Unexpected end of input");u===-1&&(u=d);let h=t.slice(l,u);return n===void 0?Pa(e,h,r):(o===void 0?Pa(r,h,!0):a?Pa(r,o,h.replace(/\\/g,"")):Pa(r,o,h),Pa(e,n,r)),e}function XH(t){return Object.keys(t).map(e=>{let r=t[e];return Array.isArray(r)||(r=[r]),r.map(a=>[e].concat(Object.keys(a).map(s=>{let i=a[s];return Array.isArray(i)||(i=[i]),i.map(n=>n===!0?s:`${s}=${n}`).join("; ")})).join("; ")).join(", ")}).join(", ")}BO.exports={format:XH,parse:YH}});var Fd=j((bae,t1)=>{"use strict";var e6=require("events"),t6=require("https"),r6=require("http"),HO=require("net"),a6=require("tls"),{randomBytes:s6,createHash:n6}=require("crypto"),{Duplex:yae,Readable:xae}=require("stream"),{URL:tg}=require("url"),Is=yc(),i6=Kv(),o6=Yv(),{isBlob:c6}=Xi(),{BINARY_TYPES:ZO,EMPTY_BUFFER:Nd,GUID:l6,kForOnEventAttribute:rg,kListener:u6,kStatusCode:d6,kWebSocket:Nt,NOOP:GO}=Ka(),{EventTarget:{addEventListener:p6,removeEventListener:f6}}=zO(),{format:m6,parse:h6}=eg(),{toBuffer:v6}=vc(),g6=30*1e3,WO=Symbol("kAborted"),ag=[8,13],Ya=["CONNECTING","OPEN","CLOSING","CLOSED"],y6=/^[!#$%&'*+\-.0-9A-Z^_`|a-z~]+$/,bt=class t extends e6{constructor(e,r,a){super(),this._binaryType=ZO[0],this._closeCode=1006,this._closeFrameReceived=!1,this._closeFrameSent=!1,this._closeMessage=Nd,this._closeTimer=null,this._errorEmitted=!1,this._extensions={},this._paused=!1,this._protocol="",this._readyState=t.CONNECTING,this._receiver=null,this._sender=null,this._socket=null,e!==null?(this._bufferedAmount=0,this._isServer=!1,this._redirects=0,r===void 0?r=[]:Array.isArray(r)||(typeof r=="object"&&r!==null?(a=r,r=[]):r=[r]),KO(this,e,r,a)):(this._autoPong=a.autoPong,this._isServer=!0)}get binaryType(){return this._binaryType}set binaryType(e){ZO.includes(e)&&(this._binaryType=e,this._receiver&&(this._receiver._binaryType=e))}get bufferedAmount(){return this._socket?this._socket._writableState.length+this._sender._bufferedBytes:this._bufferedAmount}get extensions(){return Object.keys(this._extensions).join()}get isPaused(){return this._paused}get onclose(){return null}get onerror(){return null}get onopen(){return null}get onmessage(){return null}get protocol(){return this._protocol}get readyState(){return this._readyState}get url(){return this._url}setSocket(e,r,a){let s=new i6({allowSynchronousEvents:a.allowSynchronousEvents,binaryType:this.binaryType,extensions:this._extensions,isServer:this._isServer,maxPayload:a.maxPayload,skipUTF8Validation:a.skipUTF8Validation}),i=new o6(e,this._extensions,a.generateMask);this._receiver=s,this._sender=i,this._socket=e,s[Nt]=this,i[Nt]=this,e[Nt]=this,s.on("conclude",_6),s.on("drain",w6),s.on("error",S6),s.on("message",E6),s.on("ping",P6),s.on("pong",R6),i.onerror=C6,e.setTimeout&&e.setTimeout(0),e.setNoDelay&&e.setNoDelay(),r.length>0&&e.unshift(r),e.on("close",YO),e.on("data",Ld),e.on("end",XO),e.on("error",e1),this._readyState=t.OPEN,this.emit("open")}emitClose(){if(!this._socket){this._readyState=t.CLOSED,this.emit("close",this._closeCode,this._closeMessage);return}this._extensions[Is.extensionName]&&this._extensions[Is.extensionName].cleanup(),this._receiver.removeAllListeners(),this._readyState=t.CLOSED,this.emit("close",this._closeCode,this._closeMessage)}close(e,r){if(this.readyState!==t.CLOSED){if(this.readyState===t.CONNECTING){Rr(this,this._req,"WebSocket was closed before the connection was established");return}if(this.readyState===t.CLOSING){this._closeFrameSent&&(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end();return}this._readyState=t.CLOSING,this._sender.close(e,r,!this._isServer,a=>{a||(this._closeFrameSent=!0,(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end())}),QO(this)}}pause(){this.readyState===t.CONNECTING||this.readyState===t.CLOSED||(this._paused=!0,this._socket.pause())}ping(e,r,a){if(this.readyState===t.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof e=="function"?(a=e,e=r=void 0):typeof r=="function"&&(a=r,r=void 0),typeof e=="number"&&(e=e.toString()),this.readyState!==t.OPEN){sg(this,e,a);return}r===void 0&&(r=!this._isServer),this._sender.ping(e||Nd,r,a)}pong(e,r,a){if(this.readyState===t.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof e=="function"?(a=e,e=r=void 0):typeof r=="function"&&(a=r,r=void 0),typeof e=="number"&&(e=e.toString()),this.readyState!==t.OPEN){sg(this,e,a);return}r===void 0&&(r=!this._isServer),this._sender.pong(e||Nd,r,a)}resume(){this.readyState===t.CONNECTING||this.readyState===t.CLOSED||(this._paused=!1,this._receiver._writableState.needDrain||this._socket.resume())}send(e,r,a){if(this.readyState===t.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof r=="function"&&(a=r,r={}),typeof e=="number"&&(e=e.toString()),this.readyState!==t.OPEN){sg(this,e,a);return}let s={binary:typeof e!="string",mask:!this._isServer,compress:!0,fin:!0,...r};this._extensions[Is.extensionName]||(s.compress=!1),this._sender.send(e||Nd,s,a)}terminate(){if(this.readyState!==t.CLOSED){if(this.readyState===t.CONNECTING){Rr(this,this._req,"WebSocket was closed before the connection was established");return}this._socket&&(this._readyState=t.CLOSING,this._socket.destroy())}}};Object.defineProperty(bt,"CONNECTING",{enumerable:!0,value:Ya.indexOf("CONNECTING")});Object.defineProperty(bt.prototype,"CONNECTING",{enumerable:!0,value:Ya.indexOf("CONNECTING")});Object.defineProperty(bt,"OPEN",{enumerable:!0,value:Ya.indexOf("OPEN")});Object.defineProperty(bt.prototype,"OPEN",{enumerable:!0,value:Ya.indexOf("OPEN")});Object.defineProperty(bt,"CLOSING",{enumerable:!0,value:Ya.indexOf("CLOSING")});Object.defineProperty(bt.prototype,"CLOSING",{enumerable:!0,value:Ya.indexOf("CLOSING")});Object.defineProperty(bt,"CLOSED",{enumerable:!0,value:Ya.indexOf("CLOSED")});Object.defineProperty(bt.prototype,"CLOSED",{enumerable:!0,value:Ya.indexOf("CLOSED")});["binaryType","bufferedAmount","extensions","isPaused","protocol","readyState","url"].forEach(t=>{Object.defineProperty(bt.prototype,t,{enumerable:!0})});["open","error","close","message"].forEach(t=>{Object.defineProperty(bt.prototype,`on${t}`,{enumerable:!0,get(){for(let e of this.listeners(t))if(e[rg])return e[u6];return null},set(e){for(let r of this.listeners(t))if(r[rg]){this.removeListener(t,r);break}typeof e=="function"&&this.addEventListener(t,e,{[rg]:!0})}})});bt.prototype.addEventListener=p6;bt.prototype.removeEventListener=f6;t1.exports=bt;function KO(t,e,r,a){let s={allowSynchronousEvents:!0,autoPong:!0,protocolVersion:ag[1],maxPayload:104857600,skipUTF8Validation:!1,perMessageDeflate:!0,followRedirects:!1,maxRedirects:10,...a,socketPath:void 0,hostname:void 0,protocol:void 0,timeout:void 0,method:"GET",host:void 0,path:void 0,port:void 0};if(t._autoPong=s.autoPong,!ag.includes(s.protocolVersion))throw new RangeError(`Unsupported protocol version: ${s.protocolVersion} (supported versions: ${ag.join(", ")})`);let i;if(e instanceof tg)i=e;else try{i=new tg(e)}catch{throw new SyntaxError(`Invalid URL: ${e}`)}i.protocol==="http:"?i.protocol="ws:":i.protocol==="https:"&&(i.protocol="wss:"),t._url=i.href;let n=i.protocol==="wss:",o=i.protocol==="ws+unix:",l;if(i.protocol!=="ws:"&&!n&&!o?l=`The URL's protocol must be one of "ws:", "wss:", "http:", "https:", or "ws+unix:"`:o&&!i.pathname?l="The URL's pathname is empty":i.hash&&(l="The URL contains a fragment identifier"),l){let f=new SyntaxError(l);if(t._redirects===0)throw f;$d(t,f);return}let c=n?443:80,u=s6(16).toString("base64"),d=n?t6.request:r6.request,h=new Set,p;if(s.createConnection=s.createConnection||(n?b6:x6),s.defaultPort=s.defaultPort||c,s.port=i.port||c,s.host=i.hostname.startsWith("[")?i.hostname.slice(1,-1):i.hostname,s.headers={...s.headers,"Sec-WebSocket-Version":s.protocolVersion,"Sec-WebSocket-Key":u,Connection:"Upgrade",Upgrade:"websocket"},s.path=i.pathname+i.search,s.timeout=s.handshakeTimeout,s.perMessageDeflate&&(p=new Is(s.perMessageDeflate!==!0?s.perMessageDeflate:{},!1,s.maxPayload),s.headers["Sec-WebSocket-Extensions"]=m6({[Is.extensionName]:p.offer()})),r.length){for(let f of r){if(typeof f!="string"||!y6.test(f)||h.has(f))throw new SyntaxError("An invalid or duplicated subprotocol was specified");h.add(f)}s.headers["Sec-WebSocket-Protocol"]=r.join(",")}if(s.origin&&(s.protocolVersion<13?s.headers["Sec-WebSocket-Origin"]=s.origin:s.headers.Origin=s.origin),(i.username||i.password)&&(s.auth=`${i.username}:${i.password}`),o){let f=s.path.split(":");s.socketPath=f[0],s.path=f[1]}let m;if(s.followRedirects){if(t._redirects===0){t._originalIpc=o,t._originalSecure=n,t._originalHostOrSocketPath=o?s.socketPath:i.host;let f=a&&a.headers;if(a={...a,headers:{}},f)for(let[v,g]of Object.entries(f))a.headers[v.toLowerCase()]=g}else if(t.listenerCount("redirect")===0){let f=o?t._originalIpc?s.socketPath===t._originalHostOrSocketPath:!1:t._originalIpc?!1:i.host===t._originalHostOrSocketPath;(!f||t._originalSecure&&!n)&&(delete s.headers.authorization,delete s.headers.cookie,f||delete s.headers.host,s.auth=void 0)}s.auth&&!a.headers.authorization&&(a.headers.authorization="Basic "+Buffer.from(s.auth).toString("base64")),m=t._req=d(s),t._redirects&&t.emit("redirect",t.url,m)}else m=t._req=d(s);s.timeout&&m.on("timeout",()=>{Rr(t,m,"Opening handshake has timed out")}),m.on("error",f=>{m===null||m[WO]||(m=t._req=null,$d(t,f))}),m.on("response",f=>{let v=f.headers.location,g=f.statusCode;if(v&&s.followRedirects&&g>=300&&g<400){if(++t._redirects>s.maxRedirects){Rr(t,m,"Maximum redirects exceeded");return}m.abort();let b;try{b=new tg(v,e)}catch{let C=new SyntaxError(`Invalid URL: ${v}`);$d(t,C);return}KO(t,b,r,a)}else t.emit("unexpected-response",m,f)||Rr(t,m,`Unexpected server response: ${f.statusCode}`)}),m.on("upgrade",(f,v,g)=>{if(t.emit("upgrade",f),t.readyState!==bt.CONNECTING)return;m=t._req=null;let b=f.headers.upgrade;if(b===void 0||b.toLowerCase()!=="websocket"){Rr(t,v,"Invalid Upgrade header");return}let w=n6("sha1").update(u+l6).digest("base64");if(f.headers["sec-websocket-accept"]!==w){Rr(t,v,"Invalid Sec-WebSocket-Accept header");return}let C=f.headers["sec-websocket-protocol"],T;if(C!==void 0?h.size?h.has(C)||(T="Server sent an invalid subprotocol"):T="Server sent a subprotocol but none was requested":h.size&&(T="Server sent no subprotocol"),T){Rr(t,v,T);return}C&&(t._protocol=C);let R=f.headers["sec-websocket-extensions"];if(R!==void 0){if(!p){Rr(t,v,"Server sent a Sec-WebSocket-Extensions header but no extension was requested");return}let O;try{O=h6(R)}catch{Rr(t,v,"Invalid Sec-WebSocket-Extensions header");return}let L=Object.keys(O);if(L.length!==1||L[0]!==Is.extensionName){Rr(t,v,"Server indicated an extension that was not requested");return}try{p.accept(O[Is.extensionName])}catch{Rr(t,v,"Invalid Sec-WebSocket-Extensions header");return}t._extensions[Is.extensionName]=p}t.setSocket(v,g,{allowSynchronousEvents:s.allowSynchronousEvents,generateMask:s.generateMask,maxPayload:s.maxPayload,skipUTF8Validation:s.skipUTF8Validation})}),s.finishRequest?s.finishRequest(m,t):m.end()}function $d(t,e){t._readyState=bt.CLOSING,t._errorEmitted=!0,t.emit("error",e),t.emitClose()}function x6(t){return t.path=t.socketPath,HO.connect(t)}function b6(t){return t.path=void 0,!t.servername&&t.servername!==""&&(t.servername=HO.isIP(t.host)?"":t.host),a6.connect(t)}function Rr(t,e,r){t._readyState=bt.CLOSING;let a=new Error(r);Error.captureStackTrace(a,Rr),e.setHeader?(e[WO]=!0,e.abort(),e.socket&&!e.socket.destroyed&&e.socket.destroy(),process.nextTick($d,t,a)):(e.destroy(a),e.once("error",t.emit.bind(t,"error")),e.once("close",t.emitClose.bind(t)))}function sg(t,e,r){if(e){let a=c6(e)?e.size:v6(e).length;t._socket?t._sender._bufferedBytes+=a:t._bufferedAmount+=a}if(r){let a=new Error(`WebSocket is not open: readyState ${t.readyState} (${Ya[t.readyState]})`);process.nextTick(r,a)}}function _6(t,e){let r=this[Nt];r._closeFrameReceived=!0,r._closeMessage=e,r._closeCode=t,r._socket[Nt]!==void 0&&(r._socket.removeListener("data",Ld),process.nextTick(JO,r._socket),t===1005?r.close():r.close(t,e))}function w6(){let t=this[Nt];t.isPaused||t._socket.resume()}function S6(t){let e=this[Nt];e._socket[Nt]!==void 0&&(e._socket.removeListener("data",Ld),process.nextTick(JO,e._socket),e.close(t[d6])),e._errorEmitted||(e._errorEmitted=!0,e.emit("error",t))}function VO(){this[Nt].emitClose()}function E6(t,e){this[Nt].emit("message",t,e)}function P6(t){let e=this[Nt];e._autoPong&&e.pong(t,!this._isServer,GO),e.emit("ping",t)}function R6(t){this[Nt].emit("pong",t)}function JO(t){t.resume()}function C6(t){let e=this[Nt];e.readyState!==bt.CLOSED&&(e.readyState===bt.OPEN&&(e._readyState=bt.CLOSING,QO(e)),this._socket.end(),e._errorEmitted||(e._errorEmitted=!0,e.emit("error",t)))}function QO(t){t._closeTimer=setTimeout(t._socket.destroy.bind(t._socket),g6)}function YO(){let t=this[Nt];this.removeListener("close",YO),this.removeListener("data",Ld),this.removeListener("end",XO),t._readyState=bt.CLOSING;let e;!this._readableState.endEmitted&&!t._closeFrameReceived&&!t._receiver._writableState.errorEmitted&&(e=t._socket.read())!==null&&t._receiver.write(e),t._receiver.end(),this[Nt]=void 0,clearTimeout(t._closeTimer),t._receiver._writableState.finished||t._receiver._writableState.errorEmitted?t.emitClose():(t._receiver.on("error",VO),t._receiver.on("finish",VO))}function Ld(t){this[Nt]._receiver.write(t)||this.pause()}function XO(){let t=this[Nt];t._readyState=bt.CLOSING,t._receiver.end(),this.end()}function e1(){let t=this[Nt];this.removeListener("error",e1),this.on("error",GO),t&&(t._readyState=bt.CLOSING,this.destroy())}});var n1=j((wae,s1)=>{"use strict";var _ae=Fd(),{Duplex:T6}=require("stream");function r1(t){t.emit("close")}function O6(){!this.destroyed&&this._writableState.finished&&this.destroy()}function a1(t){this.removeListener("error",a1),this.destroy(),this.listenerCount("error")===0&&this.emit("error",t)}function I6(t,e){let r=!0,a=new T6({...e,autoDestroy:!1,emitClose:!1,objectMode:!1,writableObjectMode:!1});return t.on("message",function(i,n){let o=!n&&a._readableState.objectMode?i.toString():i;a.push(o)||t.pause()}),t.once("error",function(i){a.destroyed||(r=!1,a.destroy(i))}),t.once("close",function(){a.destroyed||a.push(null)}),a._destroy=function(s,i){if(t.readyState===t.CLOSED){i(s),process.nextTick(r1,a);return}let n=!1;t.once("error",function(l){n=!0,i(l)}),t.once("close",function(){n||i(s),process.nextTick(r1,a)}),r&&t.terminate()},a._final=function(s){if(t.readyState===t.CONNECTING){t.once("open",function(){a._final(s)});return}t._socket!==null&&(t._socket._writableState.finished?(s(),a._readableState.endEmitted&&a.destroy()):(t._socket.once("finish",function(){s()}),t.close()))},a._read=function(){t.isPaused&&t.resume()},a._write=function(s,i,n){if(t.readyState===t.CONNECTING){t.once("open",function(){a._write(s,i,n)});return}t.send(s,n)},a.on("end",O6),a.on("error",a1),a}s1.exports=I6});var o1=j((Sae,i1)=>{"use strict";var{tokenChars:A6}=Xi();function k6(t){let e=new Set,r=-1,a=-1,s=0;for(s;s<t.length;s++){let n=t.charCodeAt(s);if(a===-1&&A6[n]===1)r===-1&&(r=s);else if(s!==0&&(n===32||n===9))a===-1&&r!==-1&&(a=s);else if(n===44){if(r===-1)throw new SyntaxError(`Unexpected character at index ${s}`);a===-1&&(a=s);let o=t.slice(r,a);if(e.has(o))throw new SyntaxError(`The "${o}" subprotocol is duplicated`);e.add(o),r=a=-1}else throw new SyntaxError(`Unexpected character at index ${s}`)}if(r===-1||a!==-1)throw new SyntaxError("Unexpected end of input");let i=t.slice(r,s);if(e.has(i))throw new SyntaxError(`The "${i}" subprotocol is duplicated`);return e.add(i),e}i1.exports={parse:k6}});var m1=j((Pae,f1)=>{"use strict";var j6=require("events"),qd=require("http"),{Duplex:Eae}=require("stream"),{createHash:D6}=require("crypto"),c1=eg(),zn=yc(),N6=o1(),$6=Fd(),{GUID:L6,kWebSocket:F6}=Ka(),q6=/^[+/0-9A-Za-z]{22}==$/,l1=0,u1=1,p1=2,ng=class extends j6{constructor(e,r){if(super(),e={allowSynchronousEvents:!0,autoPong:!0,maxPayload:100*1024*1024,skipUTF8Validation:!1,perMessageDeflate:!1,handleProtocols:null,clientTracking:!0,verifyClient:null,noServer:!1,backlog:null,server:null,host:null,path:null,port:null,WebSocket:$6,...e},e.port==null&&!e.server&&!e.noServer||e.port!=null&&(e.server||e.noServer)||e.server&&e.noServer)throw new TypeError('One and only one of the "port", "server", or "noServer" options must be specified');if(e.port!=null?(this._server=qd.createServer((a,s)=>{let i=qd.STATUS_CODES[426];s.writeHead(426,{"Content-Length":i.length,"Content-Type":"text/plain"}),s.end(i)}),this._server.listen(e.port,e.host,e.backlog,r)):e.server&&(this._server=e.server),this._server){let a=this.emit.bind(this,"connection");this._removeListeners=M6(this._server,{listening:this.emit.bind(this,"listening"),error:this.emit.bind(this,"error"),upgrade:(s,i,n)=>{this.handleUpgrade(s,i,n,a)}})}e.perMessageDeflate===!0&&(e.perMessageDeflate={}),e.clientTracking&&(this.clients=new Set,this._shouldEmitClose=!1),this.options=e,this._state=l1}address(){if(this.options.noServer)throw new Error('The server is operating in "noServer" mode');return this._server?this._server.address():null}close(e){if(this._state===p1){e&&this.once("close",()=>{e(new Error("The server is not running"))}),process.nextTick(wc,this);return}if(e&&this.once("close",e),this._state!==u1)if(this._state=u1,this.options.noServer||this.options.server)this._server&&(this._removeListeners(),this._removeListeners=this._server=null),this.clients?this.clients.size?this._shouldEmitClose=!0:process.nextTick(wc,this):process.nextTick(wc,this);else{let r=this._server;this._removeListeners(),this._removeListeners=this._server=null,r.close(()=>{wc(this)})}}shouldHandle(e){if(this.options.path){let r=e.url.indexOf("?");if((r!==-1?e.url.slice(0,r):e.url)!==this.options.path)return!1}return!0}handleUpgrade(e,r,a,s){r.on("error",d1);let i=e.headers["sec-websocket-key"],n=e.headers.upgrade,o=+e.headers["sec-websocket-version"];if(e.method!=="GET"){Bn(this,e,r,405,"Invalid HTTP method");return}if(n===void 0||n.toLowerCase()!=="websocket"){Bn(this,e,r,400,"Invalid Upgrade header");return}if(i===void 0||!q6.test(i)){Bn(this,e,r,400,"Missing or invalid Sec-WebSocket-Key header");return}if(o!==13&&o!==8){Bn(this,e,r,400,"Missing or invalid Sec-WebSocket-Version header",{"Sec-WebSocket-Version":"13, 8"});return}if(!this.shouldHandle(e)){Sc(r,400);return}let l=e.headers["sec-websocket-protocol"],c=new Set;if(l!==void 0)try{c=N6.parse(l)}catch{Bn(this,e,r,400,"Invalid Sec-WebSocket-Protocol header");return}let u=e.headers["sec-websocket-extensions"],d={};if(this.options.perMessageDeflate&&u!==void 0){let h=new zn(this.options.perMessageDeflate,!0,this.options.maxPayload);try{let p=c1.parse(u);p[zn.extensionName]&&(h.accept(p[zn.extensionName]),d[zn.extensionName]=h)}catch{Bn(this,e,r,400,"Invalid or unacceptable Sec-WebSocket-Extensions header");return}}if(this.options.verifyClient){let h={origin:e.headers[`${o===8?"sec-websocket-origin":"origin"}`],secure:!!(e.socket.authorized||e.socket.encrypted),req:e};if(this.options.verifyClient.length===2){this.options.verifyClient(h,(p,m,f,v)=>{if(!p)return Sc(r,m||401,f,v);this.completeUpgrade(d,i,c,e,r,a,s)});return}if(!this.options.verifyClient(h))return Sc(r,401)}this.completeUpgrade(d,i,c,e,r,a,s)}completeUpgrade(e,r,a,s,i,n,o){if(!i.readable||!i.writable)return i.destroy();if(i[F6])throw new Error("server.handleUpgrade() was called more than once with the same socket, possibly due to a misconfiguration");if(this._state>l1)return Sc(i,503);let c=["HTTP/1.1 101 Switching Protocols","Upgrade: websocket","Connection: Upgrade",`Sec-WebSocket-Accept: ${D6("sha1").update(r+L6).digest("base64")}`],u=new this.options.WebSocket(null,void 0,this.options);if(a.size){let d=this.options.handleProtocols?this.options.handleProtocols(a,s):a.values().next().value;d&&(c.push(`Sec-WebSocket-Protocol: ${d}`),u._protocol=d)}if(e[zn.extensionName]){let d=e[zn.extensionName].params,h=c1.format({[zn.extensionName]:[d]});c.push(`Sec-WebSocket-Extensions: ${h}`),u._extensions=e}this.emit("headers",c,s),i.write(c.concat(`\r
`).join(`\r
`)),i.removeListener("error",d1),u.setSocket(i,n,{allowSynchronousEvents:this.options.allowSynchronousEvents,maxPayload:this.options.maxPayload,skipUTF8Validation:this.options.skipUTF8Validation}),this.clients&&(this.clients.add(u),u.on("close",()=>{this.clients.delete(u),this._shouldEmitClose&&!this.clients.size&&process.nextTick(wc,this)})),o(u,s)}};f1.exports=ng;function M6(t,e){for(let r of Object.keys(e))t.on(r,e[r]);return function(){for(let a of Object.keys(e))t.removeListener(a,e[a])}}function wc(t){t._state=p1,t.emit("close")}function d1(){this.destroy()}function Sc(t,e,r,a){r=r||qd.STATUS_CODES[e],a={Connection:"close","Content-Type":"text/html","Content-Length":Buffer.byteLength(r),...a},t.once("finish",t.destroy),t.end(`HTTP/1.1 ${e} ${qd.STATUS_CODES[e]}\r
`+Object.keys(a).map(s=>`${s}: ${a[s]}`).join(`\r
`)+`\r
\r
`+r)}function Bn(t,e,r,a,s,i){if(t.listenerCount("wsClientError")){let n=new Error(s);Error.captureStackTrace(n,Bn),t.emit("wsClientError",n,r,e)}else Sc(r,a,s,i)}});var ig=j((Rae,h1)=>{"use strict";var Xa=Fd();Xa.createWebSocketStream=n1();Xa.Server=m1();Xa.Receiver=Kv();Xa.Sender=Yv();Xa.WebSocket=Xa;Xa.WebSocketServer=Xa.Server;h1.exports=Xa});var v1=j(so=>{"use strict";var U6=so&&so.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(so,"__esModule",{value:!0});so.WebSocketTransport=void 0;var Ec=U6(ig()),z6=lc(),og=class{ws;started=!1;opened;constructor(e){this.ws=e,this.opened=new Promise((r,a)=>{this.ws.readyState===Ec.default.OPEN?r():(this.ws.on("open",()=>{r()}),this.ws.on("error",s=>{a(s)}))}),this.ws.on("message",this.onMessageHandler),this.ws.on("error",this.onErrorHandler),this.ws.on("close",this.onCloseHandler)}onclose;onerror;onmessage;onMessageHandler=e=>{try{let r=JSON.parse(e.toString("utf-8")),a=z6.JSONRPCMessageSchema.parse(r);this.onmessage?.(a)}catch(r){this.onErrorHandler(r)}};onErrorHandler=e=>{this.onerror?.(e instanceof Error?e:new Error("Failed to process message"))};onCloseHandler=()=>{this.onclose?.(),this.ws.off("message",this.onMessageHandler),this.ws.off("error",this.onErrorHandler),this.ws.off("close",this.onCloseHandler)};async start(){if(this.started)throw new Error("Start can only be called once per transport.");if(await this.opened,this.ws.readyState!==Ec.default.OPEN)throw new Error("WebSocket is not open. Cannot start transport.");this.started=!0}async close(){(this.ws.readyState===Ec.default.OPEN||this.ws.readyState===Ec.default.CONNECTING)&&this.ws.close(),this.onCloseHandler()}async send(e){if(this.ws.readyState!==Ec.default.OPEN)throw new Error("WebSocket is not open. Cannot send message.");let r=JSON.stringify(e);try{await new Promise((a,s)=>{this.ws.send(r,i=>{i?s(i):a()})})}catch(a){throw this.onErrorHandler(a),a}}};so.WebSocketTransport=og});var x1=j(la=>{"use strict";var B6=la&&la.__createBinding||(Object.create?function(t,e,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(e,r);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,a,s)}:function(t,e,r,a){a===void 0&&(a=r),t[a]=e[r]}),Z6=la&&la.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),V6=la&&la.__importStar||function(){var t=function(e){return t=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},t(e)};return function(e){if(e&&e.__esModule)return e;var r={};if(e!=null)for(var a=t(e),s=0;s<a.length;s++)a[s]!=="default"&&B6(r,e,a[s]);return Z6(r,e),r}}();Object.defineProperty(la,"__esModule",{value:!0});la.getLastSelection=H6;la.setupSelectionChangeHandling=G6;la.setupAtMentionedHandling=W6;var g1=V6(require("vscode")),y1=Pd(),es=null;function H6(){return es}function G6(t,e){let r=null,a=g1.window.onDidChangeTextEditorSelection(s=>{let i=s.textEditor,n=i.selection,o=i.document,c={text:o.getText(n),filePath:o.uri.fsPath,fileUrl:o.uri.toString(),selection:{start:{line:n.start.line,character:n.start.character},end:{line:n.end.line,character:n.end.character},isEmpty:n.isEmpty}},u=!es||es.text!==c.text||es.filePath!==c.filePath||es.selection.start.line!==c.selection.start.line||es.selection.start.character!==c.selection.start.character||es.selection.end.line!==c.selection.end.line||es.selection.end.character!==c.selection.end.character;es=c;let d=e();u&&d&&t.server&&(r&&clearTimeout(r),r=setTimeout(()=>{let h=e();h&&(0,y1.sendSelectionChanged)(c,h)},300))});return{dispose:()=>{a.dispose(),r&&clearTimeout(r)}}}function W6(t,e,r){t(()=>{let a=g1.window.activeTextEditor;if(!a)return;let s=a.selection,i={filePath:a.document.uri.fsPath};s.isEmpty||(i.lineStart=s.start.line,i.lineEnd=s.end.line);let n=r();n&&e.server&&(0,y1.sendAtMentioned)(i,n)})}});var Pd=j(Cr=>{"use strict";var K6=Cr&&Cr.__createBinding||(Object.create?function(t,e,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(e,r);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,a,s)}:function(t,e,r,a){a===void 0&&(a=r),t[a]=e[r]}),J6=Cr&&Cr.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),w1=Cr&&Cr.__importStar||function(){var t=function(e){return t=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},t(e)};return function(e){if(e&&e.__esModule)return e;var r={};if(e!=null)for(var a=t(e),s=0;s<a.length;s++)a[s]!=="default"&&K6(r,e,a[s]);return J6(r,e),r}}();Object.defineProperty(Cr,"__esModule",{value:!0});Cr.createMcpServer=o5;Cr.startMcpServer=c5;Cr.closeAllDiffTabs=E1;Cr.sendSelectionChanged=R1;Cr.sendAtMentioned=u5;var Ra=w1(require("vscode")),Q6=require("crypto"),Y6=JT(),X6=w1(require("http")),Zn=tO(),e5=rO(),Ud=iO(),Yt=Va(),t5=lO(),b1=uO(),r5=Dv(),a5=ig(),s5=v1(),_1=mc(),Md=x1();function n5(){let t=Ra.env.appName,e;switch(t.toLowerCase()){case"visual studio code":e="Claude Code VSCode MCP";break;case"cursor":e="Claude Code Cursor MCP";break;case"windsurf":e="Claude Code Windsurf MCP";break;default:e=`Claude Code ${t} MCP`}return e}function i5(t,e,r,a){t.logged.event(s=>{let i=a();i&&e.server?P1(r,s,i):cg.push(s)})}function o5(t,e,r,a,s,i,n){let o=new Y6.McpServer({name:n5(),version:t.extension.packageJSON.version||"0.0.1"});o.tool("openDiff","Open a git diff for the file",{old_file_path:Yt.z.string().describe("Path to the file to show diff for. If not provided, uses active editor."),new_file_path:Yt.z.string().describe("Path to the file to show diff for. If not provided, uses active editor."),new_file_contents:Yt.z.string().describe("Contents of the new file. If not provided then the current file contents of new_file_path will be used."),tab_name:Yt.z.string().describe("Path to the file to show diff for. If not provided, uses active editor.")},async({old_file_path:b,new_file_path:w,new_file_contents:C,tab_name:T})=>{let R=[];try{return await(0,t5.openDiff)(a,e,r,b,w,C,T,s,R)}catch(O){throw a.error(`Error opening diff: ${O}`),O}finally{for(let O of R)O.dispose()}}),o.tool("getDiagnostics","Get language diagnostics from VS Code",{uri:Yt.z.string().optional().describe("Optional file URI to get diagnostics for. If not provided, gets diagnostics for all files.")},Zn.handleGetDiagnostics),o.tool("close_tab",{tab_name:Yt.z.string()},async({tab_name:b})=>(await l5(b,a),setTimeout(()=>{(0,_1.focusTerminal)()},500),{content:[{type:"text",text:"TAB_CLOSED"}]})),o.tool("closeAllDiffTabs","Close all diff tabs in the editor",{},async()=>{let b=await E1(a);return setTimeout(()=>{(0,_1.focusTerminal)()},500),{content:[{type:"text",text:`CLOSED_${b}_DIFF_TABS`}]}}),o.tool("openFile","Open a file in the editor and optionally select a range of text",{filePath:Yt.z.string().describe("Path to the file to open"),preview:Yt.z.boolean().describe("Whether to open the file in preview mode").default(!1),startText:Yt.z.string().describe("Text pattern to find the start of the selection range. Selects from the beginning of this match."),endText:Yt.z.string().describe("Text pattern to find the end of the selection range. Selects up to the end of this match. If not provided, only the startText match will be selected."),selectToEndOfLine:Yt.z.boolean().describe("If true, selection will extend to the end of the line containing the endText match.").default(!1),makeFrontmost:Yt.z.boolean().describe("Whether to make the file the active editor tab. If false, the file will be opened in the background without changing focus.").default(!0)},{readOnlyHint:!0},Zn.handleOpenFile),o.tool("getOpenEditors","Get information about currently open editors",{},Zn.handleGetOpenEditors),o.tool("getWorkspaceFolders","Get all workspace folders currently open in the IDE",{},Zn.handleGetWorkspaceFolders),o.tool("getCurrentSelection","Get the current text selection in the active editor",{},Zn.handleGetCurrentSelection),o.tool("checkDocumentDirty","Check if a document has unsaved changes (is dirty)",{filePath:Yt.z.string().describe("Path to the file to check")},Zn.handleCheckDocumentDirty),o.tool("saveDocument","Save a document with unsaved changes",{filePath:Yt.z.string().describe("Path to the file to save")},Zn.handleSaveDocument),o.tool("getLatestSelection","Get the most recent text selection (even if not in the active editor)",{},async()=>({content:[{type:"text",text:JSON.stringify((0,Md.getLastSelection)()||{success:!1,message:"No selection available"},null,2)}]})),o.tool("executeCode",`Execute python code in the Jupyter kernel for the current notebook file.
    
    All code will be executed in the current Jupyter kernel.
    
    Avoid declaring variables or modifying the state of the kernel unless the user
    explicitly asks for it.
    
    Any code executed will persist across calls to this tool, unless the kernel
    has been restarted.`,{code:Yt.z.string().describe("The code to be executed on the kernel.")},({code:b})=>(0,e5.handleExecuteCode)(a,b));let l=X6.createServer(),c=new a5.WebSocketServer({server:l}),u=null,d=null,h=r5.DiagnosticStreamManager.getInstance(a),p=(0,Q6.randomUUID)();c.on("connection",function(b,w){if(w.headers["x-claude-code-ide-authorization"]!==p){a.error("Unauthorized WebSocket connection attempt"),b.close(1008,"Unauthorized");return}if(a.info("New WS connection from:",w.url||"unknown"),u){a.info("Disconnecting previous WebSocket client"),d&&(h.unregisterClient(d),a.info(`Unregistered previous diagnostic client: ${d}`),d=null);try{u.close()}catch(R){a.error("Error closing previous transport:",R)}}let C=new s5.WebSocketTransport(b);u=C;let T=null;o.connect(C).then(()=>{a.info("MCP server connected to transport"),T=h.registerClient(R=>{C.send({jsonrpc:"2.0",method:"diagnostics_changed",params:{uris:R}}).catch(O=>{a.error("Error sending diagnostics notification:",O.message)})}),d=T,a.info(`Registered diagnostic client: ${T}`),setTimeout(()=>{let R=(0,Md.getLastSelection)();R&&R1(R,C);let O=[...cg];cg.length=0;for(let L of O)P1(a,L,C)},500)}).catch(R=>{console.error("Error connecting transport:",R),u=null;try{b.close()}catch(O){a.error("Error closing WebSocket:",O)}}),b.on("close",()=>{a.info("WS client disconnected"),u===C&&(u=null,T&&d===T&&(h.unregisterClient(T),a.info(`Unregistered diagnostic client: ${T}`),d=null))})});let m=()=>u;i5(n,o,a,m),(0,Md.setupAtMentionedHandling)(i,o,m);let f=(0,Md.setupSelectionChangeHandling)(o,m),v=null;l.on("listening",()=>{let b=l.address();b&&typeof b!="string"&&(v=b.port)});let g=Ra.workspace.onDidChangeWorkspaceFolders(()=>{v!==null&&((0,Ud.createLockFile)(v,p),a.info(`Updated lock file for port ${v} with new workspace folders`))});return{httpServer:l,authToken:p,dispose:async()=>{v!==null&&((0,Ud.deleteLockFile)(v),a.info(`Deleted lock file for port ${v}`)),f.dispose(),g.dispose(),h.dispose(),l.close(),typeof o.close=="function"&&await o.close()}}}async function c5(t,e,r,a){try{let s=await(0,Ud.findAvailablePort)(),i=null;return new Promise((n,o)=>{t.listen(s,"127.0.0.1",async()=>{a.info(`MCP Server running on port ${s} (localhost only)`),i=(0,Ud.createLockFile)(s,e),console.log(`Created lock file at ${i}`);try{await(0,b1.setTerminalEnvironmentVariable)(r,"CLAUDE_CODE_SSE_PORT",String(s)),await(0,b1.setTerminalEnvironmentVariable)(r,"ENABLE_IDE_INTEGRATION","true"),n(s)}catch(l){console.error("Failed to set environment variables:",l),o(l)}}).on("error",l=>{console.error("Failed to start MCP server:",l),Ra.window.showErrorMessage(`Failed to start MCP server: ${l}`),o(l)})})}catch(s){throw console.error("Failed to start MCP server:",s),Ra.window.showErrorMessage(`Failed to start MCP server: ${s}`),s}}async function S1(t,e){let r=t.input;if(r instanceof Ra.TabInputTextDiff)try{await(await Ra.workspace.openTextDocument(r.modified)).save()}catch(a){e.error("Error saving modified file:",a)}await Ra.window.tabGroups.close(t)}async function l5(t,e){for(let r of Ra.window.tabGroups.all)for(let a of r.tabs)if(a.label===t)return await S1(a,e),!0;return!1}async function E1(t){let e=0;t.info("Closing all diff tabs in the editor...");for(let r of Ra.window.tabGroups.all)for(let a of r.tabs)a.input instanceof Ra.TabInputTextDiff&&a.label.includes("[Claude Code]")&&(await S1(a,t),e++);return t.info(`Closed ${e} diff tabs.`),e}function P1(t,e,r){t.info("Logging event:",e.eventName,e.eventData);let a={eventName:e.eventName,eventData:e.eventData??{}};r.send({jsonrpc:"2.0",method:"log_event",params:a}).catch(s=>{t.error("Error sending log event:",s)})}var cg=[];async function R1(t,e){try{e.send({jsonrpc:"2.0",method:"selection_changed",params:t}).catch(r=>{console.error("Error sending selection change notification:",r)})}catch(r){console.error("Error sending selection change notification:",r)}}async function u5(t,e){try{e.send({jsonrpc:"2.0",method:"at_mentioned",params:t}).catch(r=>{console.error("Error sending at-mentioned notification:",r)})}catch(r){console.error("Error sending at-mentioned notification:",r)}}});var O1=j(Gr=>{"use strict";var d5=Gr&&Gr.__createBinding||(Object.create?function(t,e,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(e,r);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,a,s)}:function(t,e,r,a){a===void 0&&(a=r),t[a]=e[r]}),p5=Gr&&Gr.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),C1=Gr&&Gr.__importStar||function(){var t=function(e){return t=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},t(e)};return function(e){if(e&&e.__esModule)return e;var r={};if(e!=null)for(var a=t(e),s=0;s<a.length;s++)a[s]!=="default"&&d5(r,e,a[s]);return p5(r,e),r}}();Object.defineProperty(Gr,"__esModule",{value:!0});Gr.findOrLaunchClaude=v5;Gr.registerRunClaudeCommand=y5;Gr.registerAcceptOrRejectCommands=x5;Gr.registerInsertAtMentionedCommand=b5;var $t=C1(require("vscode")),f5=C1(require("path")),m5=mc(),h5=Yf(),lg=mc();async function v5(t,e,r=!0){let a=await g5(t);return a?{terminal:a,claudeRunning:!0}:T1(t,e,r)}async function g5(t){let e,r=!1,a=process.env.CLAUDE_CODE_TERMINAL_TITLE||"Claude Code";for(let s of $t.window.terminals)if(s.name===a){e=s;try{if(await s.processId){let n=await(0,m5.isClaudeRunningInTerminal)(t,s);r=n.claudeRunning,t.info("Claude running check result:",n)}}catch(i){t.error("Error checking if Claude is running:",i)}break}if(e&&r)return t.info("Focusing existing Claude terminal"),e.show(),e}async function T1(t,e,r=!0,a){t.info("Creating new Claude terminal"),r&&$t.window.withProgress({location:$t.ProgressLocation.Notification,title:"Claude Code launching...",cancellable:!1},async n=>new Promise(o=>setTimeout(o,2e3)));let s=$t.window.createTerminal({name:process.env.CLAUDE_CODE_TERMINAL_TITLE||"Claude Code",iconPath:$t.Uri.file(f5.join(e.extensionPath,"resources","claude-logo.svg")),location:{viewColumn:$t.ViewColumn.Beside},isTransient:!0});$t.window.onDidEndTerminalShellExecution(n=>{n.terminal===s&&n.execution.commandLine.value.startsWith("claude ")&&(t.info(`Claude terminal closed after executing ${n.execution.commandLine.value}`),s.dispose())});let i=!1;return $t.window.onDidChangeTerminalShellIntegration(async n=>{let o="claude";a&&(o=(0,h5.quote)(["claude",a])),n.terminal===s&&!i&&(i=!0,t.info("Terminal shell integration available"),n.shellIntegration.executeCommand(o))}),setTimeout(()=>{!s.shellIntegration&&!i&&(i=!0,s.sendText("claude"))},3e3),s.show(),{terminal:s,claudeRunning:!0}}function y5(t,e,r){let a=async()=>{try{await T1(t,e)}catch(s){t.error("Error running Claude Code:",s),$t.window.showErrorMessage(`Failed to run Claude Code: ${s}`)}};e.subscriptions.push($t.commands.registerCommand("claude-code.runClaude",()=>{r.logEvent("run_claude_command"),a()})),e.subscriptions.push($t.commands.registerCommand("claude-code.runClaude.keyboard",()=>{r.logEvent("run_claude_command_keyboard"),a()}))}function x5(t){let e=new $t.EventEmitter;return t.push($t.commands.registerCommand("claude-code.acceptProposedDiff",async()=>{let r=$t.window.tabGroups.activeTabGroup.activeTab;e.fire({accepted:!0,activeTab:r}),(0,lg.focusTerminal)()})),t.push($t.commands.registerCommand("claude-code.rejectProposedDiff",async()=>{let r=$t.window.tabGroups.activeTabGroup.activeTab;e.fire({accepted:!1,activeTab:r}),(0,lg.focusTerminal)()})),e.event}function b5(t){let e=new $t.EventEmitter;return t.push($t.commands.registerCommand("claude-code.insertAtMentioned",async()=>{e.fire({}),(0,lg.focusTerminal)()})),e.event}});var I1=j(Ca=>{"use strict";var _5=Ca&&Ca.__createBinding||(Object.create?function(t,e,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(e,r);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,a,s)}:function(t,e,r,a){a===void 0&&(a=r),t[a]=e[r]}),w5=Ca&&Ca.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),S5=Ca&&Ca.__importStar||function(){var t=function(e){return t=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},t(e)};return function(e){if(e&&e.__esModule)return e;var r={};if(e!=null)for(var a=t(e),s=0;s<a.length;s++)a[s]!=="default"&&_5(r,e,a[s]);return w5(r,e),r}}();Object.defineProperty(Ca,"__esModule",{value:!0});Ca.EventLogger=void 0;var E5=S5(require("vscode")),ug=class{logged=new E5.EventEmitter;logEvent(e,r){this.logged.fire({eventName:e,eventData:r})}};Ca.EventLogger=ug});var j1=j(Ta=>{"use strict";var P5=Ta&&Ta.__createBinding||(Object.create?function(t,e,r,a){a===void 0&&(a=r);var s=Object.getOwnPropertyDescriptor(e,r);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,a,s)}:function(t,e,r,a){a===void 0&&(a=r),t[a]=e[r]}),R5=Ta&&Ta.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),C5=Ta&&Ta.__importStar||function(){var t=function(e){return t=Object.getOwnPropertyNames||function(r){var a=[];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[a.length]=s);return a},t(e)};return function(e){if(e&&e.__esModule)return e;var r={};if(e!=null)for(var a=t(e),s=0;s<a.length;s++)a[s]!=="default"&&P5(r,e,a[s]);return R5(r,e),r}}();Object.defineProperty(Ta,"__esModule",{value:!0});Ta.activateExtension=O5;Ta.deactivate=I5;var no=C5(require("vscode")),A1=JP(),k1=Pd(),dg=O1(),T5=I1();function O5(t,e,r=!1){t.subscriptions.push(e);let a=new T5.EventLogger;e.info("Claude code extension is now active?");let s=new A1.TempFileProvider("_claude_fs_left");t.subscriptions.push(no.workspace.registerFileSystemProvider(s.scheme,s));let i=new A1.TempFileProvider("_claude_fs_right");t.subscriptions.push(no.workspace.registerFileSystemProvider(i.scheme,i)),t.subscriptions.push(A5(i.scheme));let n=(0,dg.registerAcceptOrRejectCommands)(t.subscriptions),o=(0,dg.registerInsertAtMentionedCommand)(t.subscriptions);r||(0,dg.registerRunClaudeCommand)(e,t,a);try{let{httpServer:l,authToken:c,dispose:u}=(0,k1.createMcpServer)(t,s,i,e,n,o,a);(0,k1.startMcpServer)(l,c,t,e).catch(d=>{e.error("Failed to start MCP server:",d),no.window.showErrorMessage(`Failed to start MCP server: ${d}`)}),t.subscriptions.push({dispose:async()=>{await u()}})}catch(l){e.error("Error during extension activation:",l),no.window.showErrorMessage(`Failed to activate Claude Code extension: ${l}`)}}function I5(){console.log("Claude code extension is now deactivated")}function A5(t){return no.window.onDidChangeVisibleTextEditors(e=>{let r=e.some(a=>a?.document.uri.scheme===t);no.commands.executeCommand("setContext","claude-code.viewingProposedDiff",r)})}});var D1=j(zd=>{"use strict";Object.defineProperty(zd,"__esModule",{value:!0});zd.activateExtension=void 0;var k5=j1();Object.defineProperty(zd,"activateExtension",{enumerable:!0,get:function(){return k5.activateExtension}})});var q5={};hg(q5,{activate:()=>j5,deactivate:()=>L5,openTabs:()=>F5});module.exports=G1(q5);var nt=Pe(require("vscode"),1);var St=Pe(require("vscode"),1),HP=Pe(require("path"),1),ch=Pe(require("os"),1);var gg=require("crypto");function Gn(){return(0,gg.randomBytes)(16).toString("hex")}var sa=Pe(require("fs"),1);var rx=require("node:buffer"),ax=Pe(require("node:path"),1),Kc=Pe(require("node:child_process"),1),vo=Pe(require("node:process"),1),sx=Pe(ny(),1);function cp(t){let e=typeof t=="string"?`
`:10,r=typeof t=="string"?"\r":13;return t[t.length-1]===e&&(t=t.slice(0,-1)),t[t.length-1]===r&&(t=t.slice(0,-1)),t}var fo=Pe(require("node:process"),1),Jn=Pe(require("node:path"),1),lp=require("node:url");function $c(t={}){let{env:e=process.env,platform:r=process.platform}=t;return r!=="win32"?"PATH":Object.keys(e).reverse().find(a=>a.toUpperCase()==="PATH")||"Path"}var bI=({cwd:t=fo.default.cwd(),path:e=fo.default.env[$c()],preferLocal:r=!0,execPath:a=fo.default.execPath,addExecPath:s=!0}={})=>{let i=t instanceof URL?(0,lp.fileURLToPath)(t):t,n=Jn.default.resolve(i),o=[];return r&&_I(o,n),s&&wI(o,a,n),[...o,e].join(Jn.default.delimiter)},_I=(t,e)=>{let r;for(;r!==e;)t.push(Jn.default.join(e,"node_modules/.bin")),r=e,e=Jn.default.resolve(e,"..")},wI=(t,e,r)=>{let a=e instanceof URL?(0,lp.fileURLToPath)(e):e;t.push(Jn.default.resolve(r,a,".."))},iy=({env:t=fo.default.env,...e}={})=>{t={...t};let r=$c({env:t});return e.path=t[r],t[r]=bI(e),t};var SI=(t,e,r,a)=>{if(r==="length"||r==="prototype"||r==="arguments"||r==="caller")return;let s=Object.getOwnPropertyDescriptor(t,r),i=Object.getOwnPropertyDescriptor(e,r);!EI(s,i)&&a||Object.defineProperty(t,r,i)},EI=function(t,e){return t===void 0||t.configurable||t.writable===e.writable&&t.enumerable===e.enumerable&&t.configurable===e.configurable&&(t.writable||t.value===e.value)},PI=(t,e)=>{let r=Object.getPrototypeOf(e);r!==Object.getPrototypeOf(t)&&Object.setPrototypeOf(t,r)},RI=(t,e)=>`/* Wrapped ${t}*/
${e}`,CI=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),TI=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),OI=(t,e,r)=>{let a=r===""?"":`with ${r.trim()}() `,s=RI.bind(null,a,e.toString());Object.defineProperty(s,"name",TI),Object.defineProperty(t,"toString",{...CI,value:s})};function up(t,e,{ignoreNonConfigurable:r=!1}={}){let{name:a}=t;for(let s of Reflect.ownKeys(e))SI(t,e,s,r);return PI(t,e),OI(t,e,a),t}var Lc=new WeakMap,oy=(t,e={})=>{if(typeof t!="function")throw new TypeError("Expected a function");let r,a=0,s=t.displayName||t.name||"<anonymous>",i=function(...n){if(Lc.set(i,++a),a===1)r=t.apply(this,n),t=null;else if(e.throw===!0)throw new Error(`Function \`${s}\` can only be called once`);return r};return up(i,t),Lc.set(i,a),i};oy.callCount=t=>{if(!Lc.has(t))throw new Error(`The given function \`${t.name}\` is not wrapped by the \`onetime\` package`);return Lc.get(t)};var cy=oy;var vy=Pe(require("node:process"),1);var my=require("node:os");var ly=()=>{let t=dy-uy+1;return Array.from({length:t},II)},II=(t,e)=>({name:`SIGRT${e+1}`,number:uy+e,action:"terminate",description:"Application-specific signal (realtime)",standard:"posix"}),uy=34,dy=64;var fy=require("node:os");var py=[{name:"SIGHUP",number:1,action:"terminate",description:"Terminal closed",standard:"posix"},{name:"SIGINT",number:2,action:"terminate",description:"User interruption with CTRL-C",standard:"ansi"},{name:"SIGQUIT",number:3,action:"core",description:"User interruption with CTRL-\\",standard:"posix"},{name:"SIGILL",number:4,action:"core",description:"Invalid machine instruction",standard:"ansi"},{name:"SIGTRAP",number:5,action:"core",description:"Debugger breakpoint",standard:"posix"},{name:"SIGABRT",number:6,action:"core",description:"Aborted",standard:"ansi"},{name:"SIGIOT",number:6,action:"core",description:"Aborted",standard:"bsd"},{name:"SIGBUS",number:7,action:"core",description:"Bus error due to misaligned, non-existing address or paging error",standard:"bsd"},{name:"SIGEMT",number:7,action:"terminate",description:"Command should be emulated but is not implemented",standard:"other"},{name:"SIGFPE",number:8,action:"core",description:"Floating point arithmetic error",standard:"ansi"},{name:"SIGKILL",number:9,action:"terminate",description:"Forced termination",standard:"posix",forced:!0},{name:"SIGUSR1",number:10,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGSEGV",number:11,action:"core",description:"Segmentation fault",standard:"ansi"},{name:"SIGUSR2",number:12,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGPIPE",number:13,action:"terminate",description:"Broken pipe or socket",standard:"posix"},{name:"SIGALRM",number:14,action:"terminate",description:"Timeout or timer",standard:"posix"},{name:"SIGTERM",number:15,action:"terminate",description:"Termination",standard:"ansi"},{name:"SIGSTKFLT",number:16,action:"terminate",description:"Stack is empty or overflowed",standard:"other"},{name:"SIGCHLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"posix"},{name:"SIGCLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"other"},{name:"SIGCONT",number:18,action:"unpause",description:"Unpaused",standard:"posix",forced:!0},{name:"SIGSTOP",number:19,action:"pause",description:"Paused",standard:"posix",forced:!0},{name:"SIGTSTP",number:20,action:"pause",description:'Paused using CTRL-Z or "suspend"',standard:"posix"},{name:"SIGTTIN",number:21,action:"pause",description:"Background process cannot read terminal input",standard:"posix"},{name:"SIGBREAK",number:21,action:"terminate",description:"User interruption with CTRL-BREAK",standard:"other"},{name:"SIGTTOU",number:22,action:"pause",description:"Background process cannot write to terminal output",standard:"posix"},{name:"SIGURG",number:23,action:"ignore",description:"Socket received out-of-band data",standard:"bsd"},{name:"SIGXCPU",number:24,action:"core",description:"Process timed out",standard:"bsd"},{name:"SIGXFSZ",number:25,action:"core",description:"File too big",standard:"bsd"},{name:"SIGVTALRM",number:26,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGPROF",number:27,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGWINCH",number:28,action:"ignore",description:"Terminal window size changed",standard:"bsd"},{name:"SIGIO",number:29,action:"terminate",description:"I/O is available",standard:"other"},{name:"SIGPOLL",number:29,action:"terminate",description:"Watched event",standard:"other"},{name:"SIGINFO",number:29,action:"ignore",description:"Request for process information",standard:"other"},{name:"SIGPWR",number:30,action:"terminate",description:"Device running out of power",standard:"systemv"},{name:"SIGSYS",number:31,action:"core",description:"Invalid system call",standard:"other"},{name:"SIGUNUSED",number:31,action:"terminate",description:"Invalid system call",standard:"other"}];var dp=()=>{let t=ly();return[...py,...t].map(AI)},AI=({name:t,number:e,description:r,action:a,forced:s=!1,standard:i})=>{let{signals:{[t]:n}}=fy.constants,o=n!==void 0;return{name:t,number:o?n:e,description:r,supported:o,action:a,forced:s,standard:i}};var kI=()=>{let t=dp();return Object.fromEntries(t.map(jI))},jI=({name:t,number:e,description:r,supported:a,action:s,forced:i,standard:n})=>[t,{name:t,number:e,description:r,supported:a,action:s,forced:i,standard:n}],hy=kI(),DI=()=>{let t=dp(),e=65,r=Array.from({length:e},(a,s)=>NI(s,t));return Object.assign({},...r)},NI=(t,e)=>{let r=$I(t,e);if(r===void 0)return{};let{name:a,description:s,supported:i,action:n,forced:o,standard:l}=r;return{[t]:{name:a,number:t,description:s,supported:i,action:n,forced:o,standard:l}}},$I=(t,e)=>{let r=e.find(({name:a})=>my.constants.signals[a]===t);return r!==void 0?r:e.find(a=>a.number===t)},gG=DI();var LI=({timedOut:t,timeout:e,errorCode:r,signal:a,signalDescription:s,exitCode:i,isCanceled:n})=>t?`timed out after ${e} milliseconds`:n?"was canceled":r!==void 0?`failed with ${r}`:a!==void 0?`was killed with ${a} (${s})`:i!==void 0?`failed with exit code ${i}`:"failed",mo=({stdout:t,stderr:e,all:r,error:a,signal:s,exitCode:i,command:n,escapedCommand:o,timedOut:l,isCanceled:c,killed:u,parsed:{options:{timeout:d,cwd:h=vy.default.cwd()}}})=>{i=i===null?void 0:i,s=s===null?void 0:s;let p=s===void 0?void 0:hy[s].description,m=a&&a.code,v=`Command ${LI({timedOut:l,timeout:d,errorCode:m,signal:s,signalDescription:p,exitCode:i,isCanceled:c})}: ${n}`,g=Object.prototype.toString.call(a)==="[object Error]",b=g?`${v}
${a.message}`:v,w=[b,e,t].filter(Boolean).join(`
`);return g?(a.originalMessage=a.message,a.message=w):a=new Error(w),a.shortMessage=b,a.command=n,a.escapedCommand=o,a.exitCode=i,a.signal=s,a.signalDescription=p,a.stdout=t,a.stderr=e,a.cwd=h,r!==void 0&&(a.all=r),"bufferedData"in a&&delete a.bufferedData,a.failed=!0,a.timedOut=!!l,a.isCanceled=c,a.killed=u&&!l,a};var Fc=["stdin","stdout","stderr"],FI=t=>Fc.some(e=>t[e]!==void 0),gy=t=>{if(!t)return;let{stdio:e}=t;if(e===void 0)return Fc.map(a=>t[a]);if(FI(t))throw new Error(`It's not possible to provide \`stdio\` in combination with one of ${Fc.map(a=>`\`${a}\``).join(", ")}`);if(typeof e=="string")return e;if(!Array.isArray(e))throw new TypeError(`Expected \`stdio\` to be of type \`string\` or \`Array\`, got \`${typeof e}\``);let r=Math.max(e.length,Fc.length);return Array.from({length:r},(a,s)=>e[s])};var xy=Pe(require("node:os"),1);var Ds=[];Ds.push("SIGHUP","SIGINT","SIGTERM");process.platform!=="win32"&&Ds.push("SIGALRM","SIGABRT","SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT");process.platform==="linux"&&Ds.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT");var qc=t=>!!t&&typeof t=="object"&&typeof t.removeListener=="function"&&typeof t.emit=="function"&&typeof t.reallyExit=="function"&&typeof t.listeners=="function"&&typeof t.kill=="function"&&typeof t.pid=="number"&&typeof t.on=="function",pp=Symbol.for("signal-exit emitter"),fp=globalThis,qI=Object.defineProperty.bind(Object),mp=class{emitted={afterExit:!1,exit:!1};listeners={afterExit:[],exit:[]};count=0;id=Math.random();constructor(){if(fp[pp])return fp[pp];qI(fp,pp,{value:this,writable:!1,enumerable:!1,configurable:!1})}on(e,r){this.listeners[e].push(r)}removeListener(e,r){let a=this.listeners[e],s=a.indexOf(r);s!==-1&&(s===0&&a.length===1?a.length=0:a.splice(s,1))}emit(e,r,a){if(this.emitted[e])return!1;this.emitted[e]=!0;let s=!1;for(let i of this.listeners[e])s=i(r,a)===!0||s;return e==="exit"&&(s=this.emit("afterExit",r,a)||s),s}},Mc=class{},MI=t=>({onExit(e,r){return t.onExit(e,r)},load(){return t.load()},unload(){return t.unload()}}),hp=class extends Mc{onExit(){return()=>{}}load(){}unload(){}},vp=class extends Mc{#i=gp.platform==="win32"?"SIGINT":"SIGHUP";#t=new mp;#e;#s;#n;#a={};#r=!1;constructor(e){super(),this.#e=e,this.#a={};for(let r of Ds)this.#a[r]=()=>{let a=this.#e.listeners(r),{count:s}=this.#t,i=e;if(typeof i.__signal_exit_emitter__=="object"&&typeof i.__signal_exit_emitter__.count=="number"&&(s+=i.__signal_exit_emitter__.count),a.length===s){this.unload();let n=this.#t.emit("exit",null,r),o=r==="SIGHUP"?this.#i:r;n||e.kill(e.pid,o)}};this.#n=e.reallyExit,this.#s=e.emit}onExit(e,r){if(!qc(this.#e))return()=>{};this.#r===!1&&this.load();let a=r?.alwaysLast?"afterExit":"exit";return this.#t.on(a,e),()=>{this.#t.removeListener(a,e),this.#t.listeners.exit.length===0&&this.#t.listeners.afterExit.length===0&&this.unload()}}load(){if(!this.#r){this.#r=!0,this.#t.count+=1;for(let e of Ds)try{let r=this.#a[e];r&&this.#e.on(e,r)}catch{}this.#e.emit=(e,...r)=>this.#c(e,...r),this.#e.reallyExit=e=>this.#o(e)}}unload(){this.#r&&(this.#r=!1,Ds.forEach(e=>{let r=this.#a[e];if(!r)throw new Error("Listener not defined for signal: "+e);try{this.#e.removeListener(e,r)}catch{}}),this.#e.emit=this.#s,this.#e.reallyExit=this.#n,this.#t.count-=1)}#o(e){return qc(this.#e)?(this.#e.exitCode=e||0,this.#t.emit("exit",this.#e.exitCode,null),this.#n.call(this.#e,this.#e.exitCode)):0}#c(e,...r){let a=this.#s;if(e==="exit"&&qc(this.#e)){typeof r[0]=="number"&&(this.#e.exitCode=r[0]);let s=a.call(this.#e,e,...r);return this.#t.emit("exit",this.#e.exitCode,null),s}else return a.call(this.#e,e,...r)}},gp=globalThis.process,{onExit:yy,load:EG,unload:PG}=MI(qc(gp)?new vp(gp):new hp);var UI=1e3*5,by=(t,e="SIGTERM",r={})=>{let a=t(e);return zI(t,e,r,a),a},zI=(t,e,r,a)=>{if(!BI(e,r,a))return;let s=VI(r),i=setTimeout(()=>{t("SIGKILL")},s);i.unref&&i.unref()},BI=(t,{forceKillAfterTimeout:e},r)=>ZI(t)&&e!==!1&&r,ZI=t=>t===xy.default.constants.signals.SIGTERM||typeof t=="string"&&t.toUpperCase()==="SIGTERM",VI=({forceKillAfterTimeout:t=!0})=>{if(t===!0)return UI;if(!Number.isFinite(t)||t<0)throw new TypeError(`Expected the \`forceKillAfterTimeout\` option to be a non-negative integer, got \`${t}\` (${typeof t})`);return t},_y=(t,e)=>{t.kill()&&(e.isCanceled=!0)},HI=(t,e,r)=>{t.kill(e),r(Object.assign(new Error("Timed out"),{timedOut:!0,signal:e}))},wy=(t,{timeout:e,killSignal:r="SIGTERM"},a)=>{if(e===0||e===void 0)return a;let s,i=new Promise((o,l)=>{s=setTimeout(()=>{HI(t,r,l)},e)}),n=a.finally(()=>{clearTimeout(s)});return Promise.race([i,n])},Sy=({timeout:t})=>{if(t!==void 0&&(!Number.isFinite(t)||t<0))throw new TypeError(`Expected the \`timeout\` option to be a non-negative integer, got \`${t}\` (${typeof t})`)},Ey=async(t,{cleanup:e,detached:r},a)=>{if(!e||r)return a;let s=yy(()=>{t.kill()});return a.finally(()=>{s()})};var Py=require("node:fs"),Ry=require("node:child_process");function Uc(t){return t!==null&&typeof t=="object"&&typeof t.pipe=="function"}function yp(t){return Uc(t)&&t.writable!==!1&&typeof t._write=="function"&&typeof t._writableState=="object"}var GI=t=>t instanceof Ry.ChildProcess&&typeof t.then=="function",xp=(t,e,r)=>{if(typeof r=="string")return t[e].pipe((0,Py.createWriteStream)(r)),t;if(yp(r))return t[e].pipe(r),t;if(!GI(r))throw new TypeError("The second argument must be a string, a stream or an Execa child process.");if(!yp(r.stdin))throw new TypeError("The target child process's stdin must be available.");return t[e].pipe(r.stdin),r},Cy=t=>{t.stdout!==null&&(t.pipeStdout=xp.bind(void 0,t,"stdout")),t.stderr!==null&&(t.pipeStderr=xp.bind(void 0,t,"stderr")),t.all!==void 0&&(t.pipeAll=xp.bind(void 0,t,"all"))};var Gc=require("node:fs"),qy=require("node:timers/promises");var ho=async(t,{init:e,convertChunk:r,getSize:a,truncateChunk:s,addChunk:i,getFinalChunk:n,finalize:o},{maxBuffer:l=Number.POSITIVE_INFINITY}={})=>{if(!KI(t))throw new Error("The first argument must be a Readable, a ReadableStream, or an async iterable.");let c=e();c.length=0;try{for await(let u of t){let d=JI(u),h=r[d](u,c);Iy({convertedChunk:h,state:c,getSize:a,truncateChunk:s,addChunk:i,maxBuffer:l})}return WI({state:c,convertChunk:r,getSize:a,truncateChunk:s,addChunk:i,getFinalChunk:n,maxBuffer:l}),o(c)}catch(u){throw u.bufferedData=o(c),u}},WI=({state:t,getSize:e,truncateChunk:r,addChunk:a,getFinalChunk:s,maxBuffer:i})=>{let n=s(t);n!==void 0&&Iy({convertedChunk:n,state:t,getSize:e,truncateChunk:r,addChunk:a,maxBuffer:i})},Iy=({convertedChunk:t,state:e,getSize:r,truncateChunk:a,addChunk:s,maxBuffer:i})=>{let n=r(t),o=e.length+n;if(o<=i){Ty(t,e,s,o);return}let l=a(t,i-e.length);throw l!==void 0&&Ty(l,e,s,i),new zc},Ty=(t,e,r,a)=>{e.contents=r(t,e,a),e.length=a},KI=t=>typeof t=="object"&&t!==null&&typeof t[Symbol.asyncIterator]=="function",JI=t=>{let e=typeof t;if(e==="string")return"string";if(e!=="object"||t===null)return"others";if(globalThis.Buffer?.isBuffer(t))return"buffer";let r=Oy.call(t);return r==="[object ArrayBuffer]"?"arrayBuffer":r==="[object DataView]"?"dataView":Number.isInteger(t.byteLength)&&Number.isInteger(t.byteOffset)&&Oy.call(t.buffer)==="[object ArrayBuffer]"?"typedArray":"others"},{toString:Oy}=Object.prototype,zc=class extends Error{name="MaxBufferError";constructor(){super("maxBuffer exceeded")}};var bp=t=>t,_p=()=>{},wp=({contents:t})=>t,Bc=t=>{throw new Error(`Streams in object mode are not supported: ${String(t)}`)},Zc=t=>t.length;async function Sp(t,e){return ho(t,nA,e)}var QI=()=>({contents:new ArrayBuffer(0)}),YI=t=>XI.encode(t),XI=new TextEncoder,Ay=t=>new Uint8Array(t),ky=t=>new Uint8Array(t.buffer,t.byteOffset,t.byteLength),eA=(t,e)=>t.slice(0,e),tA=(t,{contents:e,length:r},a)=>{let s=Ny()?aA(e,a):rA(e,a);return new Uint8Array(s).set(t,r),s},rA=(t,e)=>{if(e<=t.byteLength)return t;let r=new ArrayBuffer(Dy(e));return new Uint8Array(r).set(new Uint8Array(t),0),r},aA=(t,e)=>{if(e<=t.maxByteLength)return t.resize(e),t;let r=new ArrayBuffer(e,{maxByteLength:Dy(e)});return new Uint8Array(r).set(new Uint8Array(t),0),r},Dy=t=>jy**Math.ceil(Math.log(t)/Math.log(jy)),jy=2,sA=({contents:t,length:e})=>Ny()?t:t.slice(0,e),Ny=()=>"resize"in ArrayBuffer.prototype,nA={init:QI,convertChunk:{string:YI,buffer:Ay,arrayBuffer:Ay,dataView:ky,typedArray:ky,others:Bc},getSize:Zc,truncateChunk:eA,addChunk:tA,getFinalChunk:_p,finalize:sA};async function Vc(t,e){if(!("Buffer"in globalThis))throw new Error("getStreamAsBuffer() is only supported in Node.js");try{return $y(await Sp(t,e))}catch(r){throw r.bufferedData!==void 0&&(r.bufferedData=$y(r.bufferedData)),r}}var $y=t=>globalThis.Buffer.from(t);async function Ep(t,e){return ho(t,uA,e)}var iA=()=>({contents:"",textDecoder:new TextDecoder}),Hc=(t,{textDecoder:e})=>e.decode(t,{stream:!0}),oA=(t,{contents:e})=>e+t,cA=(t,e)=>t.slice(0,e),lA=({textDecoder:t})=>{let e=t.decode();return e===""?void 0:e},uA={init:iA,convertChunk:{string:bp,buffer:Hc,arrayBuffer:Hc,dataView:Hc,typedArray:Hc,others:Bc},getSize:Zc,truncateChunk:cA,addChunk:oA,getFinalChunk:lA,finalize:wp};var My=Pe(Fy(),1),Uy=t=>{if(t!==void 0)throw new TypeError("The `input` and `inputFile` options cannot be both set.")},pA=({input:t,inputFile:e})=>typeof e!="string"?t:(Uy(t),(0,Gc.readFileSync)(e)),zy=t=>{let e=pA(t);if(Uc(e))throw new TypeError("The `input` option cannot be a stream in sync mode");return e},fA=({input:t,inputFile:e})=>typeof e!="string"?t:(Uy(t),(0,Gc.createReadStream)(e)),By=(t,e)=>{let r=fA(e);r!==void 0&&(Uc(r)?r.pipe(t.stdin):t.stdin.end(r))},Zy=(t,{all:e})=>{if(!e||!t.stdout&&!t.stderr)return;let r=(0,My.default)();return t.stdout&&r.add(t.stdout),t.stderr&&r.add(t.stderr),r},Pp=async(t,e)=>{if(!(!t||e===void 0)){await(0,qy.setTimeout)(0),t.destroy();try{return await e}catch(r){return r.bufferedData}}},Rp=(t,{encoding:e,buffer:r,maxBuffer:a})=>{if(!(!t||!r))return e==="utf8"||e==="utf-8"?Ep(t,{maxBuffer:a}):e===null||e==="buffer"?Vc(t,{maxBuffer:a}):mA(t,a,e)},mA=async(t,e,r)=>(await Vc(t,{maxBuffer:e})).toString(r),Vy=async({stdout:t,stderr:e,all:r},{encoding:a,buffer:s,maxBuffer:i},n)=>{let o=Rp(t,{encoding:a,buffer:s,maxBuffer:i}),l=Rp(e,{encoding:a,buffer:s,maxBuffer:i}),c=Rp(r,{encoding:a,buffer:s,maxBuffer:i*2});try{return await Promise.all([n,o,l,c])}catch(u){return Promise.all([{error:u,signal:u.signal,timedOut:u.timedOut},Pp(t,o),Pp(e,l),Pp(r,c)])}};var hA=(async()=>{})().constructor.prototype,vA=["then","catch","finally"].map(t=>[t,Reflect.getOwnPropertyDescriptor(hA,t)]),Cp=(t,e)=>{for(let[r,a]of vA){let s=typeof e=="function"?(...i)=>Reflect.apply(a.value,e(),i):a.value.bind(e);Reflect.defineProperty(t,r,{...a,value:s})}},Hy=t=>new Promise((e,r)=>{t.on("exit",(a,s)=>{e({exitCode:a,signal:s})}),t.on("error",a=>{r(a)}),t.stdin&&t.stdin.on("error",a=>{r(a)})});var Ky=require("node:buffer"),Jy=require("node:child_process"),Qy=(t,e=[])=>Array.isArray(e)?[t,...e]:[t],gA=/^[\w.-]+$/,yA=t=>typeof t!="string"||gA.test(t)?t:`"${t.replaceAll('"','\\"')}"`,Tp=(t,e)=>Qy(t,e).join(" "),Op=(t,e)=>Qy(t,e).map(r=>yA(r)).join(" "),xA=/ +/g;var Gy=t=>{let e=typeof t;if(e==="string")return t;if(e==="number")return String(t);if(e==="object"&&t!==null&&!(t instanceof Jy.ChildProcess)&&"stdout"in t){let r=typeof t.stdout;if(r==="string")return t.stdout;if(Ky.Buffer.isBuffer(t.stdout))return t.stdout.toString();throw new TypeError(`Unexpected "${r}" stdout in template expression`)}throw new TypeError(`Unexpected "${e}" in template expression`)},Wy=(t,e,r)=>r||t.length===0||e.length===0?[...t,...e]:[...t.slice(0,-1),`${t.at(-1)}${e[0]}`,...e.slice(1)],bA=({templates:t,expressions:e,tokens:r,index:a,template:s})=>{let i=s??t.raw[a],n=i.split(xA).filter(Boolean),o=Wy(r,n,i.startsWith(" "));if(a===e.length)return o;let l=e[a],c=Array.isArray(l)?l.map(u=>Gy(u)):[Gy(l)];return Wy(o,c,i.endsWith(" "))},Ip=(t,e)=>{let r=[];for(let[a,s]of t.entries())r=bA({templates:t,expressions:e,tokens:r,index:a,template:s});return r};var Yy=require("node:util"),Xy=Pe(require("node:process"),1),ex=(0,Yy.debuglog)("execa").enabled,Wc=(t,e)=>String(t).padStart(e,"0"),_A=()=>{let t=new Date;return`${Wc(t.getHours(),2)}:${Wc(t.getMinutes(),2)}:${Wc(t.getSeconds(),2)}.${Wc(t.getMilliseconds(),3)}`},Ap=(t,{verbose:e})=>{e&&Xy.default.stderr.write(`[${_A()}] ${t}
`)};var wA=1e3*1e3*100,SA=({env:t,extendEnv:e,preferLocal:r,localDir:a,execPath:s})=>{let i=e?{...vo.default.env,...t}:t;return r?iy({env:i,cwd:a,execPath:s}):i},nx=(t,e,r={})=>{let a=sx.default._parse(t,e,r);return t=a.command,e=a.args,r=a.options,r={maxBuffer:wA,buffer:!0,stripFinalNewline:!0,extendEnv:!0,preferLocal:!1,localDir:r.cwd||vo.default.cwd(),execPath:vo.default.execPath,encoding:"utf8",reject:!0,cleanup:!0,all:!1,windowsHide:!0,verbose:ex,...r},r.env=SA(r),r.stdio=gy(r),vo.default.platform==="win32"&&ax.default.basename(t,".exe")==="cmd"&&e.unshift("/q"),{file:t,args:e,options:r,parsed:a}},go=(t,e,r)=>typeof e!="string"&&!rx.Buffer.isBuffer(e)?r===void 0?void 0:"":t.stripFinalNewline?cp(e):e;function EA(t,e,r){let a=nx(t,e,r),s=Tp(t,e),i=Op(t,e);Ap(i,a.options),Sy(a.options);let n;try{n=Kc.default.spawn(a.file,a.args,a.options)}catch(p){let m=new Kc.default.ChildProcess,f=Promise.reject(mo({error:p,stdout:"",stderr:"",all:"",command:s,escapedCommand:i,parsed:a,timedOut:!1,isCanceled:!1,killed:!1}));return Cp(m,f),m}let o=Hy(n),l=wy(n,a.options,o),c=Ey(n,a.options,l),u={isCanceled:!1};n.kill=by.bind(null,n.kill.bind(n)),n.cancel=_y.bind(null,n,u);let h=cy(async()=>{let[{error:p,exitCode:m,signal:f,timedOut:v},g,b,w]=await Vy(n,a.options,c),C=go(a.options,g),T=go(a.options,b),R=go(a.options,w);if(p||m!==0||f!==null){let O=mo({error:p,exitCode:m,signal:f,stdout:C,stderr:T,all:R,command:s,escapedCommand:i,parsed:a,timedOut:v,isCanceled:u.isCanceled||(a.options.signal?a.options.signal.aborted:!1),killed:n.killed});if(!a.options.reject)return O;throw O}return{command:s,escapedCommand:i,exitCode:0,stdout:C,stderr:T,all:R,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}});return By(n,a.options),n.all=Zy(n,a.options),Cy(n),Cp(n,h),n}function yo(t,e,r){let a=nx(t,e,r),s=Tp(t,e),i=Op(t,e);Ap(i,a.options);let n=zy(a.options),o;try{o=Kc.default.spawnSync(a.file,a.args,{...a.options,input:n})}catch(u){throw mo({error:u,stdout:"",stderr:"",all:"",command:s,escapedCommand:i,parsed:a,timedOut:!1,isCanceled:!1,killed:!1})}let l=go(a.options,o.stdout,o.error),c=go(a.options,o.stderr,o.error);if(o.error||o.status!==0||o.signal!==null){let u=mo({stdout:l,stderr:c,error:o.error,signal:o.signal,exitCode:o.status,command:s,escapedCommand:i,parsed:a,timedOut:o.error&&o.error.code==="ETIMEDOUT",isCanceled:!1,killed:o.signal!==null});if(!a.options.reject)return u;throw u}return{command:s,escapedCommand:i,exitCode:0,stdout:l,stderr:c,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}}var PA=({input:t,inputFile:e,stdio:r})=>t===void 0&&e===void 0&&r===void 0?{stdin:"inherit"}:{},tx=(t={})=>({preferLocal:!0,...PA(t),...t});function ix(t){function e(r,...a){if(!Array.isArray(r))return ix({...t,...r});let[s,...i]=Ip(r,a);return EA(s,i,tx(t))}return e.sync=(r,...a)=>{if(!Array.isArray(r))throw new TypeError("Please use $(options).sync`command` instead of $.sync(options)`command`.");let[s,...i]=Ip(r,a);return yo(s,i,tx(t))},e}var yW=ix();var VP=Pe(Jp(),1);var Xn=class t{constructor(e){this.returned=e}queue=[];readResolve;readReject;isDone=!1;hasError;started=!1;[Symbol.asyncIterator](){if(this.started)throw new Error("Stream can only be iterated once");return this.started=!0,this}next(){return this.queue.length>0?Promise.resolve({done:!1,value:this.queue.shift()}):this.isDone?Promise.resolve({done:!0,value:void 0}):this.hasError?Promise.reject(this.hasError):new Promise((e,r)=>{this.readResolve=e,this.readReject=r})}enqueue(e){if(this.readResolve){let r=this.readResolve;this.readResolve=void 0,this.readReject=void 0,r({done:!1,value:e})}else this.queue.push(e)}done(){if(this.isDone=!0,this.readResolve){let e=this.readResolve;this.readResolve=void 0,this.readReject=void 0,e({done:!0,value:void 0})}}error(e){if(this.hasError=e,this.readReject){let r=this.readReject;this.readResolve=void 0,this.readReject=void 0,r(e)}}return(){return this.isDone=!0,this.returned&&this.returned(),Promise.resolve({done:!0,value:void 0})}static from(e){let r=new t;for(let a of e)r.enqueue(a);return r.done(),r}};function Kb(){return{clawd:{light:"/resources/clawd.svg",dark:"/resources/clawd.svg"},"welcome-art":{light:"/resources/welcome-art-light.svg",dark:"/resources/welcome-art-dark.svg"}}}function Jb(){return{clawd:{light:"./resources/clawd.svg",dark:"./resources/clawd.svg"},"welcome-art":{light:"./resources/welcome-art-light.svg",dark:"./resources/welcome-art-dark.svg"}}}var e_=require("child_process");var $s=require("path"),cl=Pe(require("fs"),1);var Qb=Pe(require("path"),1),Yb=Pe(require("os"),1);function ei(){return process.env.CLAUDE_CONFIG_DIR?process.env.CLAUDE_CONFIG_DIR:Qb.join(Yb.homedir(),".claude")}var _D=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function wD(){return(0,$s.join)(ei(),"projects")}function SD(t){return(0,$s.join)(wD(),t.replace(/[^a-zA-Z0-9]/g,"-"))}var ti=class{constructor(e,r,a){this.sessionMessages=e;this.messages=r;this.summaries=a}async fetchSessions(){return this.getTranscripts().map(r=>{let a=r[r.length-1],s=r[0],i=CD(r);return{lastModified:new Date(a.timestamp).getTime(),messageCount:r.length,isSidechain:s.isSidechain,id:a.sessionId,summary:this.summaries.get(a.uuid)||i}})}getTranscripts(){let e=[...this.messages.values()],r=new Set(e.map(a=>a.parentUuid));return e.filter(a=>!r.has(a.uuid)).map(a=>this.getTranscript(a)).filter(a=>a.length)}async getSessionMessages(e){if(e.endsWith(".jsonl")){let l=[];for(let c of await Xb(e))l.push(c);return l}let r=e,s=this.sessionMessages.get(r);if(!s)return[];let n=Array.from(this.messages.values()).filter(l=>s.has(l.uuid)).sort((l,c)=>new Date(c.timestamp).getTime()-new Date(l.timestamp).getTime())[0];return n?this.getTranscript(n).map(RD).filter(l=>!!l):[]}getTranscript(e){let r=[],a=e;for(;a;)r.unshift(a),a=a.parentUuid?this.messages.get(a.parentUuid):void 0;return r}static load(e){return ED(e)}};async function ED(t){let e=SD(t),r=await cl.default.promises.readdir(e),s=(await Promise.all(r.map(async c=>{let u=await cl.default.promises.stat((0,$s.join)(e,c));return{name:(0,$s.join)(e,c),stat:u}}))).filter(c=>c.stat.isFile()&&c.name.endsWith(".jsonl")),i=await Promise.all(s.sort((c,u)=>c.stat.mtime.getTime()-u.stat.mtime.getTime()).map(async c=>{let u=PD((0,$s.basename)(c.name,".jsonl"));if(!u)return{sessionId:u,sessionMessages:new Set};let d=new Map,h=new Map;try{for(let p of await Xb(c.name))p.type==="user"||p.type==="assistant"||p.type==="attachment"||p.type==="system"?d.set(p.uuid,p):p.type==="summary"&&p.leafUuid&&h.set(p.leafUuid,p.summary)}catch{}return{sessionId:u,sessionMessages:d,summaries:h}})),n=new Map,o=new Map,l=new Map;for(let{sessionId:c,sessionMessages:u,summaries:d}of i)if(c){n.set(c,new Set(u.keys()));for(let[h,p]of u.entries())o.set(h,p);for(let[h,p]of d.entries())l.set(h,p)}return new ti(n,o,l)}function PD(t){return typeof t!="string"?null:_D.test(t)?t:null}async function Xb(t){try{let e=await cl.default.promises.readFile(t,"utf8");return e.trim()?e.split(`
`).filter(r=>r.trim()).map(r=>{try{return JSON.parse(r)}catch{return null}}).filter(r=>r!==null):[]}catch{return[]}}function RD(t){if(!t.isMeta){if(t.type==="user")return{type:"user",message:t.message,session_id:t.uuid,parent_tool_use_id:null};if(t.type==="assistant")return{type:"assistant",message:t.message,session_id:t.uuid,parent_tool_use_id:null,uuid:t.message.id};if(t.type==="system")return;if(t.type==="attachment")return}}function CD(t){let e;for(let s of t)if(s.type==="user"&&!s.isMeta)e=s;else if(e)break;if(!e||e.type!=="user")return"No prompt";let r=e.message?.content,a="";return typeof r=="string"?a=r:Array.isArray(r)?a=r.findLast(i=>i.type==="text")?.text||"No prompt":a="No prompt",a=a.replace(/\n/g," ").trim(),a.length>45&&(a=a.slice(0,45)+"..."),a}var ll=class{constructor(e,r,a,s,i){this.cwd=e;this.logger=r;this.settings=a;this.openNewInTab=s;this.authManager=i;this.readFromClient()}channels=new Map;fromClientStream=new Xn;abortControllers=new Map;config;outstandingRequests=new Map;async fromClient(e){this.fromClientStream.enqueue(e)}async readFromClient(){for await(let e of this.fromClientStream)switch(e.type){case"launch_claude":await this.launchClaude(e.channelId,e.resume,e.cwd,e.model,e.permissionMode);break;case"close_channel":this.closeChannel(e.channelId,!1);break;case"interrupt_claude":this.interruptClaude(e.channelId);break;case"io_message":this.transportMessage(e.channelId,e.message,e.done);break;case"request":this.handleRequest(e);break;case"response":{let r=e.requestId,a=this.outstandingRequests.get(r);a?e.response.type==="error"?a.reject(new Error(e.response.error)):a.resolve(e.response):this.logger.warn(`No handler for response with requestId: ${r}`)}break;case"cancel_request":this.handleCancellation(e.targetRequestId);break;default:this.logger.error(`Unknown message: ${e}`)}}async launchClaude(e,r,a,s,i){if(this.logger.log(`Launching Claude on channel: ${e}`),this.channels.has(e))throw new Error(`Channel already exists: ${e}`);try{let n=new Xn;process.env.DEBUG="1";let o=this.spawnClaude(n,r,async(l,c,u)=>this.requestToolPermission(e,l,c,u.suggestions||[]),s||null,a,i);this.channels.set(e,{in:n,query:o}),(async()=>{try{for await(let l of o)this.send({type:"io_message",channelId:e,message:l,done:!1});this.closeChannel(e,!0)}catch(l){this.closeChannel(e,!0,String(l)),this.logger.error(`Error from Claude (on channel ${e}): ${l}`)}})()}catch(n){this.closeChannel(e,!0,String(n)),this.logger.error(`Error spawning Claude (on channel ${e}): ${n}`)}}async requestToolPermission(e,r,a,s){return(await this.sendRequest(e,{type:"tool_permission_request",toolName:r,inputs:a,suggestions:s})).result}sendRequest(e,r){let a=Gn();return new Promise((s,i)=>{this.outstandingRequests.set(a,{resolve:n=>{s(n)},reject:i}),this.send({type:"request",channelId:e,requestId:a,request:r})}).finally(()=>{this.outstandingRequests.delete(a)})}async interruptClaude(e){let r=this.channels.get(e);if(!r){this.logger.warn(`Channel not found: ${e}`);return}try{await r.query.interrupt(),this.logger.log(`Interrupted Claude for requestId: ${e}`)}catch(a){this.logger.error(`Failed to interrupt Claude: ${a}`)}}async closeChannel(e,r,a){this.logger.log(`Closing Claude on channel: ${e}`),r&&this.send({type:"close_channel",channelId:e,error:a});let s=this.channels.get(e);if(s){s.in.done();try{await s.query.return()}catch(i){this.logger.warn(`Error cleaning up channel ${e}: ${i}`)}this.channels.delete(e)}}transportMessage(e,r,a){let s=this.channels.get(e);if(!s)throw new Error(`Channel not found: ${e}`);r.type==="user"&&s.in.enqueue(r),a&&s.in.done()}async shutdown(){await this.closeAllChannels(),this.fromClientStream.done()}async closeAllChannels(){let e=Array.from(this.channels.keys()).map(r=>this.closeChannel(r,!1));await Promise.all(e),this.channels.clear()}async closeAllChannelsWithCredentialChange(){let e=Array.from(this.channels.keys()).map(r=>this.closeChannel(r,!0));await Promise.all(e),this.channels.clear()}loadConfig(){if(this.config)return this.config;this.logger.log("Loading config cache by launching Claude...");let e=(async()=>{let r=new Xn,a=this.spawnClaude(r,void 0,async()=>({behavior:"deny",message:"Config loading only"}),"default",this.cwd,"default");r.done();let s={slashCommands:await a.supportedCommands(),models:await a.supportedModels()};return a.return(),s})().catch(r=>{throw this.logger.error(`Failed to load config cache: ${r}`),this.config=void 0,r});return this.config=e,e}async getMcpServers(e){let r=e?this.channels.get(e):void 0;if(!r)throw new Error(`Channel not found: ${e}`);try{return{type:"get_mcp_servers_response",mcpServers:await r.query.mcpServerStatus()}}catch(a){return this.logger.error(`Error fetching MCP servers: ${a}`),{type:"get_mcp_servers_response",mcpServers:[]}}}async handleRequest(e){let r=new AbortController;try{this.abortControllers.set(e.requestId,r);let a=await this.processRequest(e,r.signal);this.send({type:"response",requestId:e.requestId,response:a})}catch(a){this.logger.error(`Error processing client request: ${a}`),this.send({type:"response",requestId:e.requestId,response:{type:"error",error:a instanceof Error?a.message:String(a)}})}finally{this.abortControllers.delete(e.requestId)}}async processRequest(e,r){switch(e.request.type){case"init":{let a=this.authManager?.getAuthStatus();return{type:"init_response",state:{defaultCwd:this.cwd,openNewInTab:this.openNewInTab,authStatus:a,modelSetting:await this.settings.getModel(),platform:this.getPlatform()}}}case"get_claude_state":{let a=await this.loadConfig();return{type:"get_claude_state_response",models:a.models,slashCommands:a.slashCommands}}case"get_mcp_servers":return await this.getMcpServers(e.channelId);case"list_sessions_request":return this.listSessions();case"open_file":return this.openFile(e.request.filePath,e.request.location),{type:"open_file_response"};case"get_session_request":return this.getSession(e.request.sessionId);case"exec":return this.execCommand(e.request.command,e.request.params);case"list_files_request":return{type:"list_files_response",files:await this.findFiles(e.request.pattern)};case"open_diff":return this.openDiff(e.request.originalFilePath,e.request.newFilePath,e.request.edits,e.request.supportMultiEdits||!1,r);case"open_content":return this.openContent(e.request.content,e.request.fileName,e.request.editable,r);case"get_asset_uris":return{type:"asset_uris_response",assetUris:this.getAssetUris()};case"open_url":return await this.openURL(e.request.url),{type:"open_url_response"};case"set_permission_mode":return this.setPermissionMode(e.channelId,e.request.mode);case"set_model":return this.setModel(e.channelId,e.request.model);case"get_auth_status":return{type:"get_auth_status_response",status:this.authManager?.getAuthStatus()};case"login":{if(!this.authManager)throw new Error("Authentication is not supported in this environment");let{method:a}=e.request,s=await this.authManager.login(a,async i=>{this.send({type:"request",channelId:"",requestId:Gn(),request:{type:"auth_url",url:i.manualRedirectUrl,method:a}});try{await this.openURL(i.automaticRedirectUrl)}catch(n){this.logger.warn(`Failed to open browser: ${n}`)}});return await this.closeAllChannelsWithCredentialChange(),{type:"login_response",auth:s}}case"submit_oauth_code":{if(!this.authManager)throw new Error("Authentication is not supported in this environment");let{code:a}=e.request;return this.authManager.handleManualAuthCode(a),{type:"submit_oauth_code_response"}}case"open_config_file":return this.openConfigFile(e.request.configType),{type:"open_config_file_response"};default:}throw new Error("Unknown request type.")}async loadSessionsFromPath(e,r,a){try{return(await(await ti.load(e)).fetchSessions()).map(n=>({id:n.id,lastModified:n.lastModified,messageCount:n.messageCount,summary:n.summary,worktree:r,isCurrentWorkspace:a}))}catch(s){return this.logger.warn(`Failed to load sessions from ${e}: ${s}`),[]}}async listSessions(){let e=[],r=await this.loadSessionsFromPath(this.cwd,void 0,!0);return e.push(...r),{type:"list_sessions_response",sessions:e}}async getSession(e){return{type:"get_session_response",messages:await(await ti.load(this.cwd)).getSessionMessages(e)}}handleCancellation(e){let r=this.abortControllers.get(e);r&&r.abort()}async execCommand(e,r){let a="",s="",i=(0,e_.spawn)(e,r,{cwd:this.cwd,shell:!1});i.stdout.on("data",o=>{a+=o.toString()}),i.stderr.on("data",o=>{s+=o.toString()});let n=await new Promise(o=>{i.on("close",l=>{o(l??0)}),i.on("error",l=>{s+=l.message,o(1)})});return{type:"exec_response",stdout:a,stderr:s,exitCode:n}}getAssetUris(){return Kb()}async setPermissionMode(e,r){let a=e?this.channels.get(e):void 0;if(!a)throw new Error(`Channel not found: ${e}`);try{return await a.query.setPermissionMode(r),{type:"set_permission_mode_response",success:!0}}catch(s){return this.logger.error(`Failed to set permission mode: ${s}`),{type:"set_permission_mode_response",success:!1}}}async setModel(e,r){let a=e?this.channels.get(e):void 0;if(!a)throw new Error(`Channel not found: ${e}`);try{return await a.query.setModel(r.value),await this.settings.setModel(r.value),{type:"set_model_response",success:!0}}catch(s){return this.logger.error(`Failed to set model: ${s}`),{type:"set_model_response",success:!1}}}getPlatform(){switch(process.platform){case"win32":return"windows";case"darwin":return"macos";default:return"linux"}}async pushStateUpdate(){let e=this.authManager?.getAuthStatus(),r={type:"request",channelId:"",requestId:Gn(),request:{type:"update_state",state:{defaultCwd:this.cwd,openNewInTab:this.openNewInTab,authStatus:e,modelSetting:await this.settings.getModel(),platform:this.getPlatform()}}};this.send(r)}};var ut=Pe(require("vscode"),1);var vr=Pe(require("vscode"),1),ri=require("fs"),r_=require("os"),Qp=require("path"),a_=require("child_process");function TD(t){let e=t.trim();return e?/[*?{}[\]]/.test(e)?e:`**/*${e.split("").map(a=>{if(/[a-zA-Z]/.test(a)){let s=a.toLowerCase(),i=a.toUpperCase();return`[${s}${i}]`}return a}).join("")}*`:"**/*"}var s_=`{${["**/node_modules/**","**/.git/**","**/dist/**","**/build/**","**/.next/**","**/.nuxt/**","**/.DS_Store","**/Thumbs.db","**/*.log","**/.env","**/.env.*","**/yarn-error.log","**/npm-debug.log*"].join(",")}}`;async function Yp(t){let e=[],r=t?TD(t):"**/*",a=await n_(),s=100,i;try{i=await vr.workspace.findFiles(r,a,s)}catch{i=await vr.workspace.findFiles(r,s_,s)}try{for(let n of i){let o=vr.workspace.asRelativePath(n),l=n.path.split("/").pop()||"";e.push({path:o,name:l,type:"file"})}e.sort((n,o)=>n.path.localeCompare(o.path))}catch{}return e}async function n_(){let t=[];try{let a=vr.workspace.getConfiguration("search"),s=vr.workspace.getConfiguration("files"),i=a.get("exclude")||{},n=s.get("exclude")||{};for(let[l,c]of Object.entries(i))c&&typeof l=="string"&&t.push(l);for(let[l,c]of Object.entries(n))c&&typeof l=="string"&&t.push(l);if(a.get("useIgnoreFiles",!0)){let l=vr.workspace.workspaceFolders;if(l)for(let c of l){let u=OD(c.uri.fsPath);t.push(...u)}}}catch{}let e=t.filter(a=>typeof a=="string"&&a.length>0);return e.length===0?s_:e.length===1?e[0]:`{${e.join(",")}}`}function OD(t){let e=[];try{let r=(0,Qp.join)(t,".gitignore");if((0,ri.existsSync)(r)){let s=(0,ri.readFileSync)(r,"utf8");e.push(...t_(s))}let a=(0,Qp.join)((0,r_.homedir)(),".config","git","ignore");if((0,ri.existsSync)(a)){let s=(0,ri.readFileSync)(a,"utf8");e.push(...t_(s))}}catch{}return e}function t_(t){let e=[];for(let r of t.split(`
`)){let a=r.trim();if(!a||a.startsWith("#")||a.startsWith("!"))continue;let s=a;s.endsWith("/")&&(s=s.slice(0,-1)+"/**"),s.startsWith("/")?s=s.slice(1):s="**/"+s,e.includes(s)||e.push(s)}return e}async function Xp(t){try{let e=vr.workspace.getWorkspaceFolder(t);if(!e)return!1;let r=vr.workspace.asRelativePath(t,!1),a=await n_();return!!((await vr.workspace.findFiles(new vr.RelativePattern(e,r),a,1)).length===0||vr.workspace.getConfiguration("search").get("useIgnoreFiles",!0)&&await new Promise(l=>{(0,a_.execFile)("git",["check-ignore",t.fsPath],{cwd:e.uri.fsPath},(c,u)=>{l(!c&&!!u)})}))}catch{return!1}}var _f=Pe(require("vscode"),1),Yr=Pe(require("path"),1);function ja(t){return Array.isArray?Array.isArray(t):f_(t)==="[object Array]"}var ID=1/0;function AD(t){if(typeof t=="string")return t;let e=t+"";return e=="0"&&1/t==-ID?"-0":e}function kD(t){return t==null?"":AD(t)}function fa(t){return typeof t=="string"}function d_(t){return typeof t=="number"}function jD(t){return t===!0||t===!1||DD(t)&&f_(t)=="[object Boolean]"}function p_(t){return typeof t=="object"}function DD(t){return p_(t)&&t!==null}function gr(t){return t!=null}function ef(t){return!t.trim().length}function f_(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}var ND="Incorrect 'index' type",$D=t=>`Invalid value for key ${t}`,LD=t=>`Pattern length exceeds max of ${t}.`,FD=t=>`Missing ${t} property in key`,qD=t=>`Property 'weight' in key '${t}' must be a positive integer`,i_=Object.prototype.hasOwnProperty,tf=class{constructor(e){this._keys=[],this._keyMap={};let r=0;e.forEach(a=>{let s=m_(a);this._keys.push(s),this._keyMap[s.id]=s,r+=s.weight}),this._keys.forEach(a=>{a.weight/=r})}get(e){return this._keyMap[e]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}};function m_(t){let e=null,r=null,a=null,s=1,i=null;if(fa(t)||ja(t))a=t,e=o_(t),r=rf(t);else{if(!i_.call(t,"name"))throw new Error(FD("name"));let n=t.name;if(a=n,i_.call(t,"weight")&&(s=t.weight,s<=0))throw new Error(qD(n));e=o_(n),r=rf(n),i=t.getFn}return{path:e,id:r,weight:s,src:a,getFn:i}}function o_(t){return ja(t)?t:t.split(".")}function rf(t){return ja(t)?t.join("."):t}function MD(t,e){let r=[],a=!1,s=(i,n,o)=>{if(gr(i))if(!n[o])r.push(i);else{let l=n[o],c=i[l];if(!gr(c))return;if(o===n.length-1&&(fa(c)||d_(c)||jD(c)))r.push(kD(c));else if(ja(c)){a=!0;for(let u=0,d=c.length;u<d;u+=1)s(c[u],n,o+1)}else n.length&&s(c,n,o+1)}};return s(t,fa(e)?e.split("."):e,0),a?r:r[0]}var UD={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},zD={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(t,e)=>t.score===e.score?t.idx<e.idx?-1:1:t.score<e.score?-1:1},BD={location:0,threshold:.6,distance:100},ZD={useExtendedSearch:!1,getFn:MD,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1},$e={...zD,...UD,...BD,...ZD},VD=/[^ ]+/g;function HD(t=1,e=3){let r=new Map,a=Math.pow(10,e);return{get(s){let i=s.match(VD).length;if(r.has(i))return r.get(i);let n=1/Math.pow(i,.5*t),o=parseFloat(Math.round(n*a)/a);return r.set(i,o),o},clear(){r.clear()}}}var Ro=class{constructor({getFn:e=$e.getFn,fieldNormWeight:r=$e.fieldNormWeight}={}){this.norm=HD(r,3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}setSources(e=[]){this.docs=e}setIndexRecords(e=[]){this.records=e}setKeys(e=[]){this.keys=e,this._keysMap={},e.forEach((r,a)=>{this._keysMap[r.id]=a})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,fa(this.docs[0])?this.docs.forEach((e,r)=>{this._addString(e,r)}):this.docs.forEach((e,r)=>{this._addObject(e,r)}),this.norm.clear())}add(e){let r=this.size();fa(e)?this._addString(e,r):this._addObject(e,r)}removeAt(e){this.records.splice(e,1);for(let r=e,a=this.size();r<a;r+=1)this.records[r].i-=1}getValueForItemAtKeyId(e,r){return e[this._keysMap[r]]}size(){return this.records.length}_addString(e,r){if(!gr(e)||ef(e))return;let a={v:e,i:r,n:this.norm.get(e)};this.records.push(a)}_addObject(e,r){let a={i:r,$:{}};this.keys.forEach((s,i)=>{let n=s.getFn?s.getFn(e):this.getFn(e,s.path);if(gr(n)){if(ja(n)){let o=[],l=[{nestedArrIndex:-1,value:n}];for(;l.length;){let{nestedArrIndex:c,value:u}=l.pop();if(gr(u))if(fa(u)&&!ef(u)){let d={v:u,i:c,n:this.norm.get(u)};o.push(d)}else ja(u)&&u.forEach((d,h)=>{l.push({nestedArrIndex:h,value:d})})}a.$[i]=o}else if(fa(n)&&!ef(n)){let o={v:n,n:this.norm.get(n)};a.$[i]=o}}}),this.records.push(a)}toJSON(){return{keys:this.keys,records:this.records}}};function h_(t,e,{getFn:r=$e.getFn,fieldNormWeight:a=$e.fieldNormWeight}={}){let s=new Ro({getFn:r,fieldNormWeight:a});return s.setKeys(t.map(m_)),s.setSources(e),s.create(),s}function GD(t,{getFn:e=$e.getFn,fieldNormWeight:r=$e.fieldNormWeight}={}){let{keys:a,records:s}=t,i=new Ro({getFn:e,fieldNormWeight:r});return i.setKeys(a),i.setIndexRecords(s),i}function ul(t,{errors:e=0,currentLocation:r=0,expectedLocation:a=0,distance:s=$e.distance,ignoreLocation:i=$e.ignoreLocation}={}){let n=e/t.length;if(i)return n;let o=Math.abs(a-r);return s?n+o/s:o?1:n}function WD(t=[],e=$e.minMatchCharLength){let r=[],a=-1,s=-1,i=0;for(let n=t.length;i<n;i+=1){let o=t[i];o&&a===-1?a=i:!o&&a!==-1&&(s=i-1,s-a+1>=e&&r.push([a,s]),a=-1)}return t[i-1]&&i-a>=e&&r.push([a,i-1]),r}var Ls=32;function KD(t,e,r,{location:a=$e.location,distance:s=$e.distance,threshold:i=$e.threshold,findAllMatches:n=$e.findAllMatches,minMatchCharLength:o=$e.minMatchCharLength,includeMatches:l=$e.includeMatches,ignoreLocation:c=$e.ignoreLocation}={}){if(e.length>Ls)throw new Error(LD(Ls));let u=e.length,d=t.length,h=Math.max(0,Math.min(a,d)),p=i,m=h,f=o>1||l,v=f?Array(d):[],g;for(;(g=t.indexOf(e,m))>-1;){let O=ul(e,{currentLocation:g,expectedLocation:h,distance:s,ignoreLocation:c});if(p=Math.min(O,p),m=g+u,f){let L=0;for(;L<u;)v[g+L]=1,L+=1}}m=-1;let b=[],w=1,C=u+d,T=1<<u-1;for(let O=0;O<u;O+=1){let L=0,D=C;for(;L<D;)ul(e,{errors:O,currentLocation:h+D,expectedLocation:h,distance:s,ignoreLocation:c})<=p?L=D:C=D,D=Math.floor((C-L)/2+L);C=D;let F=Math.max(1,h-D+1),$=n?d:Math.min(h+D,d)+u,I=Array($+2);I[$+1]=(1<<O)-1;for(let N=$;N>=F;N-=1){let B=N-1,W=r[t.charAt(B)];if(f&&(v[B]=+!!W),I[N]=(I[N+1]<<1|1)&W,O&&(I[N]|=(b[N+1]|b[N])<<1|1|b[N+1]),I[N]&T&&(w=ul(e,{errors:O,currentLocation:B,expectedLocation:h,distance:s,ignoreLocation:c}),w<=p)){if(p=w,m=B,m<=h)break;F=Math.max(1,2*h-m)}}if(ul(e,{errors:O+1,currentLocation:h,expectedLocation:h,distance:s,ignoreLocation:c})>p)break;b=I}let R={isMatch:m>=0,score:Math.max(.001,w)};if(f){let O=WD(v,o);O.length?l&&(R.indices=O):R.isMatch=!1}return R}function JD(t){let e={};for(let r=0,a=t.length;r<a;r+=1){let s=t.charAt(r);e[s]=(e[s]||0)|1<<a-r-1}return e}var dl=class{constructor(e,{location:r=$e.location,threshold:a=$e.threshold,distance:s=$e.distance,includeMatches:i=$e.includeMatches,findAllMatches:n=$e.findAllMatches,minMatchCharLength:o=$e.minMatchCharLength,isCaseSensitive:l=$e.isCaseSensitive,ignoreLocation:c=$e.ignoreLocation}={}){if(this.options={location:r,threshold:a,distance:s,includeMatches:i,findAllMatches:n,minMatchCharLength:o,isCaseSensitive:l,ignoreLocation:c},this.pattern=l?e:e.toLowerCase(),this.chunks=[],!this.pattern.length)return;let u=(h,p)=>{this.chunks.push({pattern:h,alphabet:JD(h),startIndex:p})},d=this.pattern.length;if(d>Ls){let h=0,p=d%Ls,m=d-p;for(;h<m;)u(this.pattern.substr(h,Ls),h),h+=Ls;if(p){let f=d-Ls;u(this.pattern.substr(f),f)}}else u(this.pattern,0)}searchIn(e){let{isCaseSensitive:r,includeMatches:a}=this.options;if(r||(e=e.toLowerCase()),this.pattern===e){let m={isMatch:!0,score:0};return a&&(m.indices=[[0,e.length-1]]),m}let{location:s,distance:i,threshold:n,findAllMatches:o,minMatchCharLength:l,ignoreLocation:c}=this.options,u=[],d=0,h=!1;this.chunks.forEach(({pattern:m,alphabet:f,startIndex:v})=>{let{isMatch:g,score:b,indices:w}=KD(e,m,f,{location:s+v,distance:i,threshold:n,findAllMatches:o,minMatchCharLength:l,includeMatches:a,ignoreLocation:c});g&&(h=!0),d+=b,g&&w&&(u=[...u,...w])});let p={isMatch:h,score:h?d/this.chunks.length:1};return h&&a&&(p.indices=u),p}},ma=class{constructor(e){this.pattern=e}static isMultiMatch(e){return c_(e,this.multiRegex)}static isSingleMatch(e){return c_(e,this.singleRegex)}search(){}};function c_(t,e){let r=t.match(e);return r?r[1]:null}var af=class extends ma{constructor(e){super(e)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(e){let r=e===this.pattern;return{isMatch:r,score:r?0:1,indices:[0,this.pattern.length-1]}}},sf=class extends ma{constructor(e){super(e)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(e){let a=e.indexOf(this.pattern)===-1;return{isMatch:a,score:a?0:1,indices:[0,e.length-1]}}},nf=class extends ma{constructor(e){super(e)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(e){let r=e.startsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,this.pattern.length-1]}}},of=class extends ma{constructor(e){super(e)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(e){let r=!e.startsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,e.length-1]}}},cf=class extends ma{constructor(e){super(e)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(e){let r=e.endsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[e.length-this.pattern.length,e.length-1]}}},lf=class extends ma{constructor(e){super(e)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(e){let r=!e.endsWith(this.pattern);return{isMatch:r,score:r?0:1,indices:[0,e.length-1]}}},pl=class extends ma{constructor(e,{location:r=$e.location,threshold:a=$e.threshold,distance:s=$e.distance,includeMatches:i=$e.includeMatches,findAllMatches:n=$e.findAllMatches,minMatchCharLength:o=$e.minMatchCharLength,isCaseSensitive:l=$e.isCaseSensitive,ignoreLocation:c=$e.ignoreLocation}={}){super(e),this._bitapSearch=new dl(e,{location:r,threshold:a,distance:s,includeMatches:i,findAllMatches:n,minMatchCharLength:o,isCaseSensitive:l,ignoreLocation:c})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(e){return this._bitapSearch.searchIn(e)}},fl=class extends ma{constructor(e){super(e)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(e){let r=0,a,s=[],i=this.pattern.length;for(;(a=e.indexOf(this.pattern,r))>-1;)r=a+i,s.push([a,r-1]);let n=!!s.length;return{isMatch:n,score:n?0:1,indices:s}}},uf=[af,fl,nf,of,lf,cf,sf,pl],l_=uf.length,QD=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,YD="|";function XD(t,e={}){return t.split(YD).map(r=>{let a=r.trim().split(QD).filter(i=>i&&!!i.trim()),s=[];for(let i=0,n=a.length;i<n;i+=1){let o=a[i],l=!1,c=-1;for(;!l&&++c<l_;){let u=uf[c],d=u.isMultiMatch(o);d&&(s.push(new u(d,e)),l=!0)}if(!l)for(c=-1;++c<l_;){let u=uf[c],d=u.isSingleMatch(o);if(d){s.push(new u(d,e));break}}}return s})}var eN=new Set([pl.type,fl.type]),df=class{constructor(e,{isCaseSensitive:r=$e.isCaseSensitive,includeMatches:a=$e.includeMatches,minMatchCharLength:s=$e.minMatchCharLength,ignoreLocation:i=$e.ignoreLocation,findAllMatches:n=$e.findAllMatches,location:o=$e.location,threshold:l=$e.threshold,distance:c=$e.distance}={}){this.query=null,this.options={isCaseSensitive:r,includeMatches:a,minMatchCharLength:s,findAllMatches:n,ignoreLocation:i,location:o,threshold:l,distance:c},this.pattern=r?e:e.toLowerCase(),this.query=XD(this.pattern,this.options)}static condition(e,r){return r.useExtendedSearch}searchIn(e){let r=this.query;if(!r)return{isMatch:!1,score:1};let{includeMatches:a,isCaseSensitive:s}=this.options;e=s?e:e.toLowerCase();let i=0,n=[],o=0;for(let l=0,c=r.length;l<c;l+=1){let u=r[l];n.length=0,i=0;for(let d=0,h=u.length;d<h;d+=1){let p=u[d],{isMatch:m,indices:f,score:v}=p.search(e);if(m){if(i+=1,o+=v,a){let g=p.constructor.type;eN.has(g)?n=[...n,...f]:n.push(f)}}else{o=0,i=0,n.length=0;break}}if(i){let d={isMatch:!0,score:o/i};return a&&(d.indices=n),d}}return{isMatch:!1,score:1}}},pf=[];function tN(...t){pf.push(...t)}function ff(t,e){for(let r=0,a=pf.length;r<a;r+=1){let s=pf[r];if(s.condition(t,e))return new s(t,e)}return new dl(t,e)}var ml={AND:"$and",OR:"$or"},mf={PATH:"$path",PATTERN:"$val"},hf=t=>!!(t[ml.AND]||t[ml.OR]),rN=t=>!!t[mf.PATH],aN=t=>!ja(t)&&p_(t)&&!hf(t),u_=t=>({[ml.AND]:Object.keys(t).map(e=>({[e]:t[e]}))});function v_(t,e,{auto:r=!0}={}){let a=s=>{let i=Object.keys(s),n=rN(s);if(!n&&i.length>1&&!hf(s))return a(u_(s));if(aN(s)){let l=n?s[mf.PATH]:i[0],c=n?s[mf.PATTERN]:s[l];if(!fa(c))throw new Error($D(l));let u={keyId:rf(l),pattern:c};return r&&(u.searcher=ff(c,e)),u}let o={children:[],operator:i[0]};return i.forEach(l=>{let c=s[l];ja(c)&&c.forEach(u=>{o.children.push(a(u))})}),o};return hf(t)||(t=u_(t)),a(t)}function sN(t,{ignoreFieldNorm:e=$e.ignoreFieldNorm}){t.forEach(r=>{let a=1;r.matches.forEach(({key:s,norm:i,score:n})=>{let o=s?s.weight:null;a*=Math.pow(n===0&&o?Number.EPSILON:n,(o||1)*(e?1:i))}),r.score=a})}function nN(t,e){let r=t.matches;e.matches=[],gr(r)&&r.forEach(a=>{if(!gr(a.indices)||!a.indices.length)return;let{indices:s,value:i}=a,n={indices:s,value:i};a.key&&(n.key=a.key.src),a.idx>-1&&(n.refIndex=a.idx),e.matches.push(n)})}function iN(t,e){e.score=t.score}function oN(t,e,{includeMatches:r=$e.includeMatches,includeScore:a=$e.includeScore}={}){let s=[];return r&&s.push(nN),a&&s.push(iN),t.map(i=>{let{idx:n}=i,o={item:e[n],refIndex:n};return s.length&&s.forEach(l=>{l(i,o)}),o})}var Da=class{constructor(e,r={},a){this.options={...$e,...r},this.options.useExtendedSearch,this._keyStore=new tf(this.options.keys),this.setCollection(e,a)}setCollection(e,r){if(this._docs=e,r&&!(r instanceof Ro))throw new Error(ND);this._myIndex=r||h_(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(e){gr(e)&&(this._docs.push(e),this._myIndex.add(e))}remove(e=()=>!1){let r=[];for(let a=0,s=this._docs.length;a<s;a+=1){let i=this._docs[a];e(i,a)&&(this.removeAt(a),a-=1,s-=1,r.push(i))}return r}removeAt(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}getIndex(){return this._myIndex}search(e,{limit:r=-1}={}){let{includeMatches:a,includeScore:s,shouldSort:i,sortFn:n,ignoreFieldNorm:o}=this.options,l=fa(e)?fa(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return sN(l,{ignoreFieldNorm:o}),i&&l.sort(n),d_(r)&&r>-1&&(l=l.slice(0,r)),oN(l,this._docs,{includeMatches:a,includeScore:s})}_searchStringList(e){let r=ff(e,this.options),{records:a}=this._myIndex,s=[];return a.forEach(({v:i,i:n,n:o})=>{if(!gr(i))return;let{isMatch:l,score:c,indices:u}=r.searchIn(i);l&&s.push({item:i,idx:n,matches:[{score:c,value:i,norm:o,indices:u}]})}),s}_searchLogical(e){let r=v_(e,this.options),a=(o,l,c)=>{if(!o.children){let{keyId:d,searcher:h}=o,p=this._findMatches({key:this._keyStore.get(d),value:this._myIndex.getValueForItemAtKeyId(l,d),searcher:h});return p&&p.length?[{idx:c,item:l,matches:p}]:[]}let u=[];for(let d=0,h=o.children.length;d<h;d+=1){let p=o.children[d],m=a(p,l,c);if(m.length)u.push(...m);else if(o.operator===ml.AND)return[]}return u},s=this._myIndex.records,i={},n=[];return s.forEach(({$:o,i:l})=>{if(gr(o)){let c=a(r,o,l);c.length&&(i[l]||(i[l]={idx:l,item:o,matches:[]},n.push(i[l])),c.forEach(({matches:u})=>{i[l].matches.push(...u)}))}}),n}_searchObjectList(e){let r=ff(e,this.options),{keys:a,records:s}=this._myIndex,i=[];return s.forEach(({$:n,i:o})=>{if(!gr(n))return;let l=[];a.forEach((c,u)=>{l.push(...this._findMatches({key:c,value:n[u],searcher:r}))}),l.length&&i.push({idx:o,item:n,matches:l})}),i}_findMatches({key:e,value:r,searcher:a}){if(!gr(r))return[];let s=[];if(ja(r))r.forEach(({v:i,i:n,n:o})=>{if(!gr(i))return;let{isMatch:l,score:c,indices:u}=a.searchIn(i);l&&s.push({score:c,key:e,value:i,idx:n,norm:o,indices:u})});else{let{v:i,n}=r,{isMatch:o,score:l,indices:c}=a.searchIn(i);o&&s.push({score:l,key:e,value:i,norm:n,indices:c})}return s}};Da.version="7.0.0";Da.createIndex=h_;Da.parseIndex=GD;Da.config=$e;Da.parseQuery=v_;tN(df);var yl=require("child_process");var cN=typeof global=="object"&&global&&global.Object===Object&&global,g_=cN;var lN=typeof self=="object"&&self&&self.Object===Object&&self,uN=g_||lN||Function("return this")(),ai=uN;var dN=ai.Symbol,si=dN;var y_=Object.prototype,pN=y_.hasOwnProperty,fN=y_.toString,Co=si?si.toStringTag:void 0;function mN(t){var e=pN.call(t,Co),r=t[Co];try{t[Co]=void 0;var a=!0}catch{}var s=fN.call(t);return a&&(e?t[Co]=r:delete t[Co]),s}var x_=mN;var hN=Object.prototype,vN=hN.toString;function gN(t){return vN.call(t)}var b_=gN;var yN="[object Null]",xN="[object Undefined]",__=si?si.toStringTag:void 0;function bN(t){return t==null?t===void 0?xN:yN:__&&__ in Object(t)?x_(t):b_(t)}var w_=bN;function _N(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var hl=_N;var wN="[object AsyncFunction]",SN="[object Function]",EN="[object GeneratorFunction]",PN="[object Proxy]";function RN(t){if(!hl(t))return!1;var e=w_(t);return e==SN||e==EN||e==wN||e==PN}var S_=RN;var CN=ai["__core-js_shared__"],vl=CN;var E_=function(){var t=/[^.]+$/.exec(vl&&vl.keys&&vl.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function TN(t){return!!E_&&E_ in t}var P_=TN;var ON=Function.prototype,IN=ON.toString;function AN(t){if(t!=null){try{return IN.call(t)}catch{}try{return t+""}catch{}}return""}var R_=AN;var kN=/[\\^$.*+?()[\]{}|]/g,jN=/^\[object .+?Constructor\]$/,DN=Function.prototype,NN=Object.prototype,$N=DN.toString,LN=NN.hasOwnProperty,FN=RegExp("^"+$N.call(LN).replace(kN,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function qN(t){if(!hl(t)||P_(t))return!1;var e=S_(t)?FN:jN;return e.test(R_(t))}var C_=qN;function MN(t,e){return t?.[e]}var T_=MN;function UN(t,e){var r=T_(t,e);return C_(r)?r:void 0}var gl=UN;function zN(t,e){return t===e||t!==t&&e!==e}var O_=zN;var BN=gl(Object,"create"),Na=BN;function ZN(){this.__data__=Na?Na(null):{},this.size=0}var I_=ZN;function VN(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var A_=VN;var HN="__lodash_hash_undefined__",GN=Object.prototype,WN=GN.hasOwnProperty;function KN(t){var e=this.__data__;if(Na){var r=e[t];return r===HN?void 0:r}return WN.call(e,t)?e[t]:void 0}var k_=KN;var JN=Object.prototype,QN=JN.hasOwnProperty;function YN(t){var e=this.__data__;return Na?e[t]!==void 0:QN.call(e,t)}var j_=YN;var XN="__lodash_hash_undefined__";function e$(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=Na&&e===void 0?XN:e,this}var D_=e$;function ni(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var a=t[e];this.set(a[0],a[1])}}ni.prototype.clear=I_;ni.prototype.delete=A_;ni.prototype.get=k_;ni.prototype.has=j_;ni.prototype.set=D_;var vf=ni;function t$(){this.__data__=[],this.size=0}var N_=t$;function r$(t,e){for(var r=t.length;r--;)if(O_(t[r][0],e))return r;return-1}var cs=r$;var a$=Array.prototype,s$=a$.splice;function n$(t){var e=this.__data__,r=cs(e,t);if(r<0)return!1;var a=e.length-1;return r==a?e.pop():s$.call(e,r,1),--this.size,!0}var $_=n$;function i$(t){var e=this.__data__,r=cs(e,t);return r<0?void 0:e[r][1]}var L_=i$;function o$(t){return cs(this.__data__,t)>-1}var F_=o$;function c$(t,e){var r=this.__data__,a=cs(r,t);return a<0?(++this.size,r.push([t,e])):r[a][1]=e,this}var q_=c$;function ii(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var a=t[e];this.set(a[0],a[1])}}ii.prototype.clear=N_;ii.prototype.delete=$_;ii.prototype.get=L_;ii.prototype.has=F_;ii.prototype.set=q_;var M_=ii;var l$=gl(ai,"Map"),U_=l$;function u$(){this.size=0,this.__data__={hash:new vf,map:new(U_||M_),string:new vf}}var z_=u$;function d$(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var B_=d$;function p$(t,e){var r=t.__data__;return B_(e)?r[typeof e=="string"?"string":"hash"]:r.map}var ls=p$;function f$(t){var e=ls(this,t).delete(t);return this.size-=e?1:0,e}var Z_=f$;function m$(t){return ls(this,t).get(t)}var V_=m$;function h$(t){return ls(this,t).has(t)}var H_=h$;function v$(t,e){var r=ls(this,t),a=r.size;return r.set(t,e),this.size+=r.size==a?0:1,this}var G_=v$;function oi(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var a=t[e];this.set(a[0],a[1])}}oi.prototype.clear=z_;oi.prototype.delete=Z_;oi.prototype.get=V_;oi.prototype.has=H_;oi.prototype.set=G_;var gf=oi;var g$="Expected a function";function yf(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(g$);var r=function(){var a=arguments,s=e?e.apply(this,a):a[0],i=r.cache;if(i.has(s))return i.get(s);var n=t.apply(this,a);return r.cache=i.set(s,n)||i,n};return r.cache=new(yf.Cache||gf),r}yf.Cache=gf;var xf=yf;var bf=100,y$=2e7,x$=1e4,b$=xf(()=>{if(!process.env.USE_BUILTIN_RIPGREP||process.env.USE_BUILTIN_RIPGREP==="0"||process.env.USE_BUILTIN_RIPGREP==="false"){let s=process.platform==="win32"?"rg.exe":"rg";try{return(0,yl.execFileSync)(s,["--version"],{stdio:"ignore"}),{mode:"system",command:s,args:[]}}catch{}}let e=Yr.resolve(__dirname,"..","..","..",".."),r=Yr.resolve(e,"vendor","ripgrep");return{mode:"builtin",command:process.platform==="win32"?Yr.resolve(r,"x64-win32","rg.exe"):Yr.resolve(r,`${process.arch}-${process.platform}`,"rg"),args:[]}});function _$(){let t=b$();return{rgPath:t.command,rgArgs:t.args}}async function w$(t,e){return new Promise((r,a)=>{let{rgPath:s,rgArgs:i}=_$();(0,yl.execFile)(s,[...i,...t],{cwd:e,maxBuffer:y$,timeout:x$},(n,o)=>{if(!n){r(o.trim().split(`
`).filter(Boolean));return}if("code"in n&&n.code===1){r([]);return}let l=o&&o.trim().length>0,c="signal"in n&&n.signal==="SIGTERM"||"code"in n&&n.code==="ABORT_ERR",u="code"in n&&n.code==="ERR_CHILD_PROCESS_STDIO_MAXBUFFER";if((c||u)&&l){let d=o.trim().split(`
`).filter(Boolean);r(d.length>0?d.slice(0,-1):[]);return}a(n)})})}function S$(t,e){if(!e){let n=new Set;for(let o of t){let l=o.split(Yr.sep)[0];if(l&&(n.add(l),n.size>=bf))break}return[...n].sort().map(o=>({path:o,filename:Yr.basename(o)}))}let r=t.map(n=>({path:n,filename:Yr.basename(n),testPenalty:n.includes("test")?1:0})),a=e.lastIndexOf(Yr.sep);a>2&&(r=r.filter(n=>n.path.substring(0,a).startsWith(e.substring(0,a))));let i=new Da(r,{includeScore:!0,threshold:.5,keys:[{name:"path",weight:1},{name:"filename",weight:2}]}).search(e,{limit:bf});return i=i.sort((n,o)=>n.score===void 0||o.score===void 0?0:Math.abs(n.score-o.score)>.05?n.score-o.score:n.item.testPenalty-o.item.testPenalty),i.map(n=>({path:n.item.path,filename:n.item.filename})).slice(0,bf)}async function W_(t,e,r){try{let a=["--files","--follow","--hidden"];try{let n=_f.workspace.getConfiguration("search"),o=_f.workspace.getConfiguration("files"),l=n.get("exclude")||{},c=o.get("exclude")||{};for(let[u,d]of Object.entries(l))d&&a.push("--glob",`!${u}`);for(let[u,d]of Object.entries(c))d&&!l[u]&&a.push("--glob",`!${u}`)}catch(n){r.warn("Failed to get VSCode exclude patterns",n)}let s=await w$(a,e);return S$(s,t||"").map(n=>({path:n.path,name:n.filename,type:"file"}))}catch(a){throw r.error("Ripgrep search failed",a),a}}var Ef=require("path"),c0=require("url"),l0=require("events"),d0=require("child_process"),p0=require("readline"),Re=Pe(require("fs"),1),f0=require("fs/promises"),Aq={},E$=Object.create,P$=Object.getPrototypeOf,Sf=Object.defineProperty,R$=Object.getOwnPropertyNames,C$=Object.prototype.hasOwnProperty,T$=(t,e,r)=>{r=t!=null?E$(P$(t)):{};let a=e||!t||!t.__esModule?Sf(r,"default",{value:t,enumerable:!0}):r;for(let s of R$(t))C$.call(a,s)||Sf(a,s,{get:()=>t[s],enumerable:!0});return a},Ne=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),O$=(t,e)=>{for(var r in e)Sf(t,r,{get:e[r],enumerable:!0,configurable:!0,set:a=>e[r]=()=>a})},I$=Ne((t,e)=>{(function(r,a){typeof t=="object"&&typeof e<"u"?a(t):typeof define=="function"&&define.amd?define(["exports"],a):a(r.URI=r.URI||{})})(t,function(r){function a(){for(var x=arguments.length,y=Array(x),P=0;P<x;P++)y[P]=arguments[P];if(y.length>1){y[0]=y[0].slice(0,-1);for(var M=y.length-1,Z=1;Z<M;++Z)y[Z]=y[Z].slice(1,-1);return y[M]=y[M].slice(1),y.join("")}else return y[0]}function s(x){return"(?:"+x+")"}function i(x){return x===void 0?"undefined":x===null?"null":Object.prototype.toString.call(x).split(" ").pop().split("]").shift().toLowerCase()}function n(x){return x.toUpperCase()}function o(x){return x!=null?x instanceof Array?x:typeof x.length!="number"||x.split||x.setInterval||x.call?[x]:Array.prototype.slice.call(x):[]}function l(x,y){var P=x;if(y)for(var M in y)P[M]=y[M];return P}function c(x){var y="[A-Za-z]",P="[\\x0D]",M="[0-9]",Z="[\\x22]",ee=a(M,"[A-Fa-f]"),le="[\\x0A]",Se="[\\x20]",ve=s(s("%[EFef]"+ee+"%"+ee+ee+"%"+ee+ee)+"|"+s("%[89A-Fa-f]"+ee+"%"+ee+ee)+"|"+s("%"+ee+ee)),Fe="[\\:\\/\\?\\#\\[\\]\\@]",we="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",ke=a(Fe,we),Ee=x?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",je=x?"[\\uE000-\\uF8FF]":"[]",ge=a(y,M,"[\\-\\.\\_\\~]",Ee),pt=s(y+a(y,M,"[\\+\\-\\.]")+"*"),Ze=s(s(ve+"|"+a(ge,we,"[\\:]"))+"*"),Rt=s(s("25[0-5]")+"|"+s("2[0-4]"+M)+"|"+s("1"+M+M)+"|"+s("[1-9]"+M)+"|"+M),We=s(s("25[0-5]")+"|"+s("2[0-4]"+M)+"|"+s("1"+M+M)+"|"+s("0?[1-9]"+M)+"|0?0?"+M),ht=s(We+"\\."+We+"\\."+We+"\\."+We),Ke=s(ee+"{1,4}"),yt=s(s(Ke+"\\:"+Ke)+"|"+ht),Ct=s(s(Ke+"\\:")+"{6}"+yt),Tt=s("\\:\\:"+s(Ke+"\\:")+"{5}"+yt),dr=s(s(Ke)+"?\\:\\:"+s(Ke+"\\:")+"{4}"+yt),er=s(s(s(Ke+"\\:")+"{0,1}"+Ke)+"?\\:\\:"+s(Ke+"\\:")+"{3}"+yt),ua=s(s(s(Ke+"\\:")+"{0,2}"+Ke)+"?\\:\\:"+s(Ke+"\\:")+"{2}"+yt),Wr=s(s(s(Ke+"\\:")+"{0,3}"+Ke)+"?\\:\\:"+Ke+"\\:"+yt),Kr=s(s(s(Ke+"\\:")+"{0,4}"+Ke)+"?\\:\\:"+yt),zt=s(s(s(Ke+"\\:")+"{0,5}"+Ke)+"?\\:\\:"+Ke),pr=s(s(s(Ke+"\\:")+"{0,6}"+Ke)+"?\\:\\:"),fr=s([Ct,Tt,dr,er,ua,Wr,Kr,zt,pr].join("|")),tr=s(s(ge+"|"+ve)+"+"),uo=s(fr+"\\%25"+tr),Aa=s(fr+s("\\%25|\\%(?!"+ee+"{2})")+tr),Ac=s("[vV]"+ee+"+\\."+a(ge,we,"[\\:]")+"+"),ks=s("\\["+s(Aa+"|"+fr+"|"+Ac)+"\\]"),ss=s(s(ve+"|"+a(ge,we))+"*"),ns=s(ks+"|"+ht+"(?!"+ss+")|"+ss),Jr=s(M+"*"),kc=s(s(Ze+"@")+"?"+ns+s("\\:"+Jr)+"?"),is=s(ve+"|"+a(ge,we,"[\\:\\@]")),Qd=s(is+"*"),Ir=s(is+"+"),os=s(s(ve+"|"+a(ge,we,"[\\@]"))+"+"),mr=s(s("\\/"+Qd)+"*"),Qr=s("\\/"+s(Ir+mr)+"?"),da=s(os+mr),po=s(Ir+mr),hr="(?!"+is+")",Hn=s(mr+"|"+Qr+"|"+da+"|"+po+"|"+hr),ka=s(s(is+"|"+a("[\\/\\?]",je))+"*"),js=s(s(is+"|[\\/\\?]")+"*"),jc=s(s("\\/\\/"+kc+mr)+"|"+Qr+"|"+po+"|"+hr),Yd=s(pt+"\\:"+jc+s("\\?"+ka)+"?"+s("\\#"+js)+"?"),fg=s(s("\\/\\/"+kc+mr)+"|"+Qr+"|"+da+"|"+hr),mg=s(fg+s("\\?"+ka)+"?"+s("\\#"+js)+"?"),L1=s(Yd+"|"+mg),F1=s(pt+"\\:"+jc+s("\\?"+ka)+"?"),q1="^("+pt+")\\:"+s(s("\\/\\/("+s("("+Ze+")@")+"?("+ns+")"+s("\\:("+Jr+")")+"?)")+"?("+mr+"|"+Qr+"|"+po+"|"+hr+")")+s("\\?("+ka+")")+"?"+s("\\#("+js+")")+"?$",M1="^(){0}"+s(s("\\/\\/("+s("("+Ze+")@")+"?("+ns+")"+s("\\:("+Jr+")")+"?)")+"?("+mr+"|"+Qr+"|"+da+"|"+hr+")")+s("\\?("+ka+")")+"?"+s("\\#("+js+")")+"?$",U1="^("+pt+")\\:"+s(s("\\/\\/("+s("("+Ze+")@")+"?("+ns+")"+s("\\:("+Jr+")")+"?)")+"?("+mr+"|"+Qr+"|"+po+"|"+hr+")")+s("\\?("+ka+")")+"?$",M5="^"+s("\\#("+js+")")+"?$",U5="^"+s("("+Ze+")@")+"?("+ns+")"+s("\\:("+Jr+")")+"?$";return{NOT_SCHEME:new RegExp(a("[^]",y,M,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(a("[^\\%\\:]",ge,we),"g"),NOT_HOST:new RegExp(a("[^\\%\\[\\]\\:]",ge,we),"g"),NOT_PATH:new RegExp(a("[^\\%\\/\\:\\@]",ge,we),"g"),NOT_PATH_NOSCHEME:new RegExp(a("[^\\%\\/\\@]",ge,we),"g"),NOT_QUERY:new RegExp(a("[^\\%]",ge,we,"[\\:\\@\\/\\?]",je),"g"),NOT_FRAGMENT:new RegExp(a("[^\\%]",ge,we,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(a("[^]",ge,we),"g"),UNRESERVED:new RegExp(ge,"g"),OTHER_CHARS:new RegExp(a("[^\\%]",ge,ke),"g"),PCT_ENCODED:new RegExp(ve,"g"),IPV4ADDRESS:new RegExp("^("+ht+")$"),IPV6ADDRESS:new RegExp("^\\[?("+fr+")"+s(s("\\%25|\\%(?!"+ee+"{2})")+"("+tr+")")+"?\\]?$")}}var u=c(!1),d=c(!0),h=function(){function x(y,P){var M=[],Z=!0,ee=!1,le=void 0;try{for(var Se=y[Symbol.iterator](),ve;!(Z=(ve=Se.next()).done)&&(M.push(ve.value),!(P&&M.length===P));Z=!0);}catch(Fe){ee=!0,le=Fe}finally{try{!Z&&Se.return&&Se.return()}finally{if(ee)throw le}}return M}return function(y,P){if(Array.isArray(y))return y;if(Symbol.iterator in Object(y))return x(y,P);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),p=function(x){if(Array.isArray(x)){for(var y=0,P=Array(x.length);y<x.length;y++)P[y]=x[y];return P}else return Array.from(x)},m=2147483647,f=36,v=1,g=26,b=38,w=700,C=72,T=128,R="-",O=/^xn--/,L=/[^\0-\x7E]/,D=/[\x2E\u3002\uFF0E\uFF61]/g,F={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},$=f-v,I=Math.floor,k=String.fromCharCode;function N(x){throw new RangeError(F[x])}function B(x,y){for(var P=[],M=x.length;M--;)P[M]=y(x[M]);return P}function W(x,y){var P=x.split("@"),M="";P.length>1&&(M=P[0]+"@",x=P[1]),x=x.replace(D,".");var Z=x.split("."),ee=B(Z,y).join(".");return M+ee}function V(x){for(var y=[],P=0,M=x.length;P<M;){var Z=x.charCodeAt(P++);if(Z>=55296&&Z<=56319&&P<M){var ee=x.charCodeAt(P++);(ee&64512)==56320?y.push(((Z&1023)<<10)+(ee&1023)+65536):(y.push(Z),P--)}else y.push(Z)}return y}var K=function(y){return String.fromCodePoint.apply(String,p(y))},Q=function(y){return y-48<10?y-22:y-65<26?y-65:y-97<26?y-97:f},X=function(y,P){return y+22+75*(y<26)-((P!=0)<<5)},ae=function(y,P,M){var Z=0;for(y=M?I(y/w):y>>1,y+=I(y/P);y>$*g>>1;Z+=f)y=I(y/$);return I(Z+($+1)*y/(y+b))},ue=function(y){var P=[],M=y.length,Z=0,ee=T,le=C,Se=y.lastIndexOf(R);Se<0&&(Se=0);for(var ve=0;ve<Se;++ve)y.charCodeAt(ve)>=128&&N("not-basic"),P.push(y.charCodeAt(ve));for(var Fe=Se>0?Se+1:0;Fe<M;){for(var we=Z,ke=1,Ee=f;;Ee+=f){Fe>=M&&N("invalid-input");var je=Q(y.charCodeAt(Fe++));(je>=f||je>I((m-Z)/ke))&&N("overflow"),Z+=je*ke;var ge=Ee<=le?v:Ee>=le+g?g:Ee-le;if(je<ge)break;var pt=f-ge;ke>I(m/pt)&&N("overflow"),ke*=pt}var Ze=P.length+1;le=ae(Z-we,Ze,we==0),I(Z/Ze)>m-ee&&N("overflow"),ee+=I(Z/Ze),Z%=Ze,P.splice(Z++,0,ee)}return String.fromCodePoint.apply(String,P)},Qe=function(y){var P=[];y=V(y);var M=y.length,Z=T,ee=0,le=C,Se=!0,ve=!1,Fe=void 0;try{for(var we=y[Symbol.iterator](),ke;!(Se=(ke=we.next()).done);Se=!0){var Ee=ke.value;Ee<128&&P.push(k(Ee))}}catch(Aa){ve=!0,Fe=Aa}finally{try{!Se&&we.return&&we.return()}finally{if(ve)throw Fe}}var je=P.length,ge=je;for(je&&P.push(R);ge<M;){var pt=m,Ze=!0,Rt=!1,We=void 0;try{for(var ht=y[Symbol.iterator](),Ke;!(Ze=(Ke=ht.next()).done);Ze=!0){var yt=Ke.value;yt>=Z&&yt<pt&&(pt=yt)}}catch(Aa){Rt=!0,We=Aa}finally{try{!Ze&&ht.return&&ht.return()}finally{if(Rt)throw We}}var Ct=ge+1;pt-Z>I((m-ee)/Ct)&&N("overflow"),ee+=(pt-Z)*Ct,Z=pt;var Tt=!0,dr=!1,er=void 0;try{for(var ua=y[Symbol.iterator](),Wr;!(Tt=(Wr=ua.next()).done);Tt=!0){var Kr=Wr.value;if(Kr<Z&&++ee>m&&N("overflow"),Kr==Z){for(var zt=ee,pr=f;;pr+=f){var fr=pr<=le?v:pr>=le+g?g:pr-le;if(zt<fr)break;var tr=zt-fr,uo=f-fr;P.push(k(X(fr+tr%uo,0))),zt=I(tr/uo)}P.push(k(X(zt,0))),le=ae(ee,Ct,ge==je),ee=0,++ge}}}catch(Aa){dr=!0,er=Aa}finally{try{!Tt&&ua.return&&ua.return()}finally{if(dr)throw er}}++ee,++Z}return P.join("")},ye=function(y){return W(y,function(P){return O.test(P)?ue(P.slice(4).toLowerCase()):P})},Ce=function(y){return W(y,function(P){return L.test(P)?"xn--"+Qe(P):P})},Ae={version:"2.1.0",ucs2:{decode:V,encode:K},decode:ue,encode:Qe,toASCII:Ce,toUnicode:ye},Ue={};function U(x){var y=x.charCodeAt(0),P=void 0;return y<16?P="%0"+y.toString(16).toUpperCase():y<128?P="%"+y.toString(16).toUpperCase():y<2048?P="%"+(y>>6|192).toString(16).toUpperCase()+"%"+(y&63|128).toString(16).toUpperCase():P="%"+(y>>12|224).toString(16).toUpperCase()+"%"+(y>>6&63|128).toString(16).toUpperCase()+"%"+(y&63|128).toString(16).toUpperCase(),P}function J(x){for(var y="",P=0,M=x.length;P<M;){var Z=parseInt(x.substr(P+1,2),16);if(Z<128)y+=String.fromCharCode(Z),P+=3;else if(Z>=194&&Z<224){if(M-P>=6){var ee=parseInt(x.substr(P+4,2),16);y+=String.fromCharCode((Z&31)<<6|ee&63)}else y+=x.substr(P,6);P+=6}else if(Z>=224){if(M-P>=9){var le=parseInt(x.substr(P+4,2),16),Se=parseInt(x.substr(P+7,2),16);y+=String.fromCharCode((Z&15)<<12|(le&63)<<6|Se&63)}else y+=x.substr(P,9);P+=9}else y+=x.substr(P,3),P+=3}return y}function ne(x,y){function P(M){var Z=J(M);return Z.match(y.UNRESERVED)?Z:M}return x.scheme&&(x.scheme=String(x.scheme).replace(y.PCT_ENCODED,P).toLowerCase().replace(y.NOT_SCHEME,"")),x.userinfo!==void 0&&(x.userinfo=String(x.userinfo).replace(y.PCT_ENCODED,P).replace(y.NOT_USERINFO,U).replace(y.PCT_ENCODED,n)),x.host!==void 0&&(x.host=String(x.host).replace(y.PCT_ENCODED,P).toLowerCase().replace(y.NOT_HOST,U).replace(y.PCT_ENCODED,n)),x.path!==void 0&&(x.path=String(x.path).replace(y.PCT_ENCODED,P).replace(x.scheme?y.NOT_PATH:y.NOT_PATH_NOSCHEME,U).replace(y.PCT_ENCODED,n)),x.query!==void 0&&(x.query=String(x.query).replace(y.PCT_ENCODED,P).replace(y.NOT_QUERY,U).replace(y.PCT_ENCODED,n)),x.fragment!==void 0&&(x.fragment=String(x.fragment).replace(y.PCT_ENCODED,P).replace(y.NOT_FRAGMENT,U).replace(y.PCT_ENCODED,n)),x}function he(x){return x.replace(/^0*(.*)/,"$1")||"0"}function Y(x,y){var P=x.match(y.IPV4ADDRESS)||[],M=h(P,2),Z=M[1];return Z?Z.split(".").map(he).join("."):x}function te(x,y){var P=x.match(y.IPV6ADDRESS)||[],M=h(P,3),Z=M[1],ee=M[2];if(Z){for(var le=Z.toLowerCase().split("::").reverse(),Se=h(le,2),ve=Se[0],Fe=Se[1],we=Fe?Fe.split(":").map(he):[],ke=ve.split(":").map(he),Ee=y.IPV4ADDRESS.test(ke[ke.length-1]),je=Ee?7:8,ge=ke.length-je,pt=Array(je),Ze=0;Ze<je;++Ze)pt[Ze]=we[Ze]||ke[ge+Ze]||"";Ee&&(pt[je-1]=Y(pt[je-1],y));var Rt=pt.reduce(function(Ct,Tt,dr){if(!Tt||Tt==="0"){var er=Ct[Ct.length-1];er&&er.index+er.length===dr?er.length++:Ct.push({index:dr,length:1})}return Ct},[]),We=Rt.sort(function(Ct,Tt){return Tt.length-Ct.length})[0],ht=void 0;if(We&&We.length>1){var Ke=pt.slice(0,We.index),yt=pt.slice(We.index+We.length);ht=Ke.join(":")+"::"+yt.join(":")}else ht=pt.join(":");return ee&&(ht+="%"+ee),ht}else return x}var de=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,Le="".match(/(){0}/)[1]===void 0;function _e(x){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},P={},M=y.iri!==!1?d:u;y.reference==="suffix"&&(x=(y.scheme?y.scheme+":":"")+"//"+x);var Z=x.match(de);if(Z){Le?(P.scheme=Z[1],P.userinfo=Z[3],P.host=Z[4],P.port=parseInt(Z[5],10),P.path=Z[6]||"",P.query=Z[7],P.fragment=Z[8],isNaN(P.port)&&(P.port=Z[5])):(P.scheme=Z[1]||void 0,P.userinfo=x.indexOf("@")!==-1?Z[3]:void 0,P.host=x.indexOf("//")!==-1?Z[4]:void 0,P.port=parseInt(Z[5],10),P.path=Z[6]||"",P.query=x.indexOf("?")!==-1?Z[7]:void 0,P.fragment=x.indexOf("#")!==-1?Z[8]:void 0,isNaN(P.port)&&(P.port=x.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?Z[4]:void 0)),P.host&&(P.host=te(Y(P.host,M),M)),P.scheme===void 0&&P.userinfo===void 0&&P.host===void 0&&P.port===void 0&&!P.path&&P.query===void 0?P.reference="same-document":P.scheme===void 0?P.reference="relative":P.fragment===void 0?P.reference="absolute":P.reference="uri",y.reference&&y.reference!=="suffix"&&y.reference!==P.reference&&(P.error=P.error||"URI is not a "+y.reference+" reference.");var ee=Ue[(y.scheme||P.scheme||"").toLowerCase()];if(!y.unicodeSupport&&(!ee||!ee.unicodeSupport)){if(P.host&&(y.domainHost||ee&&ee.domainHost))try{P.host=Ae.toASCII(P.host.replace(M.PCT_ENCODED,J).toLowerCase())}catch(le){P.error=P.error||"Host's domain name can not be converted to ASCII via punycode: "+le}ne(P,u)}else ne(P,M);ee&&ee.parse&&ee.parse(P,y)}else P.error=P.error||"URI can not be parsed.";return P}function it(x,y){var P=y.iri!==!1?d:u,M=[];return x.userinfo!==void 0&&(M.push(x.userinfo),M.push("@")),x.host!==void 0&&M.push(te(Y(String(x.host),P),P).replace(P.IPV6ADDRESS,function(Z,ee,le){return"["+ee+(le?"%25"+le:"")+"]"})),(typeof x.port=="number"||typeof x.port=="string")&&(M.push(":"),M.push(String(x.port))),M.length?M.join(""):void 0}var ot=/^\.\.?\//,Te=/^\/\.(\/|$)/,ft=/^\/\.\.(\/|$)/,Ye=/^\/?(?:.|\n)*?(?=\/|$)/;function dt(x){for(var y=[];x.length;)if(x.match(ot))x=x.replace(ot,"");else if(x.match(Te))x=x.replace(Te,"/");else if(x.match(ft))x=x.replace(ft,"/"),y.pop();else if(x==="."||x==="..")x="";else{var P=x.match(Ye);if(P){var M=P[0];x=x.slice(M.length),y.push(M)}else throw new Error("Unexpected dot segment condition")}return y.join("")}function rt(x){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},P=y.iri?d:u,M=[],Z=Ue[(y.scheme||x.scheme||"").toLowerCase()];if(Z&&Z.serialize&&Z.serialize(x,y),x.host&&!P.IPV6ADDRESS.test(x.host)){if(y.domainHost||Z&&Z.domainHost)try{x.host=y.iri?Ae.toUnicode(x.host):Ae.toASCII(x.host.replace(P.PCT_ENCODED,J).toLowerCase())}catch(Se){x.error=x.error||"Host's domain name can not be converted to "+(y.iri?"Unicode":"ASCII")+" via punycode: "+Se}}ne(x,P),y.reference!=="suffix"&&x.scheme&&(M.push(x.scheme),M.push(":"));var ee=it(x,y);if(ee!==void 0&&(y.reference!=="suffix"&&M.push("//"),M.push(ee),x.path&&x.path.charAt(0)!=="/"&&M.push("/")),x.path!==void 0){var le=x.path;!y.absolutePath&&(!Z||!Z.absolutePath)&&(le=dt(le)),ee===void 0&&(le=le.replace(/^\/\//,"/%2F")),M.push(le)}return x.query!==void 0&&(M.push("?"),M.push(x.query)),x.fragment!==void 0&&(M.push("#"),M.push(x.fragment)),M.join("")}function ct(x,y){var P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},M=arguments[3],Z={};return M||(x=_e(rt(x,P),P),y=_e(rt(y,P),P)),P=P||{},!P.tolerant&&y.scheme?(Z.scheme=y.scheme,Z.userinfo=y.userinfo,Z.host=y.host,Z.port=y.port,Z.path=dt(y.path||""),Z.query=y.query):(y.userinfo!==void 0||y.host!==void 0||y.port!==void 0?(Z.userinfo=y.userinfo,Z.host=y.host,Z.port=y.port,Z.path=dt(y.path||""),Z.query=y.query):(y.path?(y.path.charAt(0)==="/"?Z.path=dt(y.path):((x.userinfo!==void 0||x.host!==void 0||x.port!==void 0)&&!x.path?Z.path="/"+y.path:x.path?Z.path=x.path.slice(0,x.path.lastIndexOf("/")+1)+y.path:Z.path=y.path,Z.path=dt(Z.path)),Z.query=y.query):(Z.path=x.path,y.query!==void 0?Z.query=y.query:Z.query=x.query),Z.userinfo=x.userinfo,Z.host=x.host,Z.port=x.port),Z.scheme=x.scheme),Z.fragment=y.fragment,Z}function Lt(x,y,P){var M=l({scheme:"null"},P);return rt(ct(_e(x,M),_e(y,M),M,!0),M)}function Ft(x,y){return typeof x=="string"?x=rt(_e(x,y),y):i(x)==="object"&&(x=_e(rt(x,y),y)),x}function Ut(x,y,P){return typeof x=="string"?x=rt(_e(x,P),P):i(x)==="object"&&(x=rt(x,P)),typeof y=="string"?y=rt(_e(y,P),P):i(y)==="object"&&(y=rt(y,P)),x===y}function Oa(x,y){return x&&x.toString().replace(!y||!y.iri?u.ESCAPE:d.ESCAPE,U)}function Xt(x,y){return x&&x.toString().replace(!y||!y.iri?u.PCT_ENCODED:d.PCT_ENCODED,J)}var ts={scheme:"http",domainHost:!0,parse:function(y,P){return y.host||(y.error=y.error||"HTTP URIs must have a host."),y},serialize:function(y,P){var M=String(y.scheme).toLowerCase()==="https";return(y.port===(M?443:80)||y.port==="")&&(y.port=void 0),y.path||(y.path="/"),y}},rs={scheme:"https",domainHost:ts.domainHost,parse:ts.parse,serialize:ts.serialize};function io(x){return typeof x.secure=="boolean"?x.secure:String(x.scheme).toLowerCase()==="wss"}var As={scheme:"ws",domainHost:!0,parse:function(y,P){var M=y;return M.secure=io(M),M.resourceName=(M.path||"/")+(M.query?"?"+M.query:""),M.path=void 0,M.query=void 0,M},serialize:function(y,P){if((y.port===(io(y)?443:80)||y.port==="")&&(y.port=void 0),typeof y.secure=="boolean"&&(y.scheme=y.secure?"wss":"ws",y.secure=void 0),y.resourceName){var M=y.resourceName.split("?"),Z=h(M,2),ee=Z[0],le=Z[1];y.path=ee&&ee!=="/"?ee:void 0,y.query=le,y.resourceName=void 0}return y.fragment=void 0,y}},Cc={scheme:"wss",domainHost:As.domainHost,parse:As.parse,serialize:As.serialize},Tc={},Tr=!0,Oc="[A-Za-z0-9\\-\\.\\_\\~"+(Tr?"\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF":"")+"]",Or="[0-9A-Fa-f]",Zd=s(s("%[EFef]"+Or+"%"+Or+Or+"%"+Or+Or)+"|"+s("%[89A-Fa-f]"+Or+"%"+Or+Or)+"|"+s("%"+Or+Or)),Vd="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",Hd="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",Gd=a(Hd,'[\\"\\\\]'),as="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",Wd=new RegExp(Oc,"g"),Ia=new RegExp(Zd,"g"),Kd=new RegExp(a("[^]",Vd,"[\\.]",'[\\"]',Gd),"g"),Vn=new RegExp(a("[^]",Oc,as),"g"),Ic=Vn;function oo(x){var y=J(x);return y.match(Wd)?y:x}var co={scheme:"mailto",parse:function(y,P){var M=y,Z=M.to=M.path?M.path.split(","):[];if(M.path=void 0,M.query){for(var ee=!1,le={},Se=M.query.split("&"),ve=0,Fe=Se.length;ve<Fe;++ve){var we=Se[ve].split("=");switch(we[0]){case"to":for(var ke=we[1].split(","),Ee=0,je=ke.length;Ee<je;++Ee)Z.push(ke[Ee]);break;case"subject":M.subject=Xt(we[1],P);break;case"body":M.body=Xt(we[1],P);break;default:ee=!0,le[Xt(we[0],P)]=Xt(we[1],P);break}}ee&&(M.headers=le)}M.query=void 0;for(var ge=0,pt=Z.length;ge<pt;++ge){var Ze=Z[ge].split("@");if(Ze[0]=Xt(Ze[0]),P.unicodeSupport)Ze[1]=Xt(Ze[1],P).toLowerCase();else try{Ze[1]=Ae.toASCII(Xt(Ze[1],P).toLowerCase())}catch(Rt){M.error=M.error||"Email address's domain name can not be converted to ASCII via punycode: "+Rt}Z[ge]=Ze.join("@")}return M},serialize:function(y,P){var M=y,Z=o(y.to);if(Z){for(var ee=0,le=Z.length;ee<le;++ee){var Se=String(Z[ee]),ve=Se.lastIndexOf("@"),Fe=Se.slice(0,ve).replace(Ia,oo).replace(Ia,n).replace(Kd,U),we=Se.slice(ve+1);try{we=P.iri?Ae.toUnicode(we):Ae.toASCII(Xt(we,P).toLowerCase())}catch(ge){M.error=M.error||"Email address's domain name can not be converted to "+(P.iri?"Unicode":"ASCII")+" via punycode: "+ge}Z[ee]=Fe+"@"+we}M.path=Z.join(",")}var ke=y.headers=y.headers||{};y.subject&&(ke.subject=y.subject),y.body&&(ke.body=y.body);var Ee=[];for(var je in ke)ke[je]!==Tc[je]&&Ee.push(je.replace(Ia,oo).replace(Ia,n).replace(Vn,U)+"="+ke[je].replace(Ia,oo).replace(Ia,n).replace(Ic,U));return Ee.length&&(M.query=Ee.join("&")),M}},Jd=/^([^\:]+)\:(.*)/,lo={scheme:"urn",parse:function(y,P){var M=y.path&&y.path.match(Jd),Z=y;if(M){var ee=P.scheme||Z.scheme||"urn",le=M[1].toLowerCase(),Se=M[2],ve=ee+":"+(P.nid||le),Fe=Ue[ve];Z.nid=le,Z.nss=Se,Z.path=void 0,Fe&&(Z=Fe.parse(Z,P))}else Z.error=Z.error||"URN can not be parsed.";return Z},serialize:function(y,P){var M=P.scheme||y.scheme||"urn",Z=y.nid,ee=M+":"+(P.nid||Z),le=Ue[ee];le&&(y=le.serialize(y,P));var Se=y,ve=y.nss;return Se.path=(Z||P.nid)+":"+ve,Se}},q=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,A={scheme:"urn:uuid",parse:function(y,P){var M=y;return M.uuid=M.nss,M.nss=void 0,!P.tolerant&&(!M.uuid||!M.uuid.match(q))&&(M.error=M.error||"UUID is not valid."),M},serialize:function(y,P){var M=y;return M.nss=(y.uuid||"").toLowerCase(),M}};Ue[ts.scheme]=ts,Ue[rs.scheme]=rs,Ue[As.scheme]=As,Ue[Cc.scheme]=Cc,Ue[co.scheme]=co,Ue[lo.scheme]=lo,Ue[A.scheme]=A,r.SCHEMES=Ue,r.pctEncChar=U,r.pctDecChars=J,r.parse=_e,r.removeDotSegments=dt,r.serialize=rt,r.resolveComponents=ct,r.resolve=Lt,r.normalize=Ft,r.equal=Ut,r.escapeComponent=Oa,r.unescapeComponent=Xt,Object.defineProperty(r,"__esModule",{value:!0})})}),Df=Ne((t,e)=>{e.exports=function r(a,s){if(a===s)return!0;if(a&&s&&typeof a=="object"&&typeof s=="object"){if(a.constructor!==s.constructor)return!1;var i,n,o;if(Array.isArray(a)){if(i=a.length,i!=s.length)return!1;for(n=i;n--!==0;)if(!r(a[n],s[n]))return!1;return!0}if(a.constructor===RegExp)return a.source===s.source&&a.flags===s.flags;if(a.valueOf!==Object.prototype.valueOf)return a.valueOf()===s.valueOf();if(a.toString!==Object.prototype.toString)return a.toString()===s.toString();if(o=Object.keys(a),i=o.length,i!==Object.keys(s).length)return!1;for(n=i;n--!==0;)if(!Object.prototype.hasOwnProperty.call(s,o[n]))return!1;for(n=i;n--!==0;){var l=o[n];if(!r(a[l],s[l]))return!1}return!0}return a!==a&&s!==s}}),A$=Ne((t,e)=>{e.exports=function(a){for(var s=0,i=a.length,n=0,o;n<i;)s++,o=a.charCodeAt(n++),o>=55296&&o<=56319&&n<i&&(o=a.charCodeAt(n),(o&64512)==56320&&n++);return s}}),vi=Ne((t,e)=>{e.exports={copy:r,checkDataType:a,checkDataTypes:s,coerceToTypes:n,toHash:o,getProperty:u,escapeQuotes:d,equal:Df(),ucs2length:A$(),varOccurences:h,varReplace:p,schemaHasRules:m,schemaHasRulesExcept:f,schemaUnknownRules:v,toQuotedString:g,getPathExpr:b,getPath:w,getData:R,unescapeFragment:L,unescapeJsonPointer:$,escapeFragment:D,escapeJsonPointer:F};function r(I,k){k=k||{};for(var N in I)k[N]=I[N];return k}function a(I,k,N,B){var W=B?" !== ":" === ",V=B?" || ":" && ",K=B?"!":"",Q=B?"":"!";switch(I){case"null":return k+W+"null";case"array":return K+"Array.isArray("+k+")";case"object":return"("+K+k+V+"typeof "+k+W+'"object"'+V+Q+"Array.isArray("+k+"))";case"integer":return"(typeof "+k+W+'"number"'+V+Q+"("+k+" % 1)"+V+k+W+k+(N?V+K+"isFinite("+k+")":"")+")";case"number":return"(typeof "+k+W+'"'+I+'"'+(N?V+K+"isFinite("+k+")":"")+")";default:return"typeof "+k+W+'"'+I+'"'}}function s(I,k,N){switch(I.length){case 1:return a(I[0],k,N,!0);default:var B="",W=o(I);W.array&&W.object&&(B=W.null?"(":"(!"+k+" || ",B+="typeof "+k+' !== "object")',delete W.null,delete W.array,delete W.object),W.number&&delete W.integer;for(var V in W)B+=(B?" && ":"")+a(V,k,N,!0);return B}}var i=o(["string","number","integer","boolean","null"]);function n(I,k){if(Array.isArray(k)){for(var N=[],B=0;B<k.length;B++){var W=k[B];(i[W]||I==="array"&&W==="array")&&(N[N.length]=W)}if(N.length)return N}else{if(i[k])return[k];if(I==="array"&&k==="array")return["array"]}}function o(I){for(var k={},N=0;N<I.length;N++)k[I[N]]=!0;return k}var l=/^[a-z$_][a-z$_0-9]*$/i,c=/'|\\/g;function u(I){return typeof I=="number"?"["+I+"]":l.test(I)?"."+I:"['"+d(I)+"']"}function d(I){return I.replace(c,"\\$&").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\f/g,"\\f").replace(/\t/g,"\\t")}function h(I,k){k+="[^0-9]";var N=I.match(new RegExp(k,"g"));return N?N.length:0}function p(I,k,N){return k+="([^0-9])",N=N.replace(/\$/g,"$$$$"),I.replace(new RegExp(k,"g"),N+"$1")}function m(I,k){if(typeof I=="boolean")return!I;for(var N in I)if(k[N])return!0}function f(I,k,N){if(typeof I=="boolean")return!I&&N!="not";for(var B in I)if(B!=N&&k[B])return!0}function v(I,k){if(typeof I!="boolean"){for(var N in I)if(!k[N])return N}}function g(I){return"'"+d(I)+"'"}function b(I,k,N,B){var W=N?"'/' + "+k+(B?"":".replace(/~/g, '~0').replace(/\\//g, '~1')"):B?"'[' + "+k+" + ']'":"'[\\'' + "+k+" + '\\']'";return O(I,W)}function w(I,k,N){var B=g(N?"/"+F(k):u(k));return O(I,B)}var C=/^\/(?:[^~]|~0|~1)*$/,T=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function R(I,k,N){var B,W,V,K;if(I==="")return"rootData";if(I[0]=="/"){if(!C.test(I))throw new Error("Invalid JSON-pointer: "+I);W=I,V="rootData"}else{if(K=I.match(T),!K)throw new Error("Invalid JSON-pointer: "+I);if(B=+K[1],W=K[2],W=="#"){if(B>=k)throw new Error("Cannot access property/index "+B+" levels up, current level is "+k);return N[k-B]}if(B>k)throw new Error("Cannot access data "+B+" levels up, current level is "+k);if(V="data"+(k-B||""),!W)return V}for(var Q=V,X=W.split("/"),ae=0;ae<X.length;ae++){var ue=X[ae];ue&&(V+=u($(ue)),Q+=" && "+V)}return Q}function O(I,k){return I=='""'?k:(I+" + "+k).replace(/([^\\])' \+ '/g,"$1")}function L(I){return $(decodeURIComponent(I))}function D(I){return encodeURIComponent(F(I))}function F(I){return I.replace(/~/g,"~0").replace(/\//g,"~1")}function $(I){return I.replace(/~1/g,"/").replace(/~0/g,"~")}}),s0=Ne((t,e)=>{var r=vi();e.exports=a;function a(s){r.copy(s,this)}}),k$=Ne((t,e)=>{var r=e.exports=function(i,n,o){typeof n=="function"&&(o=n,n={}),o=n.cb||o;var l=typeof o=="function"?o:o.pre||function(){},c=o.post||function(){};a(n,l,c,i,"",i)};r.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0},r.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},r.propsKeywords={definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},r.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function a(i,n,o,l,c,u,d,h,p,m){if(l&&typeof l=="object"&&!Array.isArray(l)){n(l,c,u,d,h,p,m);for(var f in l){var v=l[f];if(Array.isArray(v)){if(f in r.arrayKeywords)for(var g=0;g<v.length;g++)a(i,n,o,v[g],c+"/"+f+"/"+g,u,c,f,l,g)}else if(f in r.propsKeywords){if(v&&typeof v=="object")for(var b in v)a(i,n,o,v[b],c+"/"+f+"/"+s(b),u,c,f,l,b)}else(f in r.keywords||i.allKeys&&!(f in r.skipKeywords))&&a(i,n,o,v,c+"/"+f,u,c,f,l)}o(l,c,u,d,h,p,m)}}function s(i){return i.replace(/~/g,"~0").replace(/\//g,"~1")}}),Nf=Ne((t,e)=>{var r=I$(),a=Df(),s=vi(),i=s0(),n=k$();e.exports=o,o.normalizeId=w,o.fullPath=v,o.url=C,o.ids=T,o.inlineRef=p,o.schema=l;function o(R,O,L){var D=this._refs[L];if(typeof D=="string")if(this._refs[D])D=this._refs[D];else return o.call(this,R,O,D);if(D=D||this._schemas[L],D instanceof i)return p(D.schema,this._opts.inlineRefs)?D.schema:D.validate||this._compile(D);var F=l.call(this,O,L),$,I,k;return F&&($=F.schema,O=F.root,k=F.baseId),$ instanceof i?I=$.validate||R.call(this,$.schema,O,void 0,k):$!==void 0&&(I=p($,this._opts.inlineRefs)?$:R.call(this,$,O,void 0,k)),I}function l(R,O){var L=r.parse(O),D=g(L),F=v(this._getId(R.schema));if(Object.keys(R.schema).length===0||D!==F){var $=w(D),I=this._refs[$];if(typeof I=="string")return c.call(this,R,I,L);if(I instanceof i)I.validate||this._compile(I),R=I;else if(I=this._schemas[$],I instanceof i){if(I.validate||this._compile(I),$==w(O))return{schema:I,root:R,baseId:F};R=I}else return;if(!R.schema)return;F=v(this._getId(R.schema))}return d.call(this,L,F,R.schema,R)}function c(R,O,L){var D=l.call(this,R,O);if(D){var F=D.schema,$=D.baseId;R=D.root;var I=this._getId(F);return I&&($=C($,I)),d.call(this,L,$,F,R)}}var u=s.toHash(["properties","patternProperties","enum","dependencies","definitions"]);function d(R,O,L,D){if(R.fragment=R.fragment||"",R.fragment.slice(0,1)=="/"){for(var F=R.fragment.split("/"),$=1;$<F.length;$++){var I=F[$];if(I){if(I=s.unescapeFragment(I),L=L[I],L===void 0)break;var k;if(!u[I]&&(k=this._getId(L),k&&(O=C(O,k)),L.$ref)){var N=C(O,L.$ref),B=l.call(this,D,N);B&&(L=B.schema,D=B.root,O=B.baseId)}}}if(L!==void 0&&L!==D.schema)return{schema:L,root:D,baseId:O}}}var h=s.toHash(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum"]);function p(R,O){if(O===!1)return!1;if(O===void 0||O===!0)return m(R);if(O)return f(R)<=O}function m(R){var O;if(Array.isArray(R)){for(var L=0;L<R.length;L++)if(O=R[L],typeof O=="object"&&!m(O))return!1}else for(var D in R)if(D=="$ref"||(O=R[D],typeof O=="object"&&!m(O)))return!1;return!0}function f(R){var O=0,L;if(Array.isArray(R)){for(var D=0;D<R.length;D++)if(L=R[D],typeof L=="object"&&(O+=f(L)),O==1/0)return 1/0}else for(var F in R){if(F=="$ref")return 1/0;if(h[F])O++;else if(L=R[F],typeof L=="object"&&(O+=f(L)+1),O==1/0)return 1/0}return O}function v(R,O){O!==!1&&(R=w(R));var L=r.parse(R);return g(L)}function g(R){return r.serialize(R).split("#")[0]+"#"}var b=/#\/?$/;function w(R){return R?R.replace(b,""):""}function C(R,O){return O=w(O),r.resolve(R,O)}function T(R){var O=w(this._getId(R)),L={"":O},D={"":v(O,!1)},F={},$=this;return n(R,{allKeys:!0},function(I,k,N,B,W,V,K){if(k!==""){var Q=$._getId(I),X=L[B],ae=D[B]+"/"+W;if(K!==void 0&&(ae+="/"+(typeof K=="number"?K:s.escapeFragment(K))),typeof Q=="string"){Q=X=w(X?r.resolve(X,Q):Q);var ue=$._refs[Q];if(typeof ue=="string"&&(ue=$._refs[ue]),ue&&ue.schema){if(!a(I,ue.schema))throw new Error('id "'+Q+'" resolves to more than one schema')}else if(Q!=w(ae))if(Q[0]=="#"){if(F[Q]&&!a(I,F[Q]))throw new Error('id "'+Q+'" resolves to more than one schema');F[Q]=I}else $._refs[Q]=ae}L[k]=X,D[k]=ae}}),F}}),$f=Ne((t,e)=>{var r=Nf();e.exports={Validation:i(a),MissingRef:i(s)};function a(n){this.message="validation failed",this.errors=n,this.ajv=this.validation=!0}s.message=function(n,o){return"can't resolve reference "+o+" from id "+n};function s(n,o,l){this.message=l||s.message(n,o),this.missingRef=r.url(n,o),this.missingSchema=r.normalizeId(r.fullPath(this.missingRef))}function i(n){return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}}),n0=Ne((t,e)=>{e.exports=function(r,a){a||(a={}),typeof a=="function"&&(a={cmp:a});var s=typeof a.cycles=="boolean"?a.cycles:!1,i=a.cmp&&function(o){return function(l){return function(c,u){var d={key:c,value:l[c]},h={key:u,value:l[u]};return o(d,h)}}}(a.cmp),n=[];return function o(l){if(l&&l.toJSON&&typeof l.toJSON=="function"&&(l=l.toJSON()),l!==void 0){if(typeof l=="number")return isFinite(l)?""+l:"null";if(typeof l!="object")return JSON.stringify(l);var c,u;if(Array.isArray(l)){for(u="[",c=0;c<l.length;c++)c&&(u+=","),u+=o(l[c])||"null";return u+"]"}if(l===null)return"null";if(n.indexOf(l)!==-1){if(s)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var d=n.push(l)-1,h=Object.keys(l).sort(i&&i(l));for(u="",c=0;c<h.length;c++){var p=h[c],m=o(l[p]);m&&(u&&(u+=","),u+=JSON.stringify(p)+":"+m)}return n.splice(d,1),"{"+u+"}"}}(r)}}),i0=Ne((t,e)=>{e.exports=function(a,s,i){var n="",o=a.schema.$async===!0,l=a.util.schemaHasRulesExcept(a.schema,a.RULES.all,"$ref"),c=a.self._getId(a.schema);if(a.opts.strictKeywords){var u=a.util.schemaUnknownRules(a.schema,a.RULES.keywords);if(u){var d="unknown keyword: "+u;if(a.opts.strictKeywords==="log")a.logger.warn(d);else throw new Error(d)}}if(a.isTop&&(n+=" var validate = ",o&&(a.async=!0,n+="async "),n+="function(data, dataPath, parentData, parentDataProperty, rootData) { 'use strict'; ",c&&(a.opts.sourceCode||a.opts.processCode)&&(n+=" "+("/*# sourceURL="+c+" */")+" ")),typeof a.schema=="boolean"||!(l||a.schema.$ref)){var s="false schema",h=a.level,p=a.dataLevel,m=a.schema[s],f=a.schemaPath+a.util.getProperty(s),v=a.errSchemaPath+"/"+s,O=!a.opts.allErrors,F,g="data"+(p||""),R="valid"+h;if(a.schema===!1){a.isTop?O=!0:n+=" var "+R+" = false; ";var b=b||[];b.push(n),n="",a.createErrors!==!1?(n+=" { keyword: '"+(F||"false schema")+"' , dataPath: (dataPath || '') + "+a.errorPath+" , schemaPath: "+a.util.toQuotedString(v)+" , params: {} ",a.opts.messages!==!1&&(n+=" , message: 'boolean schema is false' "),a.opts.verbose&&(n+=" , schema: false , parentSchema: validate.schema"+a.schemaPath+" , data: "+g+" "),n+=" } "):n+=" {} ";var w=n;n=b.pop(),!a.compositeRule&&O?a.async?n+=" throw new ValidationError(["+w+"]); ":n+=" validate.errors = ["+w+"]; return false; ":n+=" var err = "+w+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else a.isTop?o?n+=" return data; ":n+=" validate.errors = null; return true; ":n+=" var "+R+" = true; ";return a.isTop&&(n+=" }; return validate; "),n}if(a.isTop){var C=a.isTop,h=a.level=0,p=a.dataLevel=0,g="data";if(a.rootId=a.resolve.fullPath(a.self._getId(a.root.schema)),a.baseId=a.baseId||a.rootId,delete a.isTop,a.dataPathArr=[""],a.schema.default!==void 0&&a.opts.useDefaults&&a.opts.strictDefaults){var T="default is ignored in the schema root";if(a.opts.strictDefaults==="log")a.logger.warn(T);else throw new Error(T)}n+=" var vErrors = null; ",n+=" var errors = 0;     ",n+=" if (rootData === undefined) rootData = data; "}else{var{level:h,dataLevel:p}=a,g="data"+(p||"");if(c&&(a.baseId=a.resolve.url(a.baseId,c)),o&&!a.async)throw new Error("async schema in sync schema");n+=" var errs_"+h+" = errors;"}var R="valid"+h,O=!a.opts.allErrors,L="",D="",F,$=a.schema.type,I=Array.isArray($);if($&&a.opts.nullable&&a.schema.nullable===!0&&(I?$.indexOf("null")==-1&&($=$.concat("null")):$!="null"&&($=[$,"null"],I=!0)),I&&$.length==1&&($=$[0],I=!1),a.schema.$ref&&l){if(a.opts.extendRefs=="fail")throw new Error('$ref: validation keywords used in schema at path "'+a.errSchemaPath+'" (see option extendRefs)');a.opts.extendRefs!==!0&&(l=!1,a.logger.warn('$ref: keywords ignored in schema at path "'+a.errSchemaPath+'"'))}if(a.schema.$comment&&a.opts.$comment&&(n+=" "+a.RULES.all.$comment.code(a,"$comment")),$){if(a.opts.coerceTypes)var k=a.util.coerceToTypes(a.opts.coerceTypes,$);var N=a.RULES.types[$];if(k||I||N===!0||N&&!Ye(N)){var f=a.schemaPath+".type",v=a.errSchemaPath+"/type",f=a.schemaPath+".type",v=a.errSchemaPath+"/type",B=I?"checkDataTypes":"checkDataType";if(n+=" if ("+a.util[B]($,g,a.opts.strictNumbers,!0)+") { ",k){var W="dataType"+h,V="coerced"+h;n+=" var "+W+" = typeof "+g+"; var "+V+" = undefined; ",a.opts.coerceTypes=="array"&&(n+=" if ("+W+" == 'object' && Array.isArray("+g+") && "+g+".length == 1) { "+g+" = "+g+"[0]; "+W+" = typeof "+g+"; if ("+a.util.checkDataType(a.schema.type,g,a.opts.strictNumbers)+") "+V+" = "+g+"; } "),n+=" if ("+V+" !== undefined) ; ";var K=k;if(K)for(var Q,X=-1,ae=K.length-1;X<ae;)Q=K[X+=1],Q=="string"?n+=" else if ("+W+" == 'number' || "+W+" == 'boolean') "+V+" = '' + "+g+"; else if ("+g+" === null) "+V+" = ''; ":Q=="number"||Q=="integer"?(n+=" else if ("+W+" == 'boolean' || "+g+" === null || ("+W+" == 'string' && "+g+" && "+g+" == +"+g+" ",Q=="integer"&&(n+=" && !("+g+" % 1)"),n+=")) "+V+" = +"+g+"; "):Q=="boolean"?n+=" else if ("+g+" === 'false' || "+g+" === 0 || "+g+" === null) "+V+" = false; else if ("+g+" === 'true' || "+g+" === 1) "+V+" = true; ":Q=="null"?n+=" else if ("+g+" === '' || "+g+" === 0 || "+g+" === false) "+V+" = null; ":a.opts.coerceTypes=="array"&&Q=="array"&&(n+=" else if ("+W+" == 'string' || "+W+" == 'number' || "+W+" == 'boolean' || "+g+" == null) "+V+" = ["+g+"]; ");n+=" else {   ";var b=b||[];b.push(n),n="",a.createErrors!==!1?(n+=" { keyword: '"+(F||"type")+"' , dataPath: (dataPath || '') + "+a.errorPath+" , schemaPath: "+a.util.toQuotedString(v)+" , params: { type: '",I?n+=""+$.join(","):n+=""+$,n+="' } ",a.opts.messages!==!1&&(n+=" , message: 'should be ",I?n+=""+$.join(","):n+=""+$,n+="' "),a.opts.verbose&&(n+=" , schema: validate.schema"+f+" , parentSchema: validate.schema"+a.schemaPath+" , data: "+g+" "),n+=" } "):n+=" {} ";var w=n;n=b.pop(),!a.compositeRule&&O?a.async?n+=" throw new ValidationError(["+w+"]); ":n+=" validate.errors = ["+w+"]; return false; ":n+=" var err = "+w+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } if ("+V+" !== undefined) {  ";var ue=p?"data"+(p-1||""):"parentData",Qe=p?a.dataPathArr[p]:"parentDataProperty";n+=" "+g+" = "+V+"; ",p||(n+="if ("+ue+" !== undefined)"),n+=" "+ue+"["+Qe+"] = "+V+"; } "}else{var b=b||[];b.push(n),n="",a.createErrors!==!1?(n+=" { keyword: '"+(F||"type")+"' , dataPath: (dataPath || '') + "+a.errorPath+" , schemaPath: "+a.util.toQuotedString(v)+" , params: { type: '",I?n+=""+$.join(","):n+=""+$,n+="' } ",a.opts.messages!==!1&&(n+=" , message: 'should be ",I?n+=""+$.join(","):n+=""+$,n+="' "),a.opts.verbose&&(n+=" , schema: validate.schema"+f+" , parentSchema: validate.schema"+a.schemaPath+" , data: "+g+" "),n+=" } "):n+=" {} ";var w=n;n=b.pop(),!a.compositeRule&&O?a.async?n+=" throw new ValidationError(["+w+"]); ":n+=" validate.errors = ["+w+"]; return false; ":n+=" var err = "+w+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}n+=" } "}}if(a.schema.$ref&&!l)n+=" "+a.RULES.all.$ref.code(a,"$ref")+" ",O&&(n+=" } if (errors === ",C?n+="0":n+="errs_"+h,n+=") { ",D+="}");else{var ye=a.RULES;if(ye){for(var N,Ce=-1,Ae=ye.length-1;Ce<Ae;)if(N=ye[Ce+=1],Ye(N)){if(N.type&&(n+=" if ("+a.util.checkDataType(N.type,g,a.opts.strictNumbers)+") { "),a.opts.useDefaults){if(N.type=="object"&&a.schema.properties){var m=a.schema.properties,Ue=Object.keys(m),U=Ue;if(U)for(var J,ne=-1,he=U.length-1;ne<he;){J=U[ne+=1];var Y=m[J];if(Y.default!==void 0){var te=g+a.util.getProperty(J);if(a.compositeRule){if(a.opts.strictDefaults){var T="default is ignored for: "+te;if(a.opts.strictDefaults==="log")a.logger.warn(T);else throw new Error(T)}}else n+=" if ("+te+" === undefined ",a.opts.useDefaults=="empty"&&(n+=" || "+te+" === null || "+te+" === '' "),n+=" ) "+te+" = ",a.opts.useDefaults=="shared"?n+=" "+a.useDefault(Y.default)+" ":n+=" "+JSON.stringify(Y.default)+" ",n+="; "}}}else if(N.type=="array"&&Array.isArray(a.schema.items)){var de=a.schema.items;if(de){for(var Y,X=-1,Le=de.length-1;X<Le;)if(Y=de[X+=1],Y.default!==void 0){var te=g+"["+X+"]";if(a.compositeRule){if(a.opts.strictDefaults){var T="default is ignored for: "+te;if(a.opts.strictDefaults==="log")a.logger.warn(T);else throw new Error(T)}}else n+=" if ("+te+" === undefined ",a.opts.useDefaults=="empty"&&(n+=" || "+te+" === null || "+te+" === '' "),n+=" ) "+te+" = ",a.opts.useDefaults=="shared"?n+=" "+a.useDefault(Y.default)+" ":n+=" "+JSON.stringify(Y.default)+" ",n+="; "}}}}var _e=N.rules;if(_e){for(var it,ot=-1,Te=_e.length-1;ot<Te;)if(it=_e[ot+=1],dt(it)){var ft=it.code(a,it.keyword,N.type);ft&&(n+=" "+ft+" ",O&&(L+="}"))}}if(O&&(n+=" "+L+" ",L=""),N.type&&(n+=" } ",$&&$===N.type&&!k)){n+=" else { ";var f=a.schemaPath+".type",v=a.errSchemaPath+"/type",b=b||[];b.push(n),n="",a.createErrors!==!1?(n+=" { keyword: '"+(F||"type")+"' , dataPath: (dataPath || '') + "+a.errorPath+" , schemaPath: "+a.util.toQuotedString(v)+" , params: { type: '",I?n+=""+$.join(","):n+=""+$,n+="' } ",a.opts.messages!==!1&&(n+=" , message: 'should be ",I?n+=""+$.join(","):n+=""+$,n+="' "),a.opts.verbose&&(n+=" , schema: validate.schema"+f+" , parentSchema: validate.schema"+a.schemaPath+" , data: "+g+" "),n+=" } "):n+=" {} ";var w=n;n=b.pop(),!a.compositeRule&&O?a.async?n+=" throw new ValidationError(["+w+"]); ":n+=" validate.errors = ["+w+"]; return false; ":n+=" var err = "+w+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } "}O&&(n+=" if (errors === ",C?n+="0":n+="errs_"+h,n+=") { ",D+="}")}}}O&&(n+=" "+D+" "),C?(o?(n+=" if (errors === 0) return data;           ",n+=" else throw new ValidationError(vErrors); "):(n+=" validate.errors = vErrors; ",n+=" return errors === 0;       "),n+=" }; return validate;"):n+=" var "+R+" = errors === errs_"+h+";";function Ye(ct){for(var Lt=ct.rules,Ft=0;Ft<Lt.length;Ft++)if(dt(Lt[Ft]))return!0}function dt(ct){return a.schema[ct.keyword]!==void 0||ct.implements&&rt(ct)}function rt(ct){for(var Lt=ct.implements,Ft=0;Ft<Lt.length;Ft++)if(a.schema[Lt[Ft]]!==void 0)return!0}return n}}),j$=Ne((t,e)=>{var r=Nf(),a=vi(),s=$f(),i=n0(),n=i0(),o=a.ucs2length,l=Df(),c=s.Validation;e.exports=u;function u(w,C,T,R){var O=this,L=this._opts,D=[void 0],F={},$=[],I={},k=[],N={},B=[];C=C||{schema:w,refVal:D,refs:F};var W=d.call(this,w,C,R),V=this._compilations[W.index];if(W.compiling)return V.callValidate=ue;var K=this._formats,Q=this.RULES;try{var X=Qe(w,C,T,R);V.validate=X;var ae=V.callValidate;return ae&&(ae.schema=X.schema,ae.errors=null,ae.refs=X.refs,ae.refVal=X.refVal,ae.root=X.root,ae.$async=X.$async,L.sourceCode&&(ae.source=X.source)),X}finally{h.call(this,w,C,R)}function ue(){var Y=V.validate,te=Y.apply(this,arguments);return ue.errors=Y.errors,te}function Qe(Y,te,de,Le){var _e=!te||te&&te.schema==Y;if(te.schema!=C.schema)return u.call(O,Y,te,de,Le);var it=Y.$async===!0,ot=n({isTop:!0,schema:Y,isRoot:_e,baseId:Le,root:te,schemaPath:"",errSchemaPath:"#",errorPath:'""',MissingRefError:s.MissingRef,RULES:Q,validate:n,util:a,resolve:r,resolveRef:ye,usePattern:J,useDefault:ne,useCustomRule:he,opts:L,formats:K,logger:O.logger,self:O});ot=b(D,v)+b($,m)+b(k,f)+b(B,g)+ot,L.processCode&&(ot=L.processCode(ot,Y));var Te;try{var ft=new Function("self","RULES","formats","root","refVal","defaults","customRules","equal","ucs2length","ValidationError",ot);Te=ft(O,Q,K,C,D,k,B,l,o,c),D[0]=Te}catch(Ye){throw O.logger.error("Error compiling schema, function code:",ot),Ye}return Te.schema=Y,Te.errors=null,Te.refs=F,Te.refVal=D,Te.root=_e?Te:te,it&&(Te.$async=!0),L.sourceCode===!0&&(Te.source={code:ot,patterns:$,defaults:k}),Te}function ye(Y,te,de){te=r.url(Y,te);var Le=F[te],_e,it;if(Le!==void 0)return _e=D[Le],it="refVal["+Le+"]",U(_e,it);if(!de&&C.refs){var ot=C.refs[te];if(ot!==void 0)return _e=C.refVal[ot],it=Ce(te,_e),U(_e,it)}it=Ce(te);var Te=r.call(O,Qe,C,te);if(Te===void 0){var ft=T&&T[te];ft&&(Te=r.inlineRef(ft,L.inlineRefs)?ft:u.call(O,ft,C,T,Y))}if(Te===void 0)Ae(te);else return Ue(te,Te),U(Te,it)}function Ce(Y,te){var de=D.length;return D[de]=te,F[Y]=de,"refVal"+de}function Ae(Y){delete F[Y]}function Ue(Y,te){var de=F[Y];D[de]=te}function U(Y,te){return typeof Y=="object"||typeof Y=="boolean"?{code:te,schema:Y,inline:!0}:{code:te,$async:Y&&!!Y.$async}}function J(Y){var te=I[Y];return te===void 0&&(te=I[Y]=$.length,$[te]=Y),"pattern"+te}function ne(Y){switch(typeof Y){case"boolean":case"number":return""+Y;case"string":return a.toQuotedString(Y);case"object":if(Y===null)return"null";var te=i(Y),de=N[te];return de===void 0&&(de=N[te]=k.length,k[de]=Y),"default"+de}}function he(Y,te,de,Le){if(O._opts.validateSchema!==!1){var _e=Y.definition.dependencies;if(_e&&!_e.every(function(Lt){return Object.prototype.hasOwnProperty.call(de,Lt)}))throw new Error("parent schema must have all required keywords: "+_e.join(","));var it=Y.definition.validateSchema;if(it){var ot=it(te);if(!ot){var Te="keyword schema is invalid: "+O.errorsText(it.errors);if(O._opts.validateSchema=="log")O.logger.error(Te);else throw new Error(Te)}}}var ft=Y.definition.compile,Ye=Y.definition.inline,dt=Y.definition.macro,rt;if(ft)rt=ft.call(O,te,de,Le);else if(dt)rt=dt.call(O,te,de,Le),L.validateSchema!==!1&&O.validateSchema(rt,!0);else if(Ye)rt=Ye.call(O,Le,Y.keyword,te,de);else if(rt=Y.definition.validate,!rt)return;if(rt===void 0)throw new Error('custom keyword "'+Y.keyword+'"failed to compile');var ct=B.length;return B[ct]=rt,{code:"customRule"+ct,validate:rt}}}function d(w,C,T){var R=p.call(this,w,C,T);return R>=0?{index:R,compiling:!0}:(R=this._compilations.length,this._compilations[R]={schema:w,root:C,baseId:T},{index:R,compiling:!1})}function h(w,C,T){var R=p.call(this,w,C,T);R>=0&&this._compilations.splice(R,1)}function p(w,C,T){for(var R=0;R<this._compilations.length;R++){var O=this._compilations[R];if(O.schema==w&&O.root==C&&O.baseId==T)return R}return-1}function m(w,C){return"var pattern"+w+" = new RegExp("+a.toQuotedString(C[w])+");"}function f(w){return"var default"+w+" = defaults["+w+"];"}function v(w,C){return C[w]===void 0?"":"var refVal"+w+" = refVal["+w+"];"}function g(w){return"var customRule"+w+" = customRules["+w+"];"}function b(w,C){if(!w.length)return"";for(var T="",R=0;R<w.length;R++)T+=C(R,w);return T}}),D$=Ne((t,e)=>{var r=e.exports=function(){this._cache={}};r.prototype.put=function(s,i){this._cache[s]=i},r.prototype.get=function(s){return this._cache[s]},r.prototype.del=function(s){delete this._cache[s]},r.prototype.clear=function(){this._cache={}}}),N$=Ne((t,e)=>{var r=vi(),a=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,s=[0,31,28,31,30,31,30,31,31,30,31,30,31],i=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i,n=/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,o=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,l=/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,c=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,u=/^(?:(?:http[s\u017F]?|ftp):\/\/)(?:(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+(?::(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?@)?(?:(?!10(?:\.[0-9]{1,3}){3})(?!127(?:\.[0-9]{1,3}){3})(?!169\.254(?:\.[0-9]{1,3}){2})(?!192\.168(?:\.[0-9]{1,3}){2})(?!172\.(?:1[6-9]|2[0-9]|3[01])(?:\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)(?:\.(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)*(?:\.(?:(?:[a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\/(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?$/i,d=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,h=/^(?:\/(?:[^~/]|~0|~1)*)*$/,p=/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,m=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/;e.exports=f;function f(D){return D=D=="full"?"full":"fast",r.copy(f[D])}f.fast={date:/^\d\d\d\d-[0-1]\d-[0-3]\d$/,time:/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,"date-time":/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,"uri-template":c,url:u,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,hostname:n,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:L,uuid:d,"json-pointer":h,"json-pointer-uri-fragment":p,"relative-json-pointer":m},f.full={date:g,time:b,"date-time":C,uri:R,"uri-reference":l,"uri-template":c,url:u,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:n,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:L,uuid:d,"json-pointer":h,"json-pointer-uri-fragment":p,"relative-json-pointer":m};function v(D){return D%4===0&&(D%100!==0||D%400===0)}function g(D){var F=D.match(a);if(!F)return!1;var $=+F[1],I=+F[2],k=+F[3];return I>=1&&I<=12&&k>=1&&k<=(I==2&&v($)?29:s[I])}function b(D,F){var $=D.match(i);if(!$)return!1;var I=$[1],k=$[2],N=$[3],B=$[5];return(I<=23&&k<=59&&N<=59||I==23&&k==59&&N==60)&&(!F||B)}var w=/t|\s/i;function C(D){var F=D.split(w);return F.length==2&&g(F[0])&&b(F[1],!0)}var T=/\/|:/;function R(D){return T.test(D)&&o.test(D)}var O=/[^\\]\\Z/;function L(D){if(O.test(D))return!1;try{return new RegExp(D),!0}catch{return!1}}}),$$=Ne((t,e)=>{e.exports=function(a,s,i){var n=" ",o=a.level,l=a.dataLevel,c=a.schema[s],u=a.errSchemaPath+"/"+s,d=!a.opts.allErrors,h="data"+(l||""),p="valid"+o,m,f;if(c=="#"||c=="#/")a.isRoot?(m=a.async,f="validate"):(m=a.root.schema.$async===!0,f="root.refVal[0]");else{var v=a.resolveRef(a.baseId,c,a.isRoot);if(v===void 0){var g=a.MissingRefError.message(a.baseId,c);if(a.opts.missingRefs=="fail"){a.logger.error(g);var b=b||[];b.push(n),n="",a.createErrors!==!1?(n+=" { keyword: '$ref' , dataPath: (dataPath || '') + "+a.errorPath+" , schemaPath: "+a.util.toQuotedString(u)+" , params: { ref: '"+a.util.escapeQuotes(c)+"' } ",a.opts.messages!==!1&&(n+=" , message: 'can\\'t resolve reference "+a.util.escapeQuotes(c)+"' "),a.opts.verbose&&(n+=" , schema: "+a.util.toQuotedString(c)+" , parentSchema: validate.schema"+a.schemaPath+" , data: "+h+" "),n+=" } "):n+=" {} ";var w=n;n=b.pop(),!a.compositeRule&&d?a.async?n+=" throw new ValidationError(["+w+"]); ":n+=" validate.errors = ["+w+"]; return false; ":n+=" var err = "+w+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",d&&(n+=" if (false) { ")}else if(a.opts.missingRefs=="ignore")a.logger.warn(g),d&&(n+=" if (true) { ");else throw new a.MissingRefError(a.baseId,c,g)}else if(v.inline){var C=a.util.copy(a);C.level++;var T="valid"+C.level;C.schema=v.schema,C.schemaPath="",C.errSchemaPath=c;var R=a.validate(C).replace(/validate\.schema/g,v.code);n+=" "+R+" ",d&&(n+=" if ("+T+") { ")}else m=v.$async===!0||a.async&&v.$async!==!1,f=v.code}if(f){var b=b||[];b.push(n),n="",a.opts.passContext?n+=" "+f+".call(this, ":n+=" "+f+"( ",n+=" "+h+", (dataPath || '')",a.errorPath!='""'&&(n+=" + "+a.errorPath);var O=l?"data"+(l-1||""):"parentData",L=l?a.dataPathArr[l]:"parentDataProperty";n+=" , "+O+" , "+L+", rootData)  ";var D=n;if(n=b.pop(),m){if(!a.async)throw new Error("async schema referenced by sync schema");d&&(n+=" var "+p+"; "),n+=" try { await "+D+"; ",d&&(n+=" "+p+" = true; "),n+=" } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; ",d&&(n+=" "+p+" = false; "),n+=" } ",d&&(n+=" if ("+p+") { ")}else n+=" if (!"+D+") { if (vErrors === null) vErrors = "+f+".errors; else vErrors = vErrors.concat("+f+".errors); errors = vErrors.length; } ",d&&(n+=" else { ")}return n}}),L$=Ne((t,e)=>{e.exports=function(a,s,i){var n=" ",o=a.schema[s],l=a.schemaPath+a.util.getProperty(s),c=a.errSchemaPath+"/"+s,u=!a.opts.allErrors,d=a.util.copy(a),h="";d.level++;var p="valid"+d.level,m=d.baseId,f=!0,v=o;if(v)for(var g,b=-1,w=v.length-1;b<w;)g=v[b+=1],(a.opts.strictKeywords?typeof g=="object"&&Object.keys(g).length>0||g===!1:a.util.schemaHasRules(g,a.RULES.all))&&(f=!1,d.schema=g,d.schemaPath=l+"["+b+"]",d.errSchemaPath=c+"/"+b,n+="  "+a.validate(d)+" ",d.baseId=m,u&&(n+=" if ("+p+") { ",h+="}"));return u&&(f?n+=" if (true) { ":n+=" "+h.slice(0,-1)+" "),n}}),F$=Ne((t,e)=>{e.exports=function(a,s,i){var n=" ",o=a.level,l=a.dataLevel,c=a.schema[s],u=a.schemaPath+a.util.getProperty(s),d=a.errSchemaPath+"/"+s,h=!a.opts.allErrors,p="data"+(l||""),m="valid"+o,f="errs__"+o,v=a.util.copy(a),g="";v.level++;var b="valid"+v.level,w=c.every(function(F){return a.opts.strictKeywords?typeof F=="object"&&Object.keys(F).length>0||F===!1:a.util.schemaHasRules(F,a.RULES.all)});if(w){var C=v.baseId;n+=" var "+f+" = errors; var "+m+" = false;  ";var T=a.compositeRule;a.compositeRule=v.compositeRule=!0;var R=c;if(R)for(var O,L=-1,D=R.length-1;L<D;)O=R[L+=1],v.schema=O,v.schemaPath=u+"["+L+"]",v.errSchemaPath=d+"/"+L,n+="  "+a.validate(v)+" ",v.baseId=C,n+=" "+m+" = "+m+" || "+b+"; if (!"+m+") { ",g+="}";a.compositeRule=v.compositeRule=T,n+=" "+g+" if (!"+m+") {   var err =   ",a.createErrors!==!1?(n+=" { keyword: 'anyOf' , dataPath: (dataPath || '') + "+a.errorPath+" , schemaPath: "+a.util.toQuotedString(d)+" , params: {} ",a.opts.messages!==!1&&(n+=" , message: 'should match some schema in anyOf' "),a.opts.verbose&&(n+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+a.schemaPath+" , data: "+p+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!a.compositeRule&&h&&(a.async?n+=" throw new ValidationError(vErrors); ":n+=" validate.errors = vErrors; return false; "),n+=" } else {  errors = "+f+"; if (vErrors !== null) { if ("+f+") vErrors.length = "+f+"; else vErrors = null; } ",a.opts.allErrors&&(n+=" } ")}else h&&(n+=" if (true) { ");return n}}),q$=Ne((t,e)=>{e.exports=function(a,s,i){var n=" ",o=a.schema[s],l=a.errSchemaPath+"/"+s,c=!a.opts.allErrors,u=a.util.toQuotedString(o);return a.opts.$comment===!0?n+=" console.log("+u+");":typeof a.opts.$comment=="function"&&(n+=" self._opts.$comment("+u+", "+a.util.toQuotedString(l)+", validate.root.schema);"),n}}),M$=Ne((t,e)=>{e.exports=function(a,s,i){var n=" ",o=a.level,l=a.dataLevel,c=a.schema[s],u=a.schemaPath+a.util.getProperty(s),d=a.errSchemaPath+"/"+s,h=!a.opts.allErrors,p="data"+(l||""),m="valid"+o,f=a.opts.$data&&c&&c.$data,v;f?(n+=" var schema"+o+" = "+a.util.getData(c.$data,l,a.dataPathArr)+"; ",v="schema"+o):v=c,f||(n+=" var schema"+o+" = validate.schema"+u+";"),n+="var "+m+" = equal("+p+", schema"+o+"); if (!"+m+") {   ";var g=g||[];g.push(n),n="",a.createErrors!==!1?(n+=" { keyword: 'const' , dataPath: (dataPath || '') + "+a.errorPath+" , schemaPath: "+a.util.toQuotedString(d)+" , params: { allowedValue: schema"+o+" } ",a.opts.messages!==!1&&(n+=" , message: 'should be equal to constant' "),a.opts.verbose&&(n+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+a.schemaPath+" , data: "+p+" "),n+=" } "):n+=" {} ";var b=n;return n=g.pop(),!a.compositeRule&&h?a.async?n+=" throw new ValidationError(["+b+"]); ":n+=" validate.errors = ["+b+"]; return false; ":n+=" var err = "+b+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" }",h&&(n+=" else { "),n}}),U$=Ne((t,e)=>{e.exports=function(a,s,i){var n=" ",o=a.level,l=a.dataLevel,c=a.schema[s],u=a.schemaPath+a.util.getProperty(s),d=a.errSchemaPath+"/"+s,h=!a.opts.allErrors,p="data"+(l||""),m="valid"+o,f="errs__"+o,v=a.util.copy(a),g="";v.level++;var b="valid"+v.level,w="i"+o,C=v.dataLevel=a.dataLevel+1,T="data"+C,R=a.baseId,O=a.opts.strictKeywords?typeof c=="object"&&Object.keys(c).length>0||c===!1:a.util.schemaHasRules(c,a.RULES.all);if(n+="var "+f+" = errors;var "+m+";",O){var L=a.compositeRule;a.compositeRule=v.compositeRule=!0,v.schema=c,v.schemaPath=u,v.errSchemaPath=d,n+=" var "+b+" = false; for (var "+w+" = 0; "+w+" < "+p+".length; "+w+"++) { ",v.errorPath=a.util.getPathExpr(a.errorPath,w,a.opts.jsonPointers,!0);var D=p+"["+w+"]";v.dataPathArr[C]=w;var F=a.validate(v);v.baseId=R,a.util.varOccurences(F,T)<2?n+=" "+a.util.varReplace(F,T,D)+" ":n+=" var "+T+" = "+D+"; "+F+" ",n+=" if ("+b+") break; }  ",a.compositeRule=v.compositeRule=L,n+=" "+g+" if (!"+b+") {"}else n+=" if ("+p+".length == 0) {";var $=$||[];$.push(n),n="",a.createErrors!==!1?(n+=" { keyword: 'contains' , dataPath: (dataPath || '') + "+a.errorPath+" , schemaPath: "+a.util.toQuotedString(d)+" , params: {} ",a.opts.messages!==!1&&(n+=" , message: 'should contain a valid item' "),a.opts.verbose&&(n+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+a.schemaPath+" , data: "+p+" "),n+=" } "):n+=" {} ";var I=n;return n=$.pop(),!a.compositeRule&&h?a.async?n+=" throw new ValidationError(["+I+"]); ":n+=" validate.errors = ["+I+"]; return false; ":n+=" var err = "+I+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } else { ",O&&(n+="  errors = "+f+"; if (vErrors !== null) { if ("+f+") vErrors.length = "+f+"; else vErrors = null; } "),a.opts.allErrors&&(n+=" } "),n}}),z$=Ne((t,e)=>{e.exports=function(a,s,i){var n=" ",o=a.level,l=a.dataLevel,c=a.schema[s],u=a.schemaPath+a.util.getProperty(s),d=a.errSchemaPath+"/"+s,h=!a.opts.allErrors,p="data"+(l||""),m="errs__"+o,f=a.util.copy(a),v="";f.level++;var g="valid"+f.level,b={},w={},C=a.opts.ownProperties;for(L in c)if(L!="__proto__"){var T=c[L],R=Array.isArray(T)?w:b;R[L]=T}n+="var "+m+" = errors;";var O=a.errorPath;n+="var missing"+o+";";for(var L in w)if(R=w[L],R.length){if(n+=" if ( "+p+a.util.getProperty(L)+" !== undefined ",C&&(n+=" && Object.prototype.hasOwnProperty.call("+p+", '"+a.util.escapeQuotes(L)+"') "),h){n+=" && ( ";var D=R;if(D)for(var F,$=-1,I=D.length-1;$<I;){F=D[$+=1],$&&(n+=" || ");var k=a.util.getProperty(F),N=p+k;n+=" ( ( "+N+" === undefined ",C&&(n+=" || ! Object.prototype.hasOwnProperty.call("+p+", '"+a.util.escapeQuotes(F)+"') "),n+=") && (missing"+o+" = "+a.util.toQuotedString(a.opts.jsonPointers?F:k)+") ) "}n+=")) {  ";var B="missing"+o,W="' + "+B+" + '";a.opts._errorDataPathProperty&&(a.errorPath=a.opts.jsonPointers?a.util.getPathExpr(O,B,!0):O+" + "+B);var V=V||[];V.push(n),n="",a.createErrors!==!1?(n+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+a.errorPath+" , schemaPath: "+a.util.toQuotedString(d)+" , params: { property: '"+a.util.escapeQuotes(L)+"', missingProperty: '"+W+"', depsCount: "+R.length+", deps: '"+a.util.escapeQuotes(R.length==1?R[0]:R.join(", "))+"' } ",a.opts.messages!==!1&&(n+=" , message: 'should have ",R.length==1?n+="property "+a.util.escapeQuotes(R[0]):n+="properties "+a.util.escapeQuotes(R.join(", ")),n+=" when property "+a.util.escapeQuotes(L)+" is present' "),a.opts.verbose&&(n+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+a.schemaPath+" , data: "+p+" "),n+=" } "):n+=" {} ";var K=n;n=V.pop(),!a.compositeRule&&h?a.async?n+=" throw new ValidationError(["+K+"]); ":n+=" validate.errors = ["+K+"]; return false; ":n+=" var err = "+K+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else{n+=" ) { ";var Q=R;if(Q)for(var F,X=-1,ae=Q.length-1;X<ae;){F=Q[X+=1];var k=a.util.getProperty(F),W=a.util.escapeQuotes(F),N=p+k;a.opts._errorDataPathProperty&&(a.errorPath=a.util.getPath(O,F,a.opts.jsonPointers)),n+=" if ( "+N+" === undefined ",C&&(n+=" || ! Object.prototype.hasOwnProperty.call("+p+", '"+a.util.escapeQuotes(F)+"') "),n+=") {  var err =   ",a.createErrors!==!1?(n+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+a.errorPath+" , schemaPath: "+a.util.toQuotedString(d)+" , params: { property: '"+a.util.escapeQuotes(L)+"', missingProperty: '"+W+"', depsCount: "+R.length+", deps: '"+a.util.escapeQuotes(R.length==1?R[0]:R.join(", "))+"' } ",a.opts.messages!==!1&&(n+=" , message: 'should have ",R.length==1?n+="property "+a.util.escapeQuotes(R[0]):n+="properties "+a.util.escapeQuotes(R.join(", ")),n+=" when property "+a.util.escapeQuotes(L)+" is present' "),a.opts.verbose&&(n+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+a.schemaPath+" , data: "+p+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}n+=" }   ",h&&(v+="}",n+=" else { ")}a.errorPath=O;var ue=f.baseId;for(var L in b){var T=b[L];(a.opts.strictKeywords?typeof T=="object"&&Object.keys(T).length>0||T===!1:a.util.schemaHasRules(T,a.RULES.all))&&(n+=" "+g+" = true; if ( "+p+a.util.getProperty(L)+" !== undefined ",C&&(n+=" && Object.prototype.hasOwnProperty.call("+p+", '"+a.util.escapeQuotes(L)+"') "),n+=") { ",f.schema=T,f.schemaPath=u+a.util.getProperty(L),f.errSchemaPath=d+"/"+a.util.escapeFragment(L),n+="  "+a.validate(f)+" ",f.baseId=ue,n+=" }  ",h&&(n+=" if ("+g+") { ",v+="}"))}return h&&(n+="   "+v+" if ("+m+" == errors) {"),n}}),B$=Ne((t,e)=>{e.exports=function(a,s,i){var n=" ",o=a.level,l=a.dataLevel,c=a.schema[s],u=a.schemaPath+a.util.getProperty(s),d=a.errSchemaPath+"/"+s,h=!a.opts.allErrors,p="data"+(l||""),m="valid"+o,f=a.opts.$data&&c&&c.$data,v;f?(n+=" var schema"+o+" = "+a.util.getData(c.$data,l,a.dataPathArr)+"; ",v="schema"+o):v=c;var g="i"+o,b="schema"+o;f||(n+=" var "+b+" = validate.schema"+u+";"),n+="var "+m+";",f&&(n+=" if (schema"+o+" === undefined) "+m+" = true; else if (!Array.isArray(schema"+o+")) "+m+" = false; else {"),n+=""+m+" = false;for (var "+g+"=0; "+g+"<"+b+".length; "+g+"++) if (equal("+p+", "+b+"["+g+"])) { "+m+" = true; break; }",f&&(n+="  }  "),n+=" if (!"+m+") {   ";var w=w||[];w.push(n),n="",a.createErrors!==!1?(n+=" { keyword: 'enum' , dataPath: (dataPath || '') + "+a.errorPath+" , schemaPath: "+a.util.toQuotedString(d)+" , params: { allowedValues: schema"+o+" } ",a.opts.messages!==!1&&(n+=" , message: 'should be equal to one of the allowed values' "),a.opts.verbose&&(n+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+a.schemaPath+" , data: "+p+" "),n+=" } "):n+=" {} ";var C=n;return n=w.pop(),!a.compositeRule&&h?a.async?n+=" throw new ValidationError(["+C+"]); ":n+=" validate.errors = ["+C+"]; return false; ":n+=" var err = "+C+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" }",h&&(n+=" else { "),n}}),Z$=Ne((t,e)=>{e.exports=function(a,s,i){var n=" ",o=a.level,l=a.dataLevel,c=a.schema[s],u=a.schemaPath+a.util.getProperty(s),d=a.errSchemaPath+"/"+s,h=!a.opts.allErrors,p="data"+(l||"");if(a.opts.format===!1)return h&&(n+=" if (true) { "),n;var m=a.opts.$data&&c&&c.$data,f;m?(n+=" var schema"+o+" = "+a.util.getData(c.$data,l,a.dataPathArr)+"; ",f="schema"+o):f=c;var v=a.opts.unknownFormats,g=Array.isArray(v);if(m){var b="format"+o,w="isObject"+o,C="formatType"+o;n+=" var "+b+" = formats["+f+"]; var "+w+" = typeof "+b+" == 'object' && !("+b+" instanceof RegExp) && "+b+".validate; var "+C+" = "+w+" && "+b+".type || 'string'; if ("+w+") { ",a.async&&(n+=" var async"+o+" = "+b+".async; "),n+=" "+b+" = "+b+".validate; } if (  ",m&&(n+=" ("+f+" !== undefined && typeof "+f+" != 'string') || "),n+=" (",v!="ignore"&&(n+=" ("+f+" && !"+b+" ",g&&(n+=" && self._opts.unknownFormats.indexOf("+f+") == -1 "),n+=") || "),n+=" ("+b+" && "+C+" == '"+i+"' && !(typeof "+b+" == 'function' ? ",a.async?n+=" (async"+o+" ? await "+b+"("+p+") : "+b+"("+p+")) ":n+=" "+b+"("+p+") ",n+=" : "+b+".test("+p+"))))) {"}else{var b=a.formats[c];if(!b){if(v=="ignore")return a.logger.warn('unknown format "'+c+'" ignored in schema at path "'+a.errSchemaPath+'"'),h&&(n+=" if (true) { "),n;if(g&&v.indexOf(c)>=0)return h&&(n+=" if (true) { "),n;throw new Error('unknown format "'+c+'" is used in schema at path "'+a.errSchemaPath+'"')}var w=typeof b=="object"&&!(b instanceof RegExp)&&b.validate,C=w&&b.type||"string";if(w){var T=b.async===!0;b=b.validate}if(C!=i)return h&&(n+=" if (true) { "),n;if(T){if(!a.async)throw new Error("async format in sync schema");var R="formats"+a.util.getProperty(c)+".validate";n+=" if (!(await "+R+"("+p+"))) { "}else{n+=" if (! ";var R="formats"+a.util.getProperty(c);w&&(R+=".validate"),typeof b=="function"?n+=" "+R+"("+p+") ":n+=" "+R+".test("+p+") ",n+=") { "}}var O=O||[];O.push(n),n="",a.createErrors!==!1?(n+=" { keyword: 'format' , dataPath: (dataPath || '') + "+a.errorPath+" , schemaPath: "+a.util.toQuotedString(d)+" , params: { format:  ",m?n+=""+f:n+=""+a.util.toQuotedString(c),n+="  } ",a.opts.messages!==!1&&(n+=` , message: 'should match format "`,m?n+="' + "+f+" + '":n+=""+a.util.escapeQuotes(c),n+=`"' `),a.opts.verbose&&(n+=" , schema:  ",m?n+="validate.schema"+u:n+=""+a.util.toQuotedString(c),n+="         , parentSchema: validate.schema"+a.schemaPath+" , data: "+p+" "),n+=" } "):n+=" {} ";var L=n;return n=O.pop(),!a.compositeRule&&h?a.async?n+=" throw new ValidationError(["+L+"]); ":n+=" validate.errors = ["+L+"]; return false; ":n+=" var err = "+L+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } ",h&&(n+=" else { "),n}}),V$=Ne((t,e)=>{e.exports=function(a,s,i){var n=" ",o=a.level,l=a.dataLevel,c=a.schema[s],u=a.schemaPath+a.util.getProperty(s),d=a.errSchemaPath+"/"+s,h=!a.opts.allErrors,p="data"+(l||""),m="valid"+o,f="errs__"+o,v=a.util.copy(a);v.level++;var g="valid"+v.level,b=a.schema.then,w=a.schema.else,C=b!==void 0&&(a.opts.strictKeywords?typeof b=="object"&&Object.keys(b).length>0||b===!1:a.util.schemaHasRules(b,a.RULES.all)),T=w!==void 0&&(a.opts.strictKeywords?typeof w=="object"&&Object.keys(w).length>0||w===!1:a.util.schemaHasRules(w,a.RULES.all)),R=v.baseId;if(C||T){var O;v.createErrors=!1,v.schema=c,v.schemaPath=u,v.errSchemaPath=d,n+=" var "+f+" = errors; var "+m+" = true;  ";var L=a.compositeRule;a.compositeRule=v.compositeRule=!0,n+="  "+a.validate(v)+" ",v.baseId=R,v.createErrors=!0,n+="  errors = "+f+"; if (vErrors !== null) { if ("+f+") vErrors.length = "+f+"; else vErrors = null; }  ",a.compositeRule=v.compositeRule=L,C?(n+=" if ("+g+") {  ",v.schema=a.schema.then,v.schemaPath=a.schemaPath+".then",v.errSchemaPath=a.errSchemaPath+"/then",n+="  "+a.validate(v)+" ",v.baseId=R,n+=" "+m+" = "+g+"; ",C&&T?(O="ifClause"+o,n+=" var "+O+" = 'then'; "):O="'then'",n+=" } ",T&&(n+=" else { ")):n+=" if (!"+g+") { ",T&&(v.schema=a.schema.else,v.schemaPath=a.schemaPath+".else",v.errSchemaPath=a.errSchemaPath+"/else",n+="  "+a.validate(v)+" ",v.baseId=R,n+=" "+m+" = "+g+"; ",C&&T?(O="ifClause"+o,n+=" var "+O+" = 'else'; "):O="'else'",n+=" } "),n+=" if (!"+m+") {   var err =   ",a.createErrors!==!1?(n+=" { keyword: 'if' , dataPath: (dataPath || '') + "+a.errorPath+" , schemaPath: "+a.util.toQuotedString(d)+" , params: { failingKeyword: "+O+" } ",a.opts.messages!==!1&&(n+=` , message: 'should match "' + `+O+` + '" schema' `),a.opts.verbose&&(n+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+a.schemaPath+" , data: "+p+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!a.compositeRule&&h&&(a.async?n+=" throw new ValidationError(vErrors); ":n+=" validate.errors = vErrors; return false; "),n+=" }   ",h&&(n+=" else { ")}else h&&(n+=" if (true) { ");return n}}),H$=Ne((t,e)=>{e.exports=function(a,s,i){var n=" ",o=a.level,l=a.dataLevel,c=a.schema[s],u=a.schemaPath+a.util.getProperty(s),d=a.errSchemaPath+"/"+s,h=!a.opts.allErrors,p="data"+(l||""),m="valid"+o,f="errs__"+o,v=a.util.copy(a),g="";v.level++;var b="valid"+v.level,w="i"+o,C=v.dataLevel=a.dataLevel+1,T="data"+C,R=a.baseId;if(n+="var "+f+" = errors;var "+m+";",Array.isArray(c)){var O=a.schema.additionalItems;if(O===!1){n+=" "+m+" = "+p+".length <= "+c.length+"; ";var L=d;d=a.errSchemaPath+"/additionalItems",n+="  if (!"+m+") {   ";var D=D||[];D.push(n),n="",a.createErrors!==!1?(n+=" { keyword: 'additionalItems' , dataPath: (dataPath || '') + "+a.errorPath+" , schemaPath: "+a.util.toQuotedString(d)+" , params: { limit: "+c.length+" } ",a.opts.messages!==!1&&(n+=" , message: 'should NOT have more than "+c.length+" items' "),a.opts.verbose&&(n+=" , schema: false , parentSchema: validate.schema"+a.schemaPath+" , data: "+p+" "),n+=" } "):n+=" {} ";var F=n;n=D.pop(),!a.compositeRule&&h?a.async?n+=" throw new ValidationError(["+F+"]); ":n+=" validate.errors = ["+F+"]; return false; ":n+=" var err = "+F+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } ",d=L,h&&(g+="}",n+=" else { ")}var $=c;if($){for(var I,k=-1,N=$.length-1;k<N;)if(I=$[k+=1],a.opts.strictKeywords?typeof I=="object"&&Object.keys(I).length>0||I===!1:a.util.schemaHasRules(I,a.RULES.all)){n+=" "+b+" = true; if ("+p+".length > "+k+") { ";var B=p+"["+k+"]";v.schema=I,v.schemaPath=u+"["+k+"]",v.errSchemaPath=d+"/"+k,v.errorPath=a.util.getPathExpr(a.errorPath,k,a.opts.jsonPointers,!0),v.dataPathArr[C]=k;var W=a.validate(v);v.baseId=R,a.util.varOccurences(W,T)<2?n+=" "+a.util.varReplace(W,T,B)+" ":n+=" var "+T+" = "+B+"; "+W+" ",n+=" }  ",h&&(n+=" if ("+b+") { ",g+="}")}}if(typeof O=="object"&&(a.opts.strictKeywords?typeof O=="object"&&Object.keys(O).length>0||O===!1:a.util.schemaHasRules(O,a.RULES.all))){v.schema=O,v.schemaPath=a.schemaPath+".additionalItems",v.errSchemaPath=a.errSchemaPath+"/additionalItems",n+=" "+b+" = true; if ("+p+".length > "+c.length+") {  for (var "+w+" = "+c.length+"; "+w+" < "+p+".length; "+w+"++) { ",v.errorPath=a.util.getPathExpr(a.errorPath,w,a.opts.jsonPointers,!0);var B=p+"["+w+"]";v.dataPathArr[C]=w;var W=a.validate(v);v.baseId=R,a.util.varOccurences(W,T)<2?n+=" "+a.util.varReplace(W,T,B)+" ":n+=" var "+T+" = "+B+"; "+W+" ",h&&(n+=" if (!"+b+") break; "),n+=" } }  ",h&&(n+=" if ("+b+") { ",g+="}")}}else if(a.opts.strictKeywords?typeof c=="object"&&Object.keys(c).length>0||c===!1:a.util.schemaHasRules(c,a.RULES.all)){v.schema=c,v.schemaPath=u,v.errSchemaPath=d,n+="  for (var "+w+" = 0; "+w+" < "+p+".length; "+w+"++) { ",v.errorPath=a.util.getPathExpr(a.errorPath,w,a.opts.jsonPointers,!0);var B=p+"["+w+"]";v.dataPathArr[C]=w;var W=a.validate(v);v.baseId=R,a.util.varOccurences(W,T)<2?n+=" "+a.util.varReplace(W,T,B)+" ":n+=" var "+T+" = "+B+"; "+W+" ",h&&(n+=" if (!"+b+") break; "),n+=" }"}return h&&(n+=" "+g+" if ("+f+" == errors) {"),n}}),K_=Ne((t,e)=>{e.exports=function(a,s,i){var n=" ",o=a.level,l=a.dataLevel,c=a.schema[s],u=a.schemaPath+a.util.getProperty(s),d=a.errSchemaPath+"/"+s,h=!a.opts.allErrors,R,p="data"+(l||""),m=a.opts.$data&&c&&c.$data,f;m?(n+=" var schema"+o+" = "+a.util.getData(c.$data,l,a.dataPathArr)+"; ",f="schema"+o):f=c;var v=s=="maximum",g=v?"exclusiveMaximum":"exclusiveMinimum",b=a.schema[g],w=a.opts.$data&&b&&b.$data,C=v?"<":">",T=v?">":"<",R=void 0;if(!(m||typeof c=="number"||c===void 0))throw new Error(s+" must be number");if(!(w||b===void 0||typeof b=="number"||typeof b=="boolean"))throw new Error(g+" must be number or boolean");if(w){var O=a.util.getData(b.$data,l,a.dataPathArr),L="exclusive"+o,D="exclType"+o,F="exclIsNumber"+o,$="op"+o,I="' + "+$+" + '";n+=" var schemaExcl"+o+" = "+O+"; ",O="schemaExcl"+o,n+=" var "+L+"; var "+D+" = typeof "+O+"; if ("+D+" != 'boolean' && "+D+" != 'undefined' && "+D+" != 'number') { ";var R=g,k=k||[];k.push(n),n="",a.createErrors!==!1?(n+=" { keyword: '"+(R||"_exclusiveLimit")+"' , dataPath: (dataPath || '') + "+a.errorPath+" , schemaPath: "+a.util.toQuotedString(d)+" , params: {} ",a.opts.messages!==!1&&(n+=" , message: '"+g+" should be boolean' "),a.opts.verbose&&(n+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+a.schemaPath+" , data: "+p+" "),n+=" } "):n+=" {} ";var N=n;n=k.pop(),!a.compositeRule&&h?a.async?n+=" throw new ValidationError(["+N+"]); ":n+=" validate.errors = ["+N+"]; return false; ":n+=" var err = "+N+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } else if ( ",m&&(n+=" ("+f+" !== undefined && typeof "+f+" != 'number') || "),n+=" "+D+" == 'number' ? ( ("+L+" = "+f+" === undefined || "+O+" "+C+"= "+f+") ? "+p+" "+T+"= "+O+" : "+p+" "+T+" "+f+" ) : ( ("+L+" = "+O+" === true) ? "+p+" "+T+"= "+f+" : "+p+" "+T+" "+f+" ) || "+p+" !== "+p+") { var op"+o+" = "+L+" ? '"+C+"' : '"+C+"='; ",c===void 0&&(R=g,d=a.errSchemaPath+"/"+g,f=O,m=w)}else{var F=typeof b=="number",I=C;if(F&&m){var $="'"+I+"'";n+=" if ( ",m&&(n+=" ("+f+" !== undefined && typeof "+f+" != 'number') || "),n+=" ( "+f+" === undefined || "+b+" "+C+"= "+f+" ? "+p+" "+T+"= "+b+" : "+p+" "+T+" "+f+" ) || "+p+" !== "+p+") { "}else{F&&c===void 0?(L=!0,R=g,d=a.errSchemaPath+"/"+g,f=b,T+="="):(F&&(f=Math[v?"min":"max"](b,c)),b===(F?f:!0)?(L=!0,R=g,d=a.errSchemaPath+"/"+g,T+="="):(L=!1,I+="="));var $="'"+I+"'";n+=" if ( ",m&&(n+=" ("+f+" !== undefined && typeof "+f+" != 'number') || "),n+=" "+p+" "+T+" "+f+" || "+p+" !== "+p+") { "}}R=R||s;var k=k||[];k.push(n),n="",a.createErrors!==!1?(n+=" { keyword: '"+(R||"_limit")+"' , dataPath: (dataPath || '') + "+a.errorPath+" , schemaPath: "+a.util.toQuotedString(d)+" , params: { comparison: "+$+", limit: "+f+", exclusive: "+L+" } ",a.opts.messages!==!1&&(n+=" , message: 'should be "+I+" ",m?n+="' + "+f:n+=""+f+"'"),a.opts.verbose&&(n+=" , schema:  ",m?n+="validate.schema"+u:n+=""+c,n+="         , parentSchema: validate.schema"+a.schemaPath+" , data: "+p+" "),n+=" } "):n+=" {} ";var N=n;return n=k.pop(),!a.compositeRule&&h?a.async?n+=" throw new ValidationError(["+N+"]); ":n+=" validate.errors = ["+N+"]; return false; ":n+=" var err = "+N+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } ",h&&(n+=" else { "),n}}),J_=Ne((t,e)=>{e.exports=function(a,s,i){var n=" ",o=a.level,l=a.dataLevel,c=a.schema[s],u=a.schemaPath+a.util.getProperty(s),d=a.errSchemaPath+"/"+s,h=!a.opts.allErrors,g,p="data"+(l||""),m=a.opts.$data&&c&&c.$data,f;if(m?(n+=" var schema"+o+" = "+a.util.getData(c.$data,l,a.dataPathArr)+"; ",f="schema"+o):f=c,!(m||typeof c=="number"))throw new Error(s+" must be number");var v=s=="maxItems"?">":"<";n+="if ( ",m&&(n+=" ("+f+" !== undefined && typeof "+f+" != 'number') || "),n+=" "+p+".length "+v+" "+f+") { ";var g=s,b=b||[];b.push(n),n="",a.createErrors!==!1?(n+=" { keyword: '"+(g||"_limitItems")+"' , dataPath: (dataPath || '') + "+a.errorPath+" , schemaPath: "+a.util.toQuotedString(d)+" , params: { limit: "+f+" } ",a.opts.messages!==!1&&(n+=" , message: 'should NOT have ",s=="maxItems"?n+="more":n+="fewer",n+=" than ",m?n+="' + "+f+" + '":n+=""+c,n+=" items' "),a.opts.verbose&&(n+=" , schema:  ",m?n+="validate.schema"+u:n+=""+c,n+="         , parentSchema: validate.schema"+a.schemaPath+" , data: "+p+" "),n+=" } "):n+=" {} ";var w=n;return n=b.pop(),!a.compositeRule&&h?a.async?n+=" throw new ValidationError(["+w+"]); ":n+=" validate.errors = ["+w+"]; return false; ":n+=" var err = "+w+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+="} ",h&&(n+=" else { "),n}}),Q_=Ne((t,e)=>{e.exports=function(a,s,i){var n=" ",o=a.level,l=a.dataLevel,c=a.schema[s],u=a.schemaPath+a.util.getProperty(s),d=a.errSchemaPath+"/"+s,h=!a.opts.allErrors,g,p="data"+(l||""),m=a.opts.$data&&c&&c.$data,f;if(m?(n+=" var schema"+o+" = "+a.util.getData(c.$data,l,a.dataPathArr)+"; ",f="schema"+o):f=c,!(m||typeof c=="number"))throw new Error(s+" must be number");var v=s=="maxLength"?">":"<";n+="if ( ",m&&(n+=" ("+f+" !== undefined && typeof "+f+" != 'number') || "),a.opts.unicode===!1?n+=" "+p+".length ":n+=" ucs2length("+p+") ",n+=" "+v+" "+f+") { ";var g=s,b=b||[];b.push(n),n="",a.createErrors!==!1?(n+=" { keyword: '"+(g||"_limitLength")+"' , dataPath: (dataPath || '') + "+a.errorPath+" , schemaPath: "+a.util.toQuotedString(d)+" , params: { limit: "+f+" } ",a.opts.messages!==!1&&(n+=" , message: 'should NOT be ",s=="maxLength"?n+="longer":n+="shorter",n+=" than ",m?n+="' + "+f+" + '":n+=""+c,n+=" characters' "),a.opts.verbose&&(n+=" , schema:  ",m?n+="validate.schema"+u:n+=""+c,n+="         , parentSchema: validate.schema"+a.schemaPath+" , data: "+p+" "),n+=" } "):n+=" {} ";var w=n;return n=b.pop(),!a.compositeRule&&h?a.async?n+=" throw new ValidationError(["+w+"]); ":n+=" validate.errors = ["+w+"]; return false; ":n+=" var err = "+w+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+="} ",h&&(n+=" else { "),n}}),Y_=Ne((t,e)=>{e.exports=function(a,s,i){var n=" ",o=a.level,l=a.dataLevel,c=a.schema[s],u=a.schemaPath+a.util.getProperty(s),d=a.errSchemaPath+"/"+s,h=!a.opts.allErrors,g,p="data"+(l||""),m=a.opts.$data&&c&&c.$data,f;if(m?(n+=" var schema"+o+" = "+a.util.getData(c.$data,l,a.dataPathArr)+"; ",f="schema"+o):f=c,!(m||typeof c=="number"))throw new Error(s+" must be number");var v=s=="maxProperties"?">":"<";n+="if ( ",m&&(n+=" ("+f+" !== undefined && typeof "+f+" != 'number') || "),n+=" Object.keys("+p+").length "+v+" "+f+") { ";var g=s,b=b||[];b.push(n),n="",a.createErrors!==!1?(n+=" { keyword: '"+(g||"_limitProperties")+"' , dataPath: (dataPath || '') + "+a.errorPath+" , schemaPath: "+a.util.toQuotedString(d)+" , params: { limit: "+f+" } ",a.opts.messages!==!1&&(n+=" , message: 'should NOT have ",s=="maxProperties"?n+="more":n+="fewer",n+=" than ",m?n+="' + "+f+" + '":n+=""+c,n+=" properties' "),a.opts.verbose&&(n+=" , schema:  ",m?n+="validate.schema"+u:n+=""+c,n+="         , parentSchema: validate.schema"+a.schemaPath+" , data: "+p+" "),n+=" } "):n+=" {} ";var w=n;return n=b.pop(),!a.compositeRule&&h?a.async?n+=" throw new ValidationError(["+w+"]); ":n+=" validate.errors = ["+w+"]; return false; ":n+=" var err = "+w+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+="} ",h&&(n+=" else { "),n}}),G$=Ne((t,e)=>{e.exports=function(a,s,i){var n=" ",o=a.level,l=a.dataLevel,c=a.schema[s],u=a.schemaPath+a.util.getProperty(s),d=a.errSchemaPath+"/"+s,h=!a.opts.allErrors,p="data"+(l||""),m=a.opts.$data&&c&&c.$data,f;if(m?(n+=" var schema"+o+" = "+a.util.getData(c.$data,l,a.dataPathArr)+"; ",f="schema"+o):f=c,!(m||typeof c=="number"))throw new Error(s+" must be number");n+="var division"+o+";if (",m&&(n+=" "+f+" !== undefined && ( typeof "+f+" != 'number' || "),n+=" (division"+o+" = "+p+" / "+f+", ",a.opts.multipleOfPrecision?n+=" Math.abs(Math.round(division"+o+") - division"+o+") > 1e-"+a.opts.multipleOfPrecision+" ":n+=" division"+o+" !== parseInt(division"+o+") ",n+=" ) ",m&&(n+="  )  "),n+=" ) {   ";var v=v||[];v.push(n),n="",a.createErrors!==!1?(n+=" { keyword: 'multipleOf' , dataPath: (dataPath || '') + "+a.errorPath+" , schemaPath: "+a.util.toQuotedString(d)+" , params: { multipleOf: "+f+" } ",a.opts.messages!==!1&&(n+=" , message: 'should be multiple of ",m?n+="' + "+f:n+=""+f+"'"),a.opts.verbose&&(n+=" , schema:  ",m?n+="validate.schema"+u:n+=""+c,n+="         , parentSchema: validate.schema"+a.schemaPath+" , data: "+p+" "),n+=" } "):n+=" {} ";var g=n;return n=v.pop(),!a.compositeRule&&h?a.async?n+=" throw new ValidationError(["+g+"]); ":n+=" validate.errors = ["+g+"]; return false; ":n+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+="} ",h&&(n+=" else { "),n}}),W$=Ne((t,e)=>{e.exports=function(a,s,i){var n=" ",o=a.level,l=a.dataLevel,c=a.schema[s],u=a.schemaPath+a.util.getProperty(s),d=a.errSchemaPath+"/"+s,h=!a.opts.allErrors,p="data"+(l||""),m="errs__"+o,f=a.util.copy(a);f.level++;var v="valid"+f.level;if(a.opts.strictKeywords?typeof c=="object"&&Object.keys(c).length>0||c===!1:a.util.schemaHasRules(c,a.RULES.all)){f.schema=c,f.schemaPath=u,f.errSchemaPath=d,n+=" var "+m+" = errors;  ";var g=a.compositeRule;a.compositeRule=f.compositeRule=!0,f.createErrors=!1;var b;f.opts.allErrors&&(b=f.opts.allErrors,f.opts.allErrors=!1),n+=" "+a.validate(f)+" ",f.createErrors=!0,b&&(f.opts.allErrors=b),a.compositeRule=f.compositeRule=g,n+=" if ("+v+") {   ";var w=w||[];w.push(n),n="",a.createErrors!==!1?(n+=" { keyword: 'not' , dataPath: (dataPath || '') + "+a.errorPath+" , schemaPath: "+a.util.toQuotedString(d)+" , params: {} ",a.opts.messages!==!1&&(n+=" , message: 'should NOT be valid' "),a.opts.verbose&&(n+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+a.schemaPath+" , data: "+p+" "),n+=" } "):n+=" {} ";var C=n;n=w.pop(),!a.compositeRule&&h?a.async?n+=" throw new ValidationError(["+C+"]); ":n+=" validate.errors = ["+C+"]; return false; ":n+=" var err = "+C+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } else {  errors = "+m+"; if (vErrors !== null) { if ("+m+") vErrors.length = "+m+"; else vErrors = null; } ",a.opts.allErrors&&(n+=" } ")}else n+="  var err =   ",a.createErrors!==!1?(n+=" { keyword: 'not' , dataPath: (dataPath || '') + "+a.errorPath+" , schemaPath: "+a.util.toQuotedString(d)+" , params: {} ",a.opts.messages!==!1&&(n+=" , message: 'should NOT be valid' "),a.opts.verbose&&(n+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+a.schemaPath+" , data: "+p+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",h&&(n+=" if (false) { ");return n}}),K$=Ne((t,e)=>{e.exports=function(a,s,i){var n=" ",o=a.level,l=a.dataLevel,c=a.schema[s],u=a.schemaPath+a.util.getProperty(s),d=a.errSchemaPath+"/"+s,h=!a.opts.allErrors,p="data"+(l||""),m="valid"+o,f="errs__"+o,v=a.util.copy(a),g="";v.level++;var b="valid"+v.level,w=v.baseId,C="prevValid"+o,T="passingSchemas"+o;n+="var "+f+" = errors , "+C+" = false , "+m+" = false , "+T+" = null; ";var R=a.compositeRule;a.compositeRule=v.compositeRule=!0;var O=c;if(O)for(var L,D=-1,F=O.length-1;D<F;)L=O[D+=1],(a.opts.strictKeywords?typeof L=="object"&&Object.keys(L).length>0||L===!1:a.util.schemaHasRules(L,a.RULES.all))?(v.schema=L,v.schemaPath=u+"["+D+"]",v.errSchemaPath=d+"/"+D,n+="  "+a.validate(v)+" ",v.baseId=w):n+=" var "+b+" = true; ",D&&(n+=" if ("+b+" && "+C+") { "+m+" = false; "+T+" = ["+T+", "+D+"]; } else { ",g+="}"),n+=" if ("+b+") { "+m+" = "+C+" = true; "+T+" = "+D+"; }";return a.compositeRule=v.compositeRule=R,n+=""+g+"if (!"+m+") {   var err =   ",a.createErrors!==!1?(n+=" { keyword: 'oneOf' , dataPath: (dataPath || '') + "+a.errorPath+" , schemaPath: "+a.util.toQuotedString(d)+" , params: { passingSchemas: "+T+" } ",a.opts.messages!==!1&&(n+=" , message: 'should match exactly one schema in oneOf' "),a.opts.verbose&&(n+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+a.schemaPath+" , data: "+p+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!a.compositeRule&&h&&(a.async?n+=" throw new ValidationError(vErrors); ":n+=" validate.errors = vErrors; return false; "),n+="} else {  errors = "+f+"; if (vErrors !== null) { if ("+f+") vErrors.length = "+f+"; else vErrors = null; }",a.opts.allErrors&&(n+=" } "),n}}),J$=Ne((t,e)=>{e.exports=function(a,s,i){var n=" ",o=a.level,l=a.dataLevel,c=a.schema[s],u=a.schemaPath+a.util.getProperty(s),d=a.errSchemaPath+"/"+s,h=!a.opts.allErrors,p="data"+(l||""),m=a.opts.$data&&c&&c.$data,f;m?(n+=" var schema"+o+" = "+a.util.getData(c.$data,l,a.dataPathArr)+"; ",f="schema"+o):f=c;var v=m?"(new RegExp("+f+"))":a.usePattern(c);n+="if ( ",m&&(n+=" ("+f+" !== undefined && typeof "+f+" != 'string') || "),n+=" !"+v+".test("+p+") ) {   ";var g=g||[];g.push(n),n="",a.createErrors!==!1?(n+=" { keyword: 'pattern' , dataPath: (dataPath || '') + "+a.errorPath+" , schemaPath: "+a.util.toQuotedString(d)+" , params: { pattern:  ",m?n+=""+f:n+=""+a.util.toQuotedString(c),n+="  } ",a.opts.messages!==!1&&(n+=` , message: 'should match pattern "`,m?n+="' + "+f+" + '":n+=""+a.util.escapeQuotes(c),n+=`"' `),a.opts.verbose&&(n+=" , schema:  ",m?n+="validate.schema"+u:n+=""+a.util.toQuotedString(c),n+="         , parentSchema: validate.schema"+a.schemaPath+" , data: "+p+" "),n+=" } "):n+=" {} ";var b=n;return n=g.pop(),!a.compositeRule&&h?a.async?n+=" throw new ValidationError(["+b+"]); ":n+=" validate.errors = ["+b+"]; return false; ":n+=" var err = "+b+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+="} ",h&&(n+=" else { "),n}}),Q$=Ne((t,e)=>{e.exports=function(a,s,i){var n=" ",o=a.level,l=a.dataLevel,c=a.schema[s],u=a.schemaPath+a.util.getProperty(s),d=a.errSchemaPath+"/"+s,h=!a.opts.allErrors,p="data"+(l||""),m="errs__"+o,f=a.util.copy(a),v="";f.level++;var g="valid"+f.level,b="key"+o,w="idx"+o,C=f.dataLevel=a.dataLevel+1,T="data"+C,R="dataProperties"+o,O=Object.keys(c||{}).filter(X),L=a.schema.patternProperties||{},D=Object.keys(L).filter(X),F=a.schema.additionalProperties,$=O.length||D.length,I=F===!1,k=typeof F=="object"&&Object.keys(F).length,N=a.opts.removeAdditional,B=I||k||N,W=a.opts.ownProperties,V=a.baseId,K=a.schema.required;if(K&&!(a.opts.$data&&K.$data)&&K.length<a.opts.loopRequired)var Q=a.util.toHash(K);function X(Xt){return Xt!=="__proto__"}if(n+="var "+m+" = errors;var "+g+" = true;",W&&(n+=" var "+R+" = undefined;"),B){if(W?n+=" "+R+" = "+R+" || Object.keys("+p+"); for (var "+w+"=0; "+w+"<"+R+".length; "+w+"++) { var "+b+" = "+R+"["+w+"]; ":n+=" for (var "+b+" in "+p+") { ",$){if(n+=" var isAdditional"+o+" = !(false ",O.length)if(O.length>8)n+=" || validate.schema"+u+".hasOwnProperty("+b+") ";else{var ae=O;if(ae)for(var ue,Qe=-1,ye=ae.length-1;Qe<ye;)ue=ae[Qe+=1],n+=" || "+b+" == "+a.util.toQuotedString(ue)+" "}if(D.length){var Ce=D;if(Ce)for(var Ae,Ue=-1,U=Ce.length-1;Ue<U;)Ae=Ce[Ue+=1],n+=" || "+a.usePattern(Ae)+".test("+b+") "}n+=" ); if (isAdditional"+o+") { "}if(N=="all")n+=" delete "+p+"["+b+"]; ";else{var J=a.errorPath,ne="' + "+b+" + '";if(a.opts._errorDataPathProperty&&(a.errorPath=a.util.getPathExpr(a.errorPath,b,a.opts.jsonPointers)),I)if(N)n+=" delete "+p+"["+b+"]; ";else{n+=" "+g+" = false; ";var he=d;d=a.errSchemaPath+"/additionalProperties";var Y=Y||[];Y.push(n),n="",a.createErrors!==!1?(n+=" { keyword: 'additionalProperties' , dataPath: (dataPath || '') + "+a.errorPath+" , schemaPath: "+a.util.toQuotedString(d)+" , params: { additionalProperty: '"+ne+"' } ",a.opts.messages!==!1&&(n+=" , message: '",a.opts._errorDataPathProperty?n+="is an invalid additional property":n+="should NOT have additional properties",n+="' "),a.opts.verbose&&(n+=" , schema: false , parentSchema: validate.schema"+a.schemaPath+" , data: "+p+" "),n+=" } "):n+=" {} ";var te=n;n=Y.pop(),!a.compositeRule&&h?a.async?n+=" throw new ValidationError(["+te+"]); ":n+=" validate.errors = ["+te+"]; return false; ":n+=" var err = "+te+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",d=he,h&&(n+=" break; ")}else if(k)if(N=="failing"){n+=" var "+m+" = errors;  ";var de=a.compositeRule;a.compositeRule=f.compositeRule=!0,f.schema=F,f.schemaPath=a.schemaPath+".additionalProperties",f.errSchemaPath=a.errSchemaPath+"/additionalProperties",f.errorPath=a.opts._errorDataPathProperty?a.errorPath:a.util.getPathExpr(a.errorPath,b,a.opts.jsonPointers);var Le=p+"["+b+"]";f.dataPathArr[C]=b;var _e=a.validate(f);f.baseId=V,a.util.varOccurences(_e,T)<2?n+=" "+a.util.varReplace(_e,T,Le)+" ":n+=" var "+T+" = "+Le+"; "+_e+" ",n+=" if (!"+g+") { errors = "+m+"; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete "+p+"["+b+"]; }  ",a.compositeRule=f.compositeRule=de}else{f.schema=F,f.schemaPath=a.schemaPath+".additionalProperties",f.errSchemaPath=a.errSchemaPath+"/additionalProperties",f.errorPath=a.opts._errorDataPathProperty?a.errorPath:a.util.getPathExpr(a.errorPath,b,a.opts.jsonPointers);var Le=p+"["+b+"]";f.dataPathArr[C]=b;var _e=a.validate(f);f.baseId=V,a.util.varOccurences(_e,T)<2?n+=" "+a.util.varReplace(_e,T,Le)+" ":n+=" var "+T+" = "+Le+"; "+_e+" ",h&&(n+=" if (!"+g+") break; ")}a.errorPath=J}$&&(n+=" } "),n+=" }  ",h&&(n+=" if ("+g+") { ",v+="}")}var it=a.opts.useDefaults&&!a.compositeRule;if(O.length){var ot=O;if(ot)for(var ue,Te=-1,ft=ot.length-1;Te<ft;){ue=ot[Te+=1];var Ye=c[ue];if(a.opts.strictKeywords?typeof Ye=="object"&&Object.keys(Ye).length>0||Ye===!1:a.util.schemaHasRules(Ye,a.RULES.all)){var dt=a.util.getProperty(ue),Le=p+dt,rt=it&&Ye.default!==void 0;f.schema=Ye,f.schemaPath=u+dt,f.errSchemaPath=d+"/"+a.util.escapeFragment(ue),f.errorPath=a.util.getPath(a.errorPath,ue,a.opts.jsonPointers),f.dataPathArr[C]=a.util.toQuotedString(ue);var _e=a.validate(f);if(f.baseId=V,a.util.varOccurences(_e,T)<2){_e=a.util.varReplace(_e,T,Le);var ct=Le}else{var ct=T;n+=" var "+T+" = "+Le+"; "}if(rt)n+=" "+_e+" ";else{if(Q&&Q[ue]){n+=" if ( "+ct+" === undefined ",W&&(n+=" || ! Object.prototype.hasOwnProperty.call("+p+", '"+a.util.escapeQuotes(ue)+"') "),n+=") { "+g+" = false; ";var J=a.errorPath,he=d,Lt=a.util.escapeQuotes(ue);a.opts._errorDataPathProperty&&(a.errorPath=a.util.getPath(J,ue,a.opts.jsonPointers)),d=a.errSchemaPath+"/required";var Y=Y||[];Y.push(n),n="",a.createErrors!==!1?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+a.errorPath+" , schemaPath: "+a.util.toQuotedString(d)+" , params: { missingProperty: '"+Lt+"' } ",a.opts.messages!==!1&&(n+=" , message: '",a.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+Lt+"\\'",n+="' "),a.opts.verbose&&(n+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+a.schemaPath+" , data: "+p+" "),n+=" } "):n+=" {} ";var te=n;n=Y.pop(),!a.compositeRule&&h?a.async?n+=" throw new ValidationError(["+te+"]); ":n+=" validate.errors = ["+te+"]; return false; ":n+=" var err = "+te+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",d=he,a.errorPath=J,n+=" } else { "}else h?(n+=" if ( "+ct+" === undefined ",W&&(n+=" || ! Object.prototype.hasOwnProperty.call("+p+", '"+a.util.escapeQuotes(ue)+"') "),n+=") { "+g+" = true; } else { "):(n+=" if ("+ct+" !== undefined ",W&&(n+=" &&   Object.prototype.hasOwnProperty.call("+p+", '"+a.util.escapeQuotes(ue)+"') "),n+=" ) { ");n+=" "+_e+" } "}}h&&(n+=" if ("+g+") { ",v+="}")}}if(D.length){var Ft=D;if(Ft)for(var Ae,Ut=-1,Oa=Ft.length-1;Ut<Oa;){Ae=Ft[Ut+=1];var Ye=L[Ae];if(a.opts.strictKeywords?typeof Ye=="object"&&Object.keys(Ye).length>0||Ye===!1:a.util.schemaHasRules(Ye,a.RULES.all)){f.schema=Ye,f.schemaPath=a.schemaPath+".patternProperties"+a.util.getProperty(Ae),f.errSchemaPath=a.errSchemaPath+"/patternProperties/"+a.util.escapeFragment(Ae),W?n+=" "+R+" = "+R+" || Object.keys("+p+"); for (var "+w+"=0; "+w+"<"+R+".length; "+w+"++) { var "+b+" = "+R+"["+w+"]; ":n+=" for (var "+b+" in "+p+") { ",n+=" if ("+a.usePattern(Ae)+".test("+b+")) { ",f.errorPath=a.util.getPathExpr(a.errorPath,b,a.opts.jsonPointers);var Le=p+"["+b+"]";f.dataPathArr[C]=b;var _e=a.validate(f);f.baseId=V,a.util.varOccurences(_e,T)<2?n+=" "+a.util.varReplace(_e,T,Le)+" ":n+=" var "+T+" = "+Le+"; "+_e+" ",h&&(n+=" if (!"+g+") break; "),n+=" } ",h&&(n+=" else "+g+" = true; "),n+=" }  ",h&&(n+=" if ("+g+") { ",v+="}")}}}return h&&(n+=" "+v+" if ("+m+" == errors) {"),n}}),Y$=Ne((t,e)=>{e.exports=function(a,s,i){var n=" ",o=a.level,l=a.dataLevel,c=a.schema[s],u=a.schemaPath+a.util.getProperty(s),d=a.errSchemaPath+"/"+s,h=!a.opts.allErrors,p="data"+(l||""),m="errs__"+o,f=a.util.copy(a),v="";f.level++;var g="valid"+f.level;if(n+="var "+m+" = errors;",a.opts.strictKeywords?typeof c=="object"&&Object.keys(c).length>0||c===!1:a.util.schemaHasRules(c,a.RULES.all)){f.schema=c,f.schemaPath=u,f.errSchemaPath=d;var b="key"+o,w="idx"+o,C="i"+o,T="' + "+b+" + '",R=f.dataLevel=a.dataLevel+1,O="data"+R,L="dataProperties"+o,D=a.opts.ownProperties,F=a.baseId;D&&(n+=" var "+L+" = undefined; "),D?n+=" "+L+" = "+L+" || Object.keys("+p+"); for (var "+w+"=0; "+w+"<"+L+".length; "+w+"++) { var "+b+" = "+L+"["+w+"]; ":n+=" for (var "+b+" in "+p+") { ",n+=" var startErrs"+o+" = errors; ";var $=b,I=a.compositeRule;a.compositeRule=f.compositeRule=!0;var k=a.validate(f);f.baseId=F,a.util.varOccurences(k,O)<2?n+=" "+a.util.varReplace(k,O,$)+" ":n+=" var "+O+" = "+$+"; "+k+" ",a.compositeRule=f.compositeRule=I,n+=" if (!"+g+") { for (var "+C+"=startErrs"+o+"; "+C+"<errors; "+C+"++) { vErrors["+C+"].propertyName = "+b+"; }   var err =   ",a.createErrors!==!1?(n+=" { keyword: 'propertyNames' , dataPath: (dataPath || '') + "+a.errorPath+" , schemaPath: "+a.util.toQuotedString(d)+" , params: { propertyName: '"+T+"' } ",a.opts.messages!==!1&&(n+=" , message: 'property name \\'"+T+"\\' is invalid' "),a.opts.verbose&&(n+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+a.schemaPath+" , data: "+p+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!a.compositeRule&&h&&(a.async?n+=" throw new ValidationError(vErrors); ":n+=" validate.errors = vErrors; return false; "),h&&(n+=" break; "),n+=" } }"}return h&&(n+=" "+v+" if ("+m+" == errors) {"),n}}),X$=Ne((t,e)=>{e.exports=function(a,s,i){var n=" ",o=a.level,l=a.dataLevel,c=a.schema[s],u=a.schemaPath+a.util.getProperty(s),d=a.errSchemaPath+"/"+s,h=!a.opts.allErrors,p="data"+(l||""),m="valid"+o,f=a.opts.$data&&c&&c.$data,v;f?(n+=" var schema"+o+" = "+a.util.getData(c.$data,l,a.dataPathArr)+"; ",v="schema"+o):v=c;var g="schema"+o;if(!f)if(c.length<a.opts.loopRequired&&a.schema.properties&&Object.keys(a.schema.properties).length){var b=[],w=c;if(w)for(var C,T=-1,R=w.length-1;T<R;){C=w[T+=1];var O=a.schema.properties[C];O&&(a.opts.strictKeywords?typeof O=="object"&&Object.keys(O).length>0||O===!1:a.util.schemaHasRules(O,a.RULES.all))||(b[b.length]=C)}}else var b=c;if(f||b.length){var L=a.errorPath,D=f||b.length>=a.opts.loopRequired,F=a.opts.ownProperties;if(h)if(n+=" var missing"+o+"; ",D){f||(n+=" var "+g+" = validate.schema"+u+"; ");var $="i"+o,I="schema"+o+"["+$+"]",k="' + "+I+" + '";a.opts._errorDataPathProperty&&(a.errorPath=a.util.getPathExpr(L,I,a.opts.jsonPointers)),n+=" var "+m+" = true; ",f&&(n+=" if (schema"+o+" === undefined) "+m+" = true; else if (!Array.isArray(schema"+o+")) "+m+" = false; else {"),n+=" for (var "+$+" = 0; "+$+" < "+g+".length; "+$+"++) { "+m+" = "+p+"["+g+"["+$+"]] !== undefined ",F&&(n+=" &&   Object.prototype.hasOwnProperty.call("+p+", "+g+"["+$+"]) "),n+="; if (!"+m+") break; } ",f&&(n+="  }  "),n+="  if (!"+m+") {   ";var N=N||[];N.push(n),n="",a.createErrors!==!1?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+a.errorPath+" , schemaPath: "+a.util.toQuotedString(d)+" , params: { missingProperty: '"+k+"' } ",a.opts.messages!==!1&&(n+=" , message: '",a.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+k+"\\'",n+="' "),a.opts.verbose&&(n+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+a.schemaPath+" , data: "+p+" "),n+=" } "):n+=" {} ";var B=n;n=N.pop(),!a.compositeRule&&h?a.async?n+=" throw new ValidationError(["+B+"]); ":n+=" validate.errors = ["+B+"]; return false; ":n+=" var err = "+B+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } else { "}else{n+=" if ( ";var W=b;if(W)for(var V,$=-1,K=W.length-1;$<K;){V=W[$+=1],$&&(n+=" || ");var Q=a.util.getProperty(V),X=p+Q;n+=" ( ( "+X+" === undefined ",F&&(n+=" || ! Object.prototype.hasOwnProperty.call("+p+", '"+a.util.escapeQuotes(V)+"') "),n+=") && (missing"+o+" = "+a.util.toQuotedString(a.opts.jsonPointers?V:Q)+") ) "}n+=") {  ";var I="missing"+o,k="' + "+I+" + '";a.opts._errorDataPathProperty&&(a.errorPath=a.opts.jsonPointers?a.util.getPathExpr(L,I,!0):L+" + "+I);var N=N||[];N.push(n),n="",a.createErrors!==!1?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+a.errorPath+" , schemaPath: "+a.util.toQuotedString(d)+" , params: { missingProperty: '"+k+"' } ",a.opts.messages!==!1&&(n+=" , message: '",a.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+k+"\\'",n+="' "),a.opts.verbose&&(n+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+a.schemaPath+" , data: "+p+" "),n+=" } "):n+=" {} ";var B=n;n=N.pop(),!a.compositeRule&&h?a.async?n+=" throw new ValidationError(["+B+"]); ":n+=" validate.errors = ["+B+"]; return false; ":n+=" var err = "+B+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } else { "}else if(D){f||(n+=" var "+g+" = validate.schema"+u+"; ");var $="i"+o,I="schema"+o+"["+$+"]",k="' + "+I+" + '";a.opts._errorDataPathProperty&&(a.errorPath=a.util.getPathExpr(L,I,a.opts.jsonPointers)),f&&(n+=" if ("+g+" && !Array.isArray("+g+")) {  var err =   ",a.createErrors!==!1?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+a.errorPath+" , schemaPath: "+a.util.toQuotedString(d)+" , params: { missingProperty: '"+k+"' } ",a.opts.messages!==!1&&(n+=" , message: '",a.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+k+"\\'",n+="' "),a.opts.verbose&&(n+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+a.schemaPath+" , data: "+p+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if ("+g+" !== undefined) { "),n+=" for (var "+$+" = 0; "+$+" < "+g+".length; "+$+"++) { if ("+p+"["+g+"["+$+"]] === undefined ",F&&(n+=" || ! Object.prototype.hasOwnProperty.call("+p+", "+g+"["+$+"]) "),n+=") {  var err =   ",a.createErrors!==!1?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+a.errorPath+" , schemaPath: "+a.util.toQuotedString(d)+" , params: { missingProperty: '"+k+"' } ",a.opts.messages!==!1&&(n+=" , message: '",a.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+k+"\\'",n+="' "),a.opts.verbose&&(n+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+a.schemaPath+" , data: "+p+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ",f&&(n+="  }  ")}else{var ae=b;if(ae)for(var V,ue=-1,Qe=ae.length-1;ue<Qe;){V=ae[ue+=1];var Q=a.util.getProperty(V),k=a.util.escapeQuotes(V),X=p+Q;a.opts._errorDataPathProperty&&(a.errorPath=a.util.getPath(L,V,a.opts.jsonPointers)),n+=" if ( "+X+" === undefined ",F&&(n+=" || ! Object.prototype.hasOwnProperty.call("+p+", '"+a.util.escapeQuotes(V)+"') "),n+=") {  var err =   ",a.createErrors!==!1?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+a.errorPath+" , schemaPath: "+a.util.toQuotedString(d)+" , params: { missingProperty: '"+k+"' } ",a.opts.messages!==!1&&(n+=" , message: '",a.opts._errorDataPathProperty?n+="is a required property":n+="should have required property \\'"+k+"\\'",n+="' "),a.opts.verbose&&(n+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+a.schemaPath+" , data: "+p+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}a.errorPath=L}else h&&(n+=" if (true) {");return n}}),eL=Ne((t,e)=>{e.exports=function(a,s,i){var n=" ",o=a.level,l=a.dataLevel,c=a.schema[s],u=a.schemaPath+a.util.getProperty(s),d=a.errSchemaPath+"/"+s,h=!a.opts.allErrors,p="data"+(l||""),m="valid"+o,f=a.opts.$data&&c&&c.$data,v;if(f?(n+=" var schema"+o+" = "+a.util.getData(c.$data,l,a.dataPathArr)+"; ",v="schema"+o):v=c,(c||f)&&a.opts.uniqueItems!==!1){f&&(n+=" var "+m+"; if ("+v+" === false || "+v+" === undefined) "+m+" = true; else if (typeof "+v+" != 'boolean') "+m+" = false; else { "),n+=" var i = "+p+".length , "+m+" = true , j; if (i > 1) { ";var g=a.schema.items&&a.schema.items.type,b=Array.isArray(g);if(!g||g=="object"||g=="array"||b&&(g.indexOf("object")>=0||g.indexOf("array")>=0))n+=" outer: for (;i--;) { for (j = i; j--;) { if (equal("+p+"[i], "+p+"[j])) { "+m+" = false; break outer; } } } ";else{n+=" var itemIndices = {}, item; for (;i--;) { var item = "+p+"[i]; ";var w="checkDataType"+(b?"s":"");n+=" if ("+a.util[w](g,"item",a.opts.strictNumbers,!0)+") continue; ",b&&(n+=` if (typeof item == 'string') item = '"' + item; `),n+=" if (typeof itemIndices[item] == 'number') { "+m+" = false; j = itemIndices[item]; break; } itemIndices[item] = i; } "}n+=" } ",f&&(n+="  }  "),n+=" if (!"+m+") {   ";var C=C||[];C.push(n),n="",a.createErrors!==!1?(n+=" { keyword: 'uniqueItems' , dataPath: (dataPath || '') + "+a.errorPath+" , schemaPath: "+a.util.toQuotedString(d)+" , params: { i: i, j: j } ",a.opts.messages!==!1&&(n+=" , message: 'should NOT have duplicate items (items ## ' + j + ' and ' + i + ' are identical)' "),a.opts.verbose&&(n+=" , schema:  ",f?n+="validate.schema"+u:n+=""+c,n+="         , parentSchema: validate.schema"+a.schemaPath+" , data: "+p+" "),n+=" } "):n+=" {} ";var T=n;n=C.pop(),!a.compositeRule&&h?a.async?n+=" throw new ValidationError(["+T+"]); ":n+=" validate.errors = ["+T+"]; return false; ":n+=" var err = "+T+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } ",h&&(n+=" else { ")}else h&&(n+=" if (true) { ");return n}}),tL=Ne((t,e)=>{e.exports={$ref:$$(),allOf:L$(),anyOf:F$(),$comment:q$(),const:M$(),contains:U$(),dependencies:z$(),enum:B$(),format:Z$(),if:V$(),items:H$(),maximum:K_(),minimum:K_(),maxItems:J_(),minItems:J_(),maxLength:Q_(),minLength:Q_(),maxProperties:Y_(),minProperties:Y_(),multipleOf:G$(),not:W$(),oneOf:K$(),pattern:J$(),properties:Q$(),propertyNames:Y$(),required:X$(),uniqueItems:eL(),validate:i0()}}),rL=Ne((t,e)=>{var r=tL(),a=vi().toHash;e.exports=function(){var i=[{type:"number",rules:[{maximum:["exclusiveMaximum"]},{minimum:["exclusiveMinimum"]},"multipleOf","format"]},{type:"string",rules:["maxLength","minLength","pattern","format"]},{type:"array",rules:["maxItems","minItems","items","contains","uniqueItems"]},{type:"object",rules:["maxProperties","minProperties","required","dependencies","propertyNames",{properties:["additionalProperties","patternProperties"]}]},{rules:["$ref","const","enum","not","anyOf","oneOf","allOf","if"]}],n=["type","$comment"],o=["$schema","$id","id","$data","$async","title","description","default","definitions","examples","readOnly","writeOnly","contentMediaType","contentEncoding","additionalItems","then","else"],l=["number","integer","string","array","object","boolean","null"];return i.all=a(n),i.types=a(l),i.forEach(function(c){c.rules=c.rules.map(function(u){var d;if(typeof u=="object"){var h=Object.keys(u)[0];d=u[h],u=h,d.forEach(function(m){n.push(m),i.all[m]=!0})}n.push(u);var p=i.all[u]={keyword:u,code:r[u],implements:d};return p}),i.all.$comment={keyword:"$comment",code:r.$comment},c.type&&(i.types[c.type]=c)}),i.keywords=a(n.concat(o)),i.custom={},i}}),aL=Ne((t,e)=>{var r=["multipleOf","maximum","exclusiveMaximum","minimum","exclusiveMinimum","maxLength","minLength","pattern","additionalItems","maxItems","minItems","uniqueItems","maxProperties","minProperties","required","additionalProperties","enum","format","const"];e.exports=function(a,s){for(var i=0;i<s.length;i++){a=JSON.parse(JSON.stringify(a));var n=s[i].split("/"),o=a,l;for(l=1;l<n.length;l++)o=o[n[l]];for(l=0;l<r.length;l++){var c=r[l],u=o[c];u&&(o[c]={anyOf:[u,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]})}}return a}}),sL=Ne((t,e)=>{var r=$f().MissingRef;e.exports=a;function a(s,i,n){var o=this;if(typeof this._opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");typeof i=="function"&&(n=i,i=void 0);var l=c(s).then(function(){var d=o._addSchema(s,void 0,i);return d.validate||u(d)});return n&&l.then(function(d){n(null,d)},n),l;function c(d){var h=d.$schema;return h&&!o.getSchema(h)?a.call(o,{$ref:h},!0):Promise.resolve()}function u(d){try{return o._compile(d)}catch(p){if(p instanceof r)return h(p);throw p}function h(p){var m=p.missingSchema;if(g(m))throw new Error("Schema "+m+" is loaded but "+p.missingRef+" cannot be resolved");var f=o._loadingSchemas[m];return f||(f=o._loadingSchemas[m]=o._opts.loadSchema(m),f.then(v,v)),f.then(function(b){if(!g(m))return c(b).then(function(){g(m)||o.addSchema(b,m,void 0,i)})}).then(function(){return u(d)});function v(){delete o._loadingSchemas[m]}function g(b){return o._refs[b]||o._schemas[b]}}}}}),nL=Ne((t,e)=>{e.exports=function(a,s,i){var n=" ",o=a.level,l=a.dataLevel,c=a.schema[s],u=a.schemaPath+a.util.getProperty(s),d=a.errSchemaPath+"/"+s,h=!a.opts.allErrors,p,m="data"+(l||""),f="valid"+o,v="errs__"+o,g=a.opts.$data&&c&&c.$data,b;g?(n+=" var schema"+o+" = "+a.util.getData(c.$data,l,a.dataPathArr)+"; ",b="schema"+o):b=c;var w=this,C="definition"+o,T=w.definition,R="",O,L,D,F,$;if(g&&T.$data){$="keywordValidate"+o;var I=T.validateSchema;n+=" var "+C+" = RULES.custom['"+s+"'].definition; var "+$+" = "+C+".validate;"}else{if(F=a.useCustomRule(w,c,a.schema,a),!F)return;b="validate.schema"+u,$=F.code,O=T.compile,L=T.inline,D=T.macro}var k=$+".errors",N="i"+o,B="ruleErr"+o,W=T.async;if(W&&!a.async)throw new Error("async keyword in sync schema");if(L||D||(n+=""+k+" = null;"),n+="var "+v+" = errors;var "+f+";",g&&T.$data&&(R+="}",n+=" if ("+b+" === undefined) { "+f+" = true; } else { ",I&&(R+="}",n+=" "+f+" = "+C+".validateSchema("+b+"); if ("+f+") { ")),L)T.statements?n+=" "+F.validate+" ":n+=" "+f+" = "+F.validate+"; ";else if(D){var V=a.util.copy(a),R="";V.level++;var K="valid"+V.level;V.schema=F.validate,V.schemaPath="";var Q=a.compositeRule;a.compositeRule=V.compositeRule=!0;var X=a.validate(V).replace(/validate\.schema/g,$);a.compositeRule=V.compositeRule=Q,n+=" "+X}else{var ae=ae||[];ae.push(n),n="",n+="  "+$+".call( ",a.opts.passContext?n+="this":n+="self",O||T.schema===!1?n+=" , "+m+" ":n+=" , "+b+" , "+m+" , validate.schema"+a.schemaPath+" ",n+=" , (dataPath || '')",a.errorPath!='""'&&(n+=" + "+a.errorPath);var ue=l?"data"+(l-1||""):"parentData",Qe=l?a.dataPathArr[l]:"parentDataProperty";n+=" , "+ue+" , "+Qe+" , rootData )  ";var ye=n;n=ae.pop(),T.errors===!1?(n+=" "+f+" = ",W&&(n+="await "),n+=""+ye+"; "):W?(k="customErrors"+o,n+=" var "+k+" = null; try { "+f+" = await "+ye+"; } catch (e) { "+f+" = false; if (e instanceof ValidationError) "+k+" = e.errors; else throw e; } "):n+=" "+k+" = null; "+f+" = "+ye+"; "}if(T.modifying&&(n+=" if ("+ue+") "+m+" = "+ue+"["+Qe+"];"),n+=""+R,T.valid)h&&(n+=" if (true) { ");else{n+=" if ( ",T.valid===void 0?(n+=" !",D?n+=""+K:n+=""+f):n+=" "+!T.valid+" ",n+=") { ",p=w.keyword;var ae=ae||[];ae.push(n),n="";var ae=ae||[];ae.push(n),n="",a.createErrors!==!1?(n+=" { keyword: '"+(p||"custom")+"' , dataPath: (dataPath || '') + "+a.errorPath+" , schemaPath: "+a.util.toQuotedString(d)+" , params: { keyword: '"+w.keyword+"' } ",a.opts.messages!==!1&&(n+=` , message: 'should pass "`+w.keyword+`" keyword validation' `),a.opts.verbose&&(n+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+a.schemaPath+" , data: "+m+" "),n+=" } "):n+=" {} ";var Ce=n;n=ae.pop(),!a.compositeRule&&h?a.async?n+=" throw new ValidationError(["+Ce+"]); ":n+=" validate.errors = ["+Ce+"]; return false; ":n+=" var err = "+Ce+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";var Ae=n;n=ae.pop(),L?T.errors?T.errors!="full"&&(n+="  for (var "+N+"="+v+"; "+N+"<errors; "+N+"++) { var "+B+" = vErrors["+N+"]; if ("+B+".dataPath === undefined) "+B+".dataPath = (dataPath || '') + "+a.errorPath+"; if ("+B+".schemaPath === undefined) { "+B+'.schemaPath = "'+d+'"; } ',a.opts.verbose&&(n+=" "+B+".schema = "+b+"; "+B+".data = "+m+"; "),n+=" } "):T.errors===!1?n+=" "+Ae+" ":(n+=" if ("+v+" == errors) { "+Ae+" } else {  for (var "+N+"="+v+"; "+N+"<errors; "+N+"++) { var "+B+" = vErrors["+N+"]; if ("+B+".dataPath === undefined) "+B+".dataPath = (dataPath || '') + "+a.errorPath+"; if ("+B+".schemaPath === undefined) { "+B+'.schemaPath = "'+d+'"; } ',a.opts.verbose&&(n+=" "+B+".schema = "+b+"; "+B+".data = "+m+"; "),n+=" } } "):D?(n+="   var err =   ",a.createErrors!==!1?(n+=" { keyword: '"+(p||"custom")+"' , dataPath: (dataPath || '') + "+a.errorPath+" , schemaPath: "+a.util.toQuotedString(d)+" , params: { keyword: '"+w.keyword+"' } ",a.opts.messages!==!1&&(n+=` , message: 'should pass "`+w.keyword+`" keyword validation' `),a.opts.verbose&&(n+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+a.schemaPath+" , data: "+m+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!a.compositeRule&&h&&(a.async?n+=" throw new ValidationError(vErrors); ":n+=" validate.errors = vErrors; return false; ")):T.errors===!1?n+=" "+Ae+" ":(n+=" if (Array.isArray("+k+")) { if (vErrors === null) vErrors = "+k+"; else vErrors = vErrors.concat("+k+"); errors = vErrors.length;  for (var "+N+"="+v+"; "+N+"<errors; "+N+"++) { var "+B+" = vErrors["+N+"]; if ("+B+".dataPath === undefined) "+B+".dataPath = (dataPath || '') + "+a.errorPath+";  "+B+'.schemaPath = "'+d+'";  ',a.opts.verbose&&(n+=" "+B+".schema = "+b+"; "+B+".data = "+m+"; "),n+=" } } else { "+Ae+" } "),n+=" } ",h&&(n+=" else { ")}return n}}),o0=Ne((t,e)=>{e.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}}),iL=Ne((t,e)=>{var r=o0();e.exports={$id:"https://github.com/ajv-validator/ajv/blob/master/lib/definition_schema.js",definitions:{simpleTypes:r.definitions.simpleTypes},type:"object",dependencies:{schema:["validate"],$data:["validate"],statements:["inline"],valid:{not:{required:["macro"]}}},properties:{type:r.properties.type,schema:{type:"boolean"},statements:{type:"boolean"},dependencies:{type:"array",items:{type:"string"}},metaSchema:{type:"object"},modifying:{type:"boolean"},valid:{type:"boolean"},$data:{type:"boolean"},async:{type:"boolean"},errors:{anyOf:[{type:"boolean"},{const:"full"}]}}}}),oL=Ne((t,e)=>{var r=/^[a-z_$][a-z0-9_$-]*$/i,a=nL(),s=iL();e.exports={add:i,get:n,remove:o,validate:l};function i(c,u){var d=this.RULES;if(d.keywords[c])throw new Error("Keyword "+c+" is already defined");if(!r.test(c))throw new Error("Keyword "+c+" is not a valid identifier");if(u){this.validateKeyword(u,!0);var h=u.type;if(Array.isArray(h))for(var p=0;p<h.length;p++)f(c,h[p],u);else f(c,h,u);var m=u.metaSchema;m&&(u.$data&&this._opts.$data&&(m={anyOf:[m,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]}),u.validateSchema=this.compile(m,!0))}d.keywords[c]=d.all[c]=!0;function f(v,g,b){for(var w,C=0;C<d.length;C++){var T=d[C];if(T.type==g){w=T;break}}w||(w={type:g,rules:[]},d.push(w));var R={keyword:v,definition:b,custom:!0,code:a,implements:b.implements};w.rules.push(R),d.custom[v]=R}return this}function n(c){var u=this.RULES.custom[c];return u?u.definition:this.RULES.keywords[c]||!1}function o(c){var u=this.RULES;delete u.keywords[c],delete u.all[c],delete u.custom[c];for(var d=0;d<u.length;d++)for(var h=u[d].rules,p=0;p<h.length;p++)if(h[p].keyword==c){h.splice(p,1);break}return this}function l(c,u){l.errors=null;var d=this._validateKeyword=this._validateKeyword||this.compile(s,!0);if(d(c))return!0;if(l.errors=d.errors,u)throw new Error("custom keyword definition is invalid: "+this.errorsText(d.errors));return!1}}),cL=Ne((t,e)=>{e.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON Schema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1}}),lL=Ne((t,e)=>{var r=j$(),a=Nf(),s=D$(),i=s0(),n=n0(),o=N$(),l=rL(),c=aL(),u=vi();e.exports=v,v.prototype.validate=g,v.prototype.compile=b,v.prototype.addSchema=w,v.prototype.addMetaSchema=C,v.prototype.validateSchema=T,v.prototype.getSchema=O,v.prototype.removeSchema=F,v.prototype.addFormat=Q,v.prototype.errorsText=K,v.prototype._addSchema=I,v.prototype._compile=k,v.prototype.compileAsync=sL();var d=oL();v.prototype.addKeyword=d.add,v.prototype.getKeyword=d.get,v.prototype.removeKeyword=d.remove,v.prototype.validateKeyword=d.validate;var h=$f();v.ValidationError=h.Validation,v.MissingRefError=h.MissingRef,v.$dataMetaSchema=c;var p="http://json-schema.org/draft-07/schema",m=["removeAdditional","useDefaults","coerceTypes","strictDefaults"],f=["/properties"];function v(U){if(!(this instanceof v))return new v(U);U=this._opts=u.copy(U)||{},Ae(this),this._schemas={},this._refs={},this._fragments={},this._formats=o(U.format),this._cache=U.cache||new s,this._loadingSchemas={},this._compilations=[],this.RULES=l(),this._getId=N(U),U.loopRequired=U.loopRequired||1/0,U.errorDataPath=="property"&&(U._errorDataPathProperty=!0),U.serialize===void 0&&(U.serialize=n),this._metaOpts=Ce(this),U.formats&&ue(this),U.keywords&&Qe(this),X(this),typeof U.meta=="object"&&this.addMetaSchema(U.meta),U.nullable&&this.addKeyword("nullable",{metaSchema:{type:"boolean"}}),ae(this)}function g(U,J){var ne;if(typeof U=="string"){if(ne=this.getSchema(U),!ne)throw new Error('no schema with key or ref "'+U+'"')}else{var he=this._addSchema(U);ne=he.validate||this._compile(he)}var Y=ne(J);return ne.$async!==!0&&(this.errors=ne.errors),Y}function b(U,J){var ne=this._addSchema(U,void 0,J);return ne.validate||this._compile(ne)}function w(U,J,ne,he){if(Array.isArray(U)){for(var Y=0;Y<U.length;Y++)this.addSchema(U[Y],void 0,ne,he);return this}var te=this._getId(U);if(te!==void 0&&typeof te!="string")throw new Error("schema id must be string");return J=a.normalizeId(J||te),ye(this,J),this._schemas[J]=this._addSchema(U,ne,he,!0),this}function C(U,J,ne){return this.addSchema(U,J,ne,!0),this}function T(U,J){var ne=U.$schema;if(ne!==void 0&&typeof ne!="string")throw new Error("$schema must be a string");if(ne=ne||this._opts.defaultMeta||R(this),!ne)return this.logger.warn("meta-schema not available"),this.errors=null,!0;var he=this.validate(ne,U);if(!he&&J){var Y="schema is invalid: "+this.errorsText();if(this._opts.validateSchema=="log")this.logger.error(Y);else throw new Error(Y)}return he}function R(U){var J=U._opts.meta;return U._opts.defaultMeta=typeof J=="object"?U._getId(J)||J:U.getSchema(p)?p:void 0,U._opts.defaultMeta}function O(U){var J=D(this,U);switch(typeof J){case"object":return J.validate||this._compile(J);case"string":return this.getSchema(J);case"undefined":return L(this,U)}}function L(U,J){var ne=a.schema.call(U,{schema:{}},J);if(ne){var{schema:he,root:Y,baseId:te}=ne,de=r.call(U,he,Y,void 0,te);return U._fragments[J]=new i({ref:J,fragment:!0,schema:he,root:Y,baseId:te,validate:de}),de}}function D(U,J){return J=a.normalizeId(J),U._schemas[J]||U._refs[J]||U._fragments[J]}function F(U){if(U instanceof RegExp)return $(this,this._schemas,U),$(this,this._refs,U),this;switch(typeof U){case"undefined":return $(this,this._schemas),$(this,this._refs),this._cache.clear(),this;case"string":var J=D(this,U);return J&&this._cache.del(J.cacheKey),delete this._schemas[U],delete this._refs[U],this;case"object":var ne=this._opts.serialize,he=ne?ne(U):U;this._cache.del(he);var Y=this._getId(U);Y&&(Y=a.normalizeId(Y),delete this._schemas[Y],delete this._refs[Y])}return this}function $(U,J,ne){for(var he in J){var Y=J[he];!Y.meta&&(!ne||ne.test(he))&&(U._cache.del(Y.cacheKey),delete J[he])}}function I(U,J,ne,he){if(typeof U!="object"&&typeof U!="boolean")throw new Error("schema should be object or boolean");var Y=this._opts.serialize,te=Y?Y(U):U,de=this._cache.get(te);if(de)return de;he=he||this._opts.addUsedSchema!==!1;var Le=a.normalizeId(this._getId(U));Le&&he&&ye(this,Le);var _e=this._opts.validateSchema!==!1&&!J,it;_e&&!(it=Le&&Le==a.normalizeId(U.$schema))&&this.validateSchema(U,!0);var ot=a.ids.call(this,U),Te=new i({id:Le,schema:U,localRefs:ot,cacheKey:te,meta:ne});return Le[0]!="#"&&he&&(this._refs[Le]=Te),this._cache.put(te,Te),_e&&it&&this.validateSchema(U,!0),Te}function k(U,J){if(U.compiling)return U.validate=Y,Y.schema=U.schema,Y.errors=null,Y.root=J||Y,U.schema.$async===!0&&(Y.$async=!0),Y;U.compiling=!0;var ne;U.meta&&(ne=this._opts,this._opts=this._metaOpts);var he;try{he=r.call(this,U.schema,J,U.localRefs)}catch(te){throw delete U.validate,te}finally{U.compiling=!1,U.meta&&(this._opts=ne)}return U.validate=he,U.refs=he.refs,U.refVal=he.refVal,U.root=he.root,he;function Y(){var te=U.validate,de=te.apply(this,arguments);return Y.errors=te.errors,de}}function N(U){switch(U.schemaId){case"auto":return V;case"id":return B;default:return W}}function B(U){return U.$id&&this.logger.warn("schema $id ignored",U.$id),U.id}function W(U){return U.id&&this.logger.warn("schema id ignored",U.id),U.$id}function V(U){if(U.$id&&U.id&&U.$id!=U.id)throw new Error("schema $id is different from id");return U.$id||U.id}function K(U,J){if(U=U||this.errors,!U)return"No errors";J=J||{};for(var ne=J.separator===void 0?", ":J.separator,he=J.dataVar===void 0?"data":J.dataVar,Y="",te=0;te<U.length;te++){var de=U[te];de&&(Y+=he+de.dataPath+" "+de.message+ne)}return Y.slice(0,-ne.length)}function Q(U,J){return typeof J=="string"&&(J=new RegExp(J)),this._formats[U]=J,this}function X(U){var J;if(U._opts.$data&&(J=cL(),U.addMetaSchema(J,J.$id,!0)),U._opts.meta!==!1){var ne=o0();U._opts.$data&&(ne=c(ne,f)),U.addMetaSchema(ne,p,!0),U._refs["http://json-schema.org/schema"]=p}}function ae(U){var J=U._opts.schemas;if(J)if(Array.isArray(J))U.addSchema(J);else for(var ne in J)U.addSchema(J[ne],ne)}function ue(U){for(var J in U._opts.formats){var ne=U._opts.formats[J];U.addFormat(J,ne)}}function Qe(U){for(var J in U._opts.keywords){var ne=U._opts.keywords[J];U.addKeyword(J,ne)}}function ye(U,J){if(U._schemas[J]||U._refs[J])throw new Error('schema with key or id "'+J+'" already exists')}function Ce(U){for(var J=u.copy(U._opts),ne=0;ne<m.length;ne++)delete J[m[ne]];return J}function Ae(U){var J=U._opts.logger;if(J===!1)U.logger={log:Ue,warn:Ue,error:Ue};else{if(J===void 0&&(J=console),!(typeof J=="object"&&J.log&&J.warn&&J.error))throw new Error("logger must implement log, warn and error methods");U.logger=J}}function Ue(){}}),uL=50;function u0(t=uL){let e=new AbortController;return(0,l0.setMaxListeners)(t,e.signal),e}var dL={accessSync(t,e){Re.accessSync(t,e)},cwd(){return process.cwd()},chmodSync(t,e){Re.chmodSync(t,e)},existsSync(t){return Re.existsSync(t)},async stat(t){return(0,f0.stat)(t)},statSync(t){return Re.statSync(t)},readFileSync(t,e){return Re.readFileSync(t,{encoding:e.encoding})},readFileBytesSync(t){return Re.readFileSync(t)},readSync(t,e){let r;try{r=Re.openSync(t,"r");let a=Buffer.alloc(e.length),s=Re.readSync(r,a,0,e.length,0);return{buffer:a,bytesRead:s}}finally{r&&Re.closeSync(r)}},writeFileSync(t,e,r){if(!r.flush){let s={encoding:r.encoding};r.mode!==void 0&&(s.mode=r.mode),Re.writeFileSync(t,e,s);return}let a;try{let s=r.mode!==void 0?r.mode:void 0;a=Re.openSync(t,"w",s),Re.writeFileSync(a,e,{encoding:r.encoding}),Re.fsyncSync(a)}finally{a&&Re.closeSync(a)}},appendFileSync(t,e){Re.appendFileSync(t,e)},copyFileSync(t,e){Re.copyFileSync(t,e)},unlinkSync(t){Re.unlinkSync(t)},renameSync(t,e){Re.renameSync(t,e)},linkSync(t,e){Re.linkSync(t,e)},symlinkSync(t,e){Re.symlinkSync(t,e)},readlinkSync(t){return Re.readlinkSync(t)},realpathSync(t){return Re.realpathSync(t)},mkdirSync(t){Re.existsSync(t)||Re.mkdirSync(t,{recursive:!0,mode:448})},readdirSync(t){return Re.readdirSync(t,{withFileTypes:!0})},readdirStringSync(t){return Re.readdirSync(t)},isDirEmptySync(t){return this.readdirSync(t).length===0},rmdirSync(t){Re.rmdirSync(t)},rmSync(t,e){Re.rmSync(t,e)},createWriteStream(t){return Re.createWriteStream(t)}},pL=dL;function fL(){return pL}var Fs=class extends Error{};function m0(){return process.versions.bun!==void 0}var Pf=class{options;child;childStdin;childStdout;ready=!1;abortController;exitError;exitListeners=[];processExitHandler;abortHandler;constructor(e){this.options=e,this.abortController=e.abortController||u0(),this.initialize()}initialize(){try{let{additionalDirectories:e=[],agents:r,cwd:a,executable:s=m0()?"bun":"node",executableArgs:i=[],extraArgs:n={},pathToClaudeCodeExecutable:o,env:l={...process.env},stderr:c,customSystemPrompt:u,appendSystemPrompt:d,maxTurns:h,model:p,fallbackModel:m,permissionMode:f,permissionPromptToolName:v,continueConversation:g,resume:b,settingSources:w,allowedTools:C=[],disallowedTools:T=[],mcpServers:R,strictMcpConfig:O,canUseTool:L,includePartialMessages:D}=this.options,F=["--output-format","stream-json","--verbose","--input-format","stream-json"];if(typeof u=="string"&&F.push("--system-prompt",u),d&&F.push("--append-system-prompt",d),h&&F.push("--max-turns",h.toString()),p&&F.push("--model",p),l.DEBUG&&F.push("--debug-to-stderr"),L){if(v)throw new Error("canUseTool callback cannot be used with permissionPromptToolName. Please use one or the other.");F.push("--permission-prompt-tool","stdio")}else v&&F.push("--permission-prompt-tool",v);if(g&&F.push("--continue"),b&&F.push("--resume",b),C.length>0&&F.push("--allowedTools",C.join(",")),T.length>0&&F.push("--disallowedTools",T.join(",")),R&&Object.keys(R).length>0&&F.push("--mcp-config",JSON.stringify({mcpServers:R})),r&&Object.keys(r).length>0&&F.push("--agents",JSON.stringify(r)),w&&F.push("--setting-sources",w.join(",")),O&&F.push("--strict-mcp-config"),f&&F.push("--permission-mode",f),m){if(p&&m===p)throw new Error("Fallback model cannot be the same as the main model. Please specify a different model for fallbackModel option.");F.push("--fallback-model",m)}D&&F.push("--include-partial-messages");for(let V of e)F.push("--add-dir",V);this.options.forkSession&&F.push("--fork-session"),this.options.resumeSessionAt&&F.push("--resume-session-at",this.options.resumeSessionAt);for(let[V,K]of Object.entries(n))K===null?F.push(`--${V}`):F.push(`--${V}`,K);if(l.CLAUDE_CODE_ENTRYPOINT||(l.CLAUDE_CODE_ENTRYPOINT="sdk-ts"),!fL().existsSync(o)){let V=X_(o)?`Claude Code native binary not found at ${o}. Please ensure Claude Code is installed via native installer or specify a valid path with options.pathToClaudeCodeExecutable.`:`Claude Code executable not found at ${o}. Is options.pathToClaudeCodeExecutable set?`;throw new ReferenceError(V)}let I=X_(o),k=I?o:s,N=I?F:[...i,o,...F];this.logForDebugging(I?`Spawning Claude Code native binary: ${o} ${F.join(" ")}`:`Spawning Claude Code process: ${s} ${[...i,o,...F].join(" ")}`);let B=l.DEBUG||c?"pipe":"ignore";this.child=(0,d0.spawn)(k,N,{cwd:a,stdio:["pipe","pipe",B],signal:this.abortController.signal,env:l}),this.childStdin=this.child.stdin,this.childStdout=this.child.stdout,(l.DEBUG||c)&&this.child.stderr.on("data",V=>{this.logForDebugging(`Claude Code stderr: ${V.toString()}`),c&&c(V.toString())});let W=()=>{this.child&&!this.child.killed&&this.child.kill("SIGTERM")};this.processExitHandler=W,this.abortHandler=W,process.on("exit",this.processExitHandler),this.abortController.signal.addEventListener("abort",this.abortHandler),this.child.on("error",V=>{this.ready=!1,this.abortController.signal.aborted?this.exitError=new Fs("Claude Code process aborted by user"):(this.exitError=new Error(`Failed to spawn Claude Code process: ${V.message}`),this.logForDebugging(this.exitError.message))}),this.child.on("close",(V,K)=>{if(this.ready=!1,this.abortController.signal.aborted)this.exitError=new Fs("Claude Code process aborted by user");else{let Q=this.getProcessExitError(V,K);Q&&(this.exitError=Q,this.logForDebugging(Q.message))}}),this.ready=!0}catch(e){throw this.ready=!1,e}}getProcessExitError(e,r){if(e!==0&&e!==null)return new Error(`Claude Code process exited with code ${e}`);if(r)return new Error(`Claude Code process terminated by signal ${r}`)}logForDebugging(e){process.env.DEBUG&&process.stderr.write(`${e}
`),this.options.stderr&&this.options.stderr(e)}write(e){if(this.abortController.signal.aborted)throw new Fs("Operation aborted");if(!this.ready||!this.childStdin)throw new Error("ProcessTransport is not ready for writing");if(this.child?.killed||this.child?.exitCode!==null)throw new Error("Cannot write to terminated process");if(this.exitError)throw new Error(`Cannot write to process that exited with error: ${this.exitError.message}`);process.env.DEBUG_SDK&&process.stderr.write(`[ProcessTransport] Writing to stdin: ${e.substring(0,100)}
`);try{!this.childStdin.write(e)&&process.env.DEBUG_SDK&&console.warn("[ProcessTransport] Write buffer full, data queued")}catch(r){throw this.ready=!1,new Error(`Failed to write to process stdin: ${r.message}`)}}close(){this.childStdin&&(this.childStdin.end(),this.childStdin=void 0),this.processExitHandler&&(process.off("exit",this.processExitHandler),this.processExitHandler=void 0),this.abortHandler&&(this.abortController.signal.removeEventListener("abort",this.abortHandler),this.abortHandler=void 0);for(let{handler:e}of this.exitListeners)this.child?.off("exit",e);this.exitListeners=[],this.child&&!this.child.killed&&(this.child.kill("SIGTERM"),setTimeout(()=>{this.child&&!this.child.killed&&this.child.kill("SIGKILL")},5e3)),this.ready=!1}isReady(){return this.ready}async*readMessages(){if(!this.childStdout)throw new Error("ProcessTransport output stream not available");let e=(0,p0.createInterface)({input:this.childStdout});try{for await(let r of e)r.trim()&&(yield JSON.parse(r));await this.waitForExit()}catch(r){throw r}finally{e.close()}}endInput(){this.childStdin&&this.childStdin.end()}getInputStream(){return this.childStdin}onExit(e){if(!this.child)return()=>{};let r=(a,s)=>{let i=this.getProcessExitError(a,s);e(i)};return this.child.on("exit",r),this.exitListeners.push({callback:e,handler:r}),()=>{this.child&&this.child.off("exit",r);let a=this.exitListeners.findIndex(s=>s.handler===r);a!==-1&&this.exitListeners.splice(a,1)}}async waitForExit(){if(!this.child){if(this.exitError)throw this.exitError;return}if(this.child.exitCode!==null||this.child.killed){if(this.exitError)throw this.exitError;return}return new Promise((e,r)=>{let a=(i,n)=>{if(this.abortController.signal.aborted){r(new Fs("Operation aborted"));return}let o=this.getProcessExitError(i,n);o?r(o):e()};this.child.once("exit",a);let s=i=>{this.child.off("exit",a),r(i)};this.child.once("error",s),this.child.once("exit",()=>{this.child.off("error",s)})})}};function X_(t){return![".js",".mjs",".tsx",".ts",".jsx"].some(r=>t.endsWith(r))}var Rf=class{returned;queue=[];readResolve;readReject;isDone=!1;hasError;started=!1;constructor(e){this.returned=e}[Symbol.asyncIterator](){if(this.started)throw new Error("Stream can only be iterated once");return this.started=!0,this}next(){return this.queue.length>0?Promise.resolve({done:!1,value:this.queue.shift()}):this.isDone?Promise.resolve({done:!0,value:void 0}):this.hasError?Promise.reject(this.hasError):new Promise((e,r)=>{this.readResolve=e,this.readReject=r})}enqueue(e){if(this.readResolve){let r=this.readResolve;this.readResolve=void 0,this.readReject=void 0,r({done:!1,value:e})}else this.queue.push(e)}done(){if(this.isDone=!0,this.readResolve){let e=this.readResolve;this.readResolve=void 0,this.readReject=void 0,e({done:!0,value:void 0})}}error(e){if(this.hasError=e,this.readReject){let r=this.readReject;this.readResolve=void 0,this.readReject=void 0,r(e)}}return(){return this.isDone=!0,this.returned&&this.returned(),Promise.resolve({done:!0,value:void 0})}},Cf=class{sendMcpMessage;isClosed=!1;constructor(e){this.sendMcpMessage=e}onclose;onerror;onmessage;async start(){}async send(e){if(this.isClosed)throw new Error("Transport is closed");this.sendMcpMessage(e)}async close(){this.isClosed||(this.isClosed=!0,this.onclose?.())}},Tf=class{transport;isSingleUserTurn;canUseTool;hooks;abortController;pendingControlResponses=new Map;cleanupPerformed=!1;sdkMessages;inputStream=new Rf;initialization;cancelControllers=new Map;hookCallbacks=new Map;nextCallbackId=0;sdkMcpTransports=new Map;pendingMcpResponses=new Map;firstResultReceivedPromise;firstResultReceivedResolve;constructor(e,r,a,s,i,n=new Map){this.transport=e,this.isSingleUserTurn=r,this.canUseTool=a,this.hooks=s,this.abortController=i;for(let[o,l]of n){let c=new Cf(u=>this.sendMcpServerMessageToCli(o,u));this.sdkMcpTransports.set(o,c),l.connect(c)}this.sdkMessages=this.readSdkMessages(),this.firstResultReceivedPromise=new Promise(o=>{this.firstResultReceivedResolve=o}),this.readMessages(),this.initialization=this.initialize(),this.initialization.catch(()=>{})}setError(e){this.inputStream.error(e)}cleanup(e){if(!this.cleanupPerformed){this.cleanupPerformed=!0;try{this.transport.close(),this.pendingControlResponses.clear(),this.pendingMcpResponses.clear(),e?this.inputStream.error(e):this.inputStream.done()}catch{}}}next(...[e]){return this.sdkMessages.next(e)}return(e){return this.sdkMessages.return(e)}throw(e){return this.sdkMessages.throw(e)}[Symbol.asyncIterator](){return this.sdkMessages}[Symbol.asyncDispose](){return this.sdkMessages[Symbol.asyncDispose]()}async readMessages(){try{for await(let e of this.transport.readMessages()){if(e.type==="control_response"){let r=this.pendingControlResponses.get(e.response.request_id);r&&r(e.response);continue}else if(e.type==="control_request"){this.handleControlRequest(e);continue}else if(e.type==="control_cancel_request"){this.handleControlCancelRequest(e);continue}else if(e.type==="keep_alive")continue;e.type==="result"&&(this.firstResultReceivedResolve&&this.firstResultReceivedResolve(),this.isSingleUserTurn&&this.transport.endInput()),this.inputStream.enqueue(e)}this.inputStream.done(),this.cleanup()}catch(e){this.inputStream.error(e),this.cleanup(e)}}async handleControlRequest(e){let r=new AbortController;this.cancelControllers.set(e.request_id,r);try{let a=await this.processControlRequest(e,r.signal),s={type:"control_response",response:{subtype:"success",request_id:e.request_id,response:a}};await Promise.resolve(this.transport.write(JSON.stringify(s)+`
`))}catch(a){let s={type:"control_response",response:{subtype:"error",request_id:e.request_id,error:a.message||String(a)}};await Promise.resolve(this.transport.write(JSON.stringify(s)+`
`))}finally{this.cancelControllers.delete(e.request_id)}}handleControlCancelRequest(e){let r=this.cancelControllers.get(e.request_id);r&&(r.abort(),this.cancelControllers.delete(e.request_id))}async processControlRequest(e,r){if(e.request.subtype==="can_use_tool"){if(!this.canUseTool)throw new Error("canUseTool callback is not provided.");return this.canUseTool(e.request.tool_name,e.request.input,{signal:r,suggestions:e.request.permission_suggestions})}else{if(e.request.subtype==="hook_callback")return await this.handleHookCallbacks(e.request.callback_id,e.request.input,e.request.tool_use_id,r);if(e.request.subtype==="mcp_message"){let a=e.request,s=this.sdkMcpTransports.get(a.server_name);if(!s)throw new Error(`SDK MCP server not found: ${a.server_name}`);return"method"in a.message&&"id"in a.message&&a.message.id!==null?{mcp_response:await this.handleMcpControlRequest(a.server_name,a,s)}:(s.onmessage&&s.onmessage(a.message),{mcp_response:{jsonrpc:"2.0",result:{},id:0}})}}throw new Error("Unsupported control request subtype: "+e.request.subtype)}async*readSdkMessages(){for await(let e of this.inputStream)yield e}async initialize(){let e;if(this.hooks){e={};for(let[i,n]of Object.entries(this.hooks))n.length>0&&(e[i]=n.map(o=>{let l=[];for(let c of o.hooks){let u=`hook_${this.nextCallbackId++}`;this.hookCallbacks.set(u,c),l.push(u)}return{matcher:o.matcher,hookCallbackIds:l}}))}let r=this.sdkMcpTransports.size>0?Array.from(this.sdkMcpTransports.keys()):void 0,a={subtype:"initialize",hooks:e,sdkMcpServers:r};return(await this.request(a)).response}async interrupt(){await this.request({subtype:"interrupt"})}async setPermissionMode(e){await this.request({subtype:"set_permission_mode",mode:e})}async setModel(e){await this.request({subtype:"set_model",model:e})}request(e){let r=Math.random().toString(36).substring(2,15),a={request_id:r,type:"control_request",request:e};return new Promise((s,i)=>{this.pendingControlResponses.set(r,n=>{n.subtype==="success"?s(n):i(new Error(n.error))}),Promise.resolve(this.transport.write(JSON.stringify(a)+`
`))})}async supportedCommands(){return(await this.initialization).commands}async supportedModels(){return(await this.initialization).models}async mcpServerStatus(){return(await this.request({subtype:"mcp_status"})).response.mcpServers}async streamInput(e){try{for await(let r of e){if(this.abortController?.signal.aborted)break;await Promise.resolve(this.transport.write(JSON.stringify(r)+`
`))}if(this.sdkMcpTransports.size>0&&this.firstResultReceivedPromise){let a;await Promise.race([this.firstResultReceivedPromise.then(()=>{a&&clearTimeout(a)}),new Promise(s=>{a=setTimeout(()=>{s()},1e4)})]),a&&clearTimeout(a)}this.transport.endInput()}catch(r){if(!(r instanceof Fs))throw r}}handleHookCallbacks(e,r,a,s){let i=this.hookCallbacks.get(e);if(!i)throw new Error(`No hook callback found for ID: ${e}`);return i(r,a,{signal:s})}sendMcpServerMessageToCli(e,r){if("id"in r&&r.id!==null&&r.id!==void 0){let a=`${e}:${r.id}`,s=this.pendingMcpResponses.get(a);if(s){s.resolve(r),this.pendingMcpResponses.delete(a);return}}throw new Error("No pending request found")}handleMcpControlRequest(e,r,a){let s="id"in r.message?r.message.id:null,i=`${e}:${s}`;return new Promise((n,o)=>{let l=null,c=()=>{l&&clearTimeout(l),this.pendingMcpResponses.delete(i)},u=h=>{c(),n(h)},d=h=>{c(),o(h)};if(this.pendingMcpResponses.set(i,{resolve:u,reject:d}),a.onmessage)a.onmessage(r.message);else{c(),o(new Error("No message handler registered"));return}l=setTimeout(()=>{this.pendingMcpResponses.has(i)&&(c(),o(new Error("Request timeout")))},3e4)})}};function mL({prompt:t,options:{abortController:e=u0(),additionalDirectories:r=[],agents:a,allowedTools:s=[],appendSystemPrompt:i,canUseTool:n,continue:o,customSystemPrompt:l,cwd:c,disallowedTools:u=[],env:d,executable:h=m0()?"bun":"node",executableArgs:p=[],extraArgs:m={},fallbackModel:f,forkSession:v,hooks:g,includePartialMessages:b,maxTurns:w,mcpServers:C,model:T,pathToClaudeCodeExecutable:R,permissionMode:O="default",permissionPromptToolName:L,resume:D,resumeSessionAt:F,settingSources:$,stderr:I,strictMcpConfig:k}={}}){if(d||(d={...process.env}),d.CLAUDE_CODE_ENTRYPOINT||(d.CLAUDE_CODE_ENTRYPOINT="sdk-ts"),!R)throw new Error("pathToClaudeCodeExecutable is required");let N={},B=new Map;if(C)for(let[Q,X]of Object.entries(C))X.type==="sdk"&&"instance"in X?(B.set(Q,X.instance),N[Q]={type:"sdk",name:Q}):N[Q]=X;let W=typeof t=="string",V=new Pf({abortController:e,additionalDirectories:r,agents:a,cwd:c,executable:h,executableArgs:p,extraArgs:m,pathToClaudeCodeExecutable:R,env:d,forkSession:v,stderr:I,customSystemPrompt:l,appendSystemPrompt:i,maxTurns:w,model:T,fallbackModel:f,permissionMode:O,permissionPromptToolName:L,continueConversation:o,resume:D,resumeSessionAt:F,settingSources:$,allowedTools:s,disallowedTools:u,mcpServers:N,strictMcpConfig:k,canUseTool:!!n,hooks:!!g,includePartialMessages:b}),K=new Tf(V,W,n,g,e,B);return typeof t=="string"?V.write(JSON.stringify({type:"user",session_id:"",message:{role:"user",content:[{type:"text",text:t}]},parent_tool_use_id:null})+`
`):K.streamInput(t),K}var S={};O$(S,{void:()=>YL,util:()=>at,unknown:()=>JL,union:()=>rF,undefined:()=>GL,tuple:()=>nF,transformer:()=>r0,symbol:()=>HL,string:()=>_0,strictObject:()=>tF,setErrorMap:()=>gL,set:()=>cF,record:()=>iF,quotelessJson:()=>hL,promise:()=>mF,preprocess:()=>gF,pipeline:()=>yF,ostring:()=>xF,optional:()=>hF,onumber:()=>bF,oboolean:()=>_F,objectUtil:()=>Of,object:()=>eF,number:()=>w0,nullable:()=>vF,null:()=>WL,never:()=>QL,nativeEnum:()=>fF,nan:()=>BL,map:()=>oF,makeIssue:()=>bl,literal:()=>dF,lazy:()=>uF,late:()=>UL,isValid:()=>qs,isDirty:()=>Af,isAsync:()=>To,isAborted:()=>If,intersection:()=>sF,instanceof:()=>zL,getParsedType:()=>La,getErrorMap:()=>xl,function:()=>lF,enum:()=>pF,effect:()=>r0,discriminatedUnion:()=>aF,defaultErrorMap:()=>ui,datetimeRegex:()=>y0,date:()=>VL,custom:()=>b0,coerce:()=>wF,boolean:()=>S0,bigint:()=>ZL,array:()=>XL,any:()=>KL,addIssueToContext:()=>oe,ZodVoid:()=>pi,ZodUnknown:()=>Fa,ZodUnion:()=>Hs,ZodUndefined:()=>Zs,ZodType:()=>Be,ZodTuple:()=>ha,ZodTransformer:()=>xr,ZodSymbol:()=>di,ZodString:()=>us,ZodSet:()=>mi,ZodSchema:()=>Be,ZodRecord:()=>wl,ZodReadonly:()=>en,ZodPromise:()=>ps,ZodPipeline:()=>Io,ZodParsedType:()=>pe,ZodOptional:()=>jr,ZodObject:()=>ar,ZodNumber:()=>Ms,ZodNullable:()=>va,ZodNull:()=>Vs,ZodNever:()=>Xr,ZodNativeEnum:()=>Qs,ZodNaN:()=>hi,ZodMap:()=>fi,ZodLiteral:()=>Ks,ZodLazy:()=>Ws,ZodIssueCode:()=>re,ZodIntersection:()=>Gs,ZodFunction:()=>Sl,ZodFirstPartyTypeKind:()=>Ie,ZodError:()=>yr,ZodEnum:()=>Js,ZodEffects:()=>xr,ZodDiscriminatedUnion:()=>_l,ZodDefault:()=>Ys,ZodDate:()=>Bs,ZodCatch:()=>Xs,ZodBranded:()=>Oo,ZodBoolean:()=>zs,ZodBigInt:()=>Us,ZodArray:()=>qa,ZodAny:()=>ds,Schema:()=>Be,ParseStatus:()=>Zt,OK:()=>Wt,NEVER:()=>SF,INVALID:()=>Oe,EMPTY_PATH:()=>yL,DIRTY:()=>li,BRAND:()=>ML});var at;(function(t){t.assertEqual=s=>{};function e(s){}t.assertIs=e;function r(s){throw new Error}t.assertNever=r,t.arrayToEnum=s=>{let i={};for(let n of s)i[n]=n;return i},t.getValidEnumValues=s=>{let i=t.objectKeys(s).filter(o=>typeof s[s[o]]!="number"),n={};for(let o of i)n[o]=s[o];return t.objectValues(n)},t.objectValues=s=>t.objectKeys(s).map(function(i){return s[i]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{let i=[];for(let n in s)Object.prototype.hasOwnProperty.call(s,n)&&i.push(n);return i},t.find=(s,i)=>{for(let n of s)if(i(n))return n},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function a(s,i=" | "){return s.map(n=>typeof n=="string"?`'${n}'`:n).join(i)}t.joinValues=a,t.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(at||(at={}));var Of;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(Of||(Of={}));var pe=at.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),La=t=>{switch(typeof t){case"undefined":return pe.undefined;case"string":return pe.string;case"number":return Number.isNaN(t)?pe.nan:pe.number;case"boolean":return pe.boolean;case"function":return pe.function;case"bigint":return pe.bigint;case"symbol":return pe.symbol;case"object":return Array.isArray(t)?pe.array:t===null?pe.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?pe.promise:typeof Map<"u"&&t instanceof Map?pe.map:typeof Set<"u"&&t instanceof Set?pe.set:typeof Date<"u"&&t instanceof Date?pe.date:pe.object;default:return pe.unknown}},re=at.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),hL=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:"),yr=class t extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=a=>{this.issues=[...this.issues,a]},this.addIssues=(a=[])=>{this.issues=[...this.issues,...a]};let r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}format(e){let r=e||function(i){return i.message},a={_errors:[]},s=i=>{for(let n of i.issues)if(n.code==="invalid_union")n.unionErrors.map(s);else if(n.code==="invalid_return_type")s(n.returnTypeError);else if(n.code==="invalid_arguments")s(n.argumentsError);else if(n.path.length===0)a._errors.push(r(n));else{let o=a,l=0;for(;l<n.path.length;){let c=n.path[l];l===n.path.length-1?(o[c]=o[c]||{_errors:[]},o[c]._errors.push(r(n))):o[c]=o[c]||{_errors:[]},o=o[c],l++}}};return s(this),a}static assert(e){if(!(e instanceof t))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,at.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){let r={},a=[];for(let s of this.issues)if(s.path.length>0){let i=s.path[0];r[i]=r[i]||[],r[i].push(e(s))}else a.push(e(s));return{formErrors:a,fieldErrors:r}}get formErrors(){return this.flatten()}};yr.create=t=>new yr(t);var vL=(t,e)=>{let r;switch(t.code){case re.invalid_type:t.received===pe.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case re.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,at.jsonStringifyReplacer)}`;break;case re.unrecognized_keys:r=`Unrecognized key(s) in object: ${at.joinValues(t.keys,", ")}`;break;case re.invalid_union:r="Invalid input";break;case re.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${at.joinValues(t.options)}`;break;case re.invalid_enum_value:r=`Invalid enum value. Expected ${at.joinValues(t.options)}, received '${t.received}'`;break;case re.invalid_arguments:r="Invalid function arguments";break;case re.invalid_return_type:r="Invalid function return type";break;case re.invalid_date:r="Invalid date";break;case re.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:at.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case re.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case re.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case re.custom:r="Invalid input";break;case re.invalid_intersection_types:r="Intersection results could not be merged";break;case re.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case re.not_finite:r="Number must be finite";break;default:r=e.defaultError,at.assertNever(t)}return{message:r}},ui=vL,h0=ui;function gL(t){h0=t}function xl(){return h0}var bl=t=>{let{data:e,path:r,errorMaps:a,issueData:s}=t,i=[...r,...s.path||[]],n={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let o="",l=a.filter(c=>!!c).slice().reverse();for(let c of l)o=c(n,{data:e,defaultError:o}).message;return{...s,path:i,message:o}},yL=[];function oe(t,e){let r=xl(),a=bl({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===ui?void 0:ui].filter(s=>!!s)});t.common.issues.push(a)}var Zt=class t{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){let a=[];for(let s of r){if(s.status==="aborted")return Oe;s.status==="dirty"&&e.dirty(),a.push(s.value)}return{status:e.value,value:a}}static async mergeObjectAsync(e,r){let a=[];for(let s of r){let i=await s.key,n=await s.value;a.push({key:i,value:n})}return t.mergeObjectSync(e,a)}static mergeObjectSync(e,r){let a={};for(let s of r){let{key:i,value:n}=s;if(i.status==="aborted"||n.status==="aborted")return Oe;i.status==="dirty"&&e.dirty(),n.status==="dirty"&&e.dirty(),i.value!=="__proto__"&&(typeof n.value<"u"||s.alwaysSet)&&(a[i.value]=n.value)}return{status:e.value,value:a}}},Oe=Object.freeze({status:"aborted"}),li=t=>({status:"dirty",value:t}),Wt=t=>({status:"valid",value:t}),If=t=>t.status==="aborted",Af=t=>t.status==="dirty",qs=t=>t.status==="valid",To=t=>typeof Promise<"u"&&t instanceof Promise,xe;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})(xe||(xe={}));var Dr=class{constructor(e,r,a,s){this._cachedPath=[],this.parent=e,this.data=r,this._path=a,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}},e0=(t,e)=>{if(qs(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let r=new yr(t.common.issues);return this._error=r,this._error}}};function Ve(t){if(!t)return{};let{errorMap:e,invalid_type_error:r,required_error:a,description:s}=t;if(e&&(r||a))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(n,o)=>{let{message:l}=t;return n.code==="invalid_enum_value"?{message:l??o.defaultError}:typeof o.data>"u"?{message:l??a??o.defaultError}:n.code!=="invalid_type"?{message:o.defaultError}:{message:l??r??o.defaultError}},description:s}}var Be=class{get description(){return this._def.description}_getType(e){return La(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:La(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Zt,ctx:{common:e.parent.common,data:e.data,parsedType:La(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let r=this._parse(e);if(To(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){let r=this._parse(e);return Promise.resolve(r)}parse(e,r){let a=this.safeParse(e,r);if(a.success)return a.data;throw a.error}safeParse(e,r){let a={common:{issues:[],async:r?.async??!1,contextualErrorMap:r?.errorMap},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:La(e)},s=this._parseSync({data:e,path:a.path,parent:a});return e0(a,s)}"~validate"(e){let r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:La(e)};if(!this["~standard"].async)try{let a=this._parseSync({data:e,path:[],parent:r});return qs(a)?{value:a.value}:{issues:r.common.issues}}catch(a){a?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:r}).then(a=>qs(a)?{value:a.value}:{issues:r.common.issues})}async parseAsync(e,r){let a=await this.safeParseAsync(e,r);if(a.success)return a.data;throw a.error}async safeParseAsync(e,r){let a={common:{issues:[],contextualErrorMap:r?.errorMap,async:!0},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:La(e)},s=this._parse({data:e,path:a.path,parent:a}),i=await(To(s)?s:Promise.resolve(s));return e0(a,i)}refine(e,r){let a=s=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(s):r;return this._refinement((s,i)=>{let n=e(s),o=()=>i.addIssue({code:re.custom,...a(s)});return typeof Promise<"u"&&n instanceof Promise?n.then(l=>l?!0:(o(),!1)):n?!0:(o(),!1)})}refinement(e,r){return this._refinement((a,s)=>e(a)?!0:(s.addIssue(typeof r=="function"?r(a,s):r),!1))}_refinement(e){return new xr({schema:this,typeName:Ie.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return jr.create(this,this._def)}nullable(){return va.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return qa.create(this)}promise(){return ps.create(this,this._def)}or(e){return Hs.create([this,e],this._def)}and(e){return Gs.create(this,e,this._def)}transform(e){return new xr({...Ve(this._def),schema:this,typeName:Ie.ZodEffects,effect:{type:"transform",transform:e}})}default(e){let r=typeof e=="function"?e:()=>e;return new Ys({...Ve(this._def),innerType:this,defaultValue:r,typeName:Ie.ZodDefault})}brand(){return new Oo({typeName:Ie.ZodBranded,type:this,...Ve(this._def)})}catch(e){let r=typeof e=="function"?e:()=>e;return new Xs({...Ve(this._def),innerType:this,catchValue:r,typeName:Ie.ZodCatch})}describe(e){let r=this.constructor;return new r({...this._def,description:e})}pipe(e){return Io.create(this,e)}readonly(){return en.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}},xL=/^c[^\s-]{8,}$/i,bL=/^[0-9a-z]+$/,_L=/^[0-9A-HJKMNP-TV-Z]{26}$/i,wL=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,SL=/^[a-z0-9_-]{21}$/i,EL=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,PL=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,RL=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,CL="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",wf,TL=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,OL=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,IL=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,AL=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,kL=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,jL=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,v0="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",DL=new RegExp(`^${v0}$`);function g0(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);let r=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${r}`}function NL(t){return new RegExp(`^${g0(t)}$`)}function y0(t){let e=`${v0}T${g0(t)}`,r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function $L(t,e){return!!((e==="v4"||!e)&&TL.test(t)||(e==="v6"||!e)&&IL.test(t))}function LL(t,e){if(!EL.test(t))return!1;try{let[r]=t.split(".");if(!r)return!1;let a=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),s=JSON.parse(atob(a));return!(typeof s!="object"||s===null||"typ"in s&&s?.typ!=="JWT"||!s.alg||e&&s.alg!==e)}catch{return!1}}function FL(t,e){return!!((e==="v4"||!e)&&OL.test(t)||(e==="v6"||!e)&&AL.test(t))}var us=class t extends Be{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==pe.string){let i=this._getOrReturnCtx(e);return oe(i,{code:re.invalid_type,expected:pe.string,received:i.parsedType}),Oe}let a=new Zt,s;for(let i of this._def.checks)if(i.kind==="min")e.data.length<i.value&&(s=this._getOrReturnCtx(e,s),oe(s,{code:re.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),a.dirty());else if(i.kind==="max")e.data.length>i.value&&(s=this._getOrReturnCtx(e,s),oe(s,{code:re.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),a.dirty());else if(i.kind==="length"){let n=e.data.length>i.value,o=e.data.length<i.value;(n||o)&&(s=this._getOrReturnCtx(e,s),n?oe(s,{code:re.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):o&&oe(s,{code:re.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),a.dirty())}else if(i.kind==="email")RL.test(e.data)||(s=this._getOrReturnCtx(e,s),oe(s,{validation:"email",code:re.invalid_string,message:i.message}),a.dirty());else if(i.kind==="emoji")wf||(wf=new RegExp(CL,"u")),wf.test(e.data)||(s=this._getOrReturnCtx(e,s),oe(s,{validation:"emoji",code:re.invalid_string,message:i.message}),a.dirty());else if(i.kind==="uuid")wL.test(e.data)||(s=this._getOrReturnCtx(e,s),oe(s,{validation:"uuid",code:re.invalid_string,message:i.message}),a.dirty());else if(i.kind==="nanoid")SL.test(e.data)||(s=this._getOrReturnCtx(e,s),oe(s,{validation:"nanoid",code:re.invalid_string,message:i.message}),a.dirty());else if(i.kind==="cuid")xL.test(e.data)||(s=this._getOrReturnCtx(e,s),oe(s,{validation:"cuid",code:re.invalid_string,message:i.message}),a.dirty());else if(i.kind==="cuid2")bL.test(e.data)||(s=this._getOrReturnCtx(e,s),oe(s,{validation:"cuid2",code:re.invalid_string,message:i.message}),a.dirty());else if(i.kind==="ulid")_L.test(e.data)||(s=this._getOrReturnCtx(e,s),oe(s,{validation:"ulid",code:re.invalid_string,message:i.message}),a.dirty());else if(i.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),oe(s,{validation:"url",code:re.invalid_string,message:i.message}),a.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),oe(s,{validation:"regex",code:re.invalid_string,message:i.message}),a.dirty())):i.kind==="trim"?e.data=e.data.trim():i.kind==="includes"?e.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(e,s),oe(s,{code:re.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),a.dirty()):i.kind==="toLowerCase"?e.data=e.data.toLowerCase():i.kind==="toUpperCase"?e.data=e.data.toUpperCase():i.kind==="startsWith"?e.data.startsWith(i.value)||(s=this._getOrReturnCtx(e,s),oe(s,{code:re.invalid_string,validation:{startsWith:i.value},message:i.message}),a.dirty()):i.kind==="endsWith"?e.data.endsWith(i.value)||(s=this._getOrReturnCtx(e,s),oe(s,{code:re.invalid_string,validation:{endsWith:i.value},message:i.message}),a.dirty()):i.kind==="datetime"?y0(i).test(e.data)||(s=this._getOrReturnCtx(e,s),oe(s,{code:re.invalid_string,validation:"datetime",message:i.message}),a.dirty()):i.kind==="date"?DL.test(e.data)||(s=this._getOrReturnCtx(e,s),oe(s,{code:re.invalid_string,validation:"date",message:i.message}),a.dirty()):i.kind==="time"?NL(i).test(e.data)||(s=this._getOrReturnCtx(e,s),oe(s,{code:re.invalid_string,validation:"time",message:i.message}),a.dirty()):i.kind==="duration"?PL.test(e.data)||(s=this._getOrReturnCtx(e,s),oe(s,{validation:"duration",code:re.invalid_string,message:i.message}),a.dirty()):i.kind==="ip"?$L(e.data,i.version)||(s=this._getOrReturnCtx(e,s),oe(s,{validation:"ip",code:re.invalid_string,message:i.message}),a.dirty()):i.kind==="jwt"?LL(e.data,i.alg)||(s=this._getOrReturnCtx(e,s),oe(s,{validation:"jwt",code:re.invalid_string,message:i.message}),a.dirty()):i.kind==="cidr"?FL(e.data,i.version)||(s=this._getOrReturnCtx(e,s),oe(s,{validation:"cidr",code:re.invalid_string,message:i.message}),a.dirty()):i.kind==="base64"?kL.test(e.data)||(s=this._getOrReturnCtx(e,s),oe(s,{validation:"base64",code:re.invalid_string,message:i.message}),a.dirty()):i.kind==="base64url"?jL.test(e.data)||(s=this._getOrReturnCtx(e,s),oe(s,{validation:"base64url",code:re.invalid_string,message:i.message}),a.dirty()):at.assertNever(i);return{status:a.value,value:e.data}}_regex(e,r,a){return this.refinement(s=>e.test(s),{validation:r,code:re.invalid_string,...xe.errToObj(a)})}_addCheck(e){return new t({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...xe.errToObj(e)})}url(e){return this._addCheck({kind:"url",...xe.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...xe.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...xe.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...xe.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...xe.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...xe.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...xe.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...xe.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...xe.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...xe.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...xe.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...xe.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:e?.offset??!1,local:e?.local??!1,...xe.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof e?.precision>"u"?null:e?.precision,...xe.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...xe.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...xe.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r?.position,...xe.errToObj(r?.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...xe.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...xe.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...xe.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...xe.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...xe.errToObj(r)})}nonempty(e){return this.min(1,xe.errToObj(e))}trim(){return new t({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new t({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new t({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}};us.create=t=>new us({checks:[],typeName:Ie.ZodString,coerce:t?.coerce??!1,...Ve(t)});function qL(t,e){let r=(t.toString().split(".")[1]||"").length,a=(e.toString().split(".")[1]||"").length,s=r>a?r:a,i=Number.parseInt(t.toFixed(s).replace(".","")),n=Number.parseInt(e.toFixed(s).replace(".",""));return i%n/10**s}var Ms=class t extends Be{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==pe.number){let i=this._getOrReturnCtx(e);return oe(i,{code:re.invalid_type,expected:pe.number,received:i.parsedType}),Oe}let a,s=new Zt;for(let i of this._def.checks)i.kind==="int"?at.isInteger(e.data)||(a=this._getOrReturnCtx(e,a),oe(a,{code:re.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(a=this._getOrReturnCtx(e,a),oe(a,{code:re.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(a=this._getOrReturnCtx(e,a),oe(a,{code:re.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?qL(e.data,i.value)!==0&&(a=this._getOrReturnCtx(e,a),oe(a,{code:re.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(e.data)||(a=this._getOrReturnCtx(e,a),oe(a,{code:re.not_finite,message:i.message}),s.dirty()):at.assertNever(i);return{status:s.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,xe.toString(r))}gt(e,r){return this.setLimit("min",e,!1,xe.toString(r))}lte(e,r){return this.setLimit("max",e,!0,xe.toString(r))}lt(e,r){return this.setLimit("max",e,!1,xe.toString(r))}setLimit(e,r,a,s){return new t({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:a,message:xe.toString(s)}]})}_addCheck(e){return new t({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:xe.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:xe.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:xe.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:xe.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:xe.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:xe.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:xe.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:xe.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:xe.toString(e)})}get minValue(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&at.isInteger(e.value))}get isFinite(){let e=null,r=null;for(let a of this._def.checks){if(a.kind==="finite"||a.kind==="int"||a.kind==="multipleOf")return!0;a.kind==="min"?(r===null||a.value>r)&&(r=a.value):a.kind==="max"&&(e===null||a.value<e)&&(e=a.value)}return Number.isFinite(r)&&Number.isFinite(e)}};Ms.create=t=>new Ms({checks:[],typeName:Ie.ZodNumber,coerce:t?.coerce||!1,...Ve(t)});var Us=class t extends Be{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==pe.bigint)return this._getInvalidInput(e);let a,s=new Zt;for(let i of this._def.checks)i.kind==="min"?(i.inclusive?e.data<i.value:e.data<=i.value)&&(a=this._getOrReturnCtx(e,a),oe(a,{code:re.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?e.data>i.value:e.data>=i.value)&&(a=this._getOrReturnCtx(e,a),oe(a,{code:re.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?e.data%i.value!==BigInt(0)&&(a=this._getOrReturnCtx(e,a),oe(a,{code:re.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):at.assertNever(i);return{status:s.value,value:e.data}}_getInvalidInput(e){let r=this._getOrReturnCtx(e);return oe(r,{code:re.invalid_type,expected:pe.bigint,received:r.parsedType}),Oe}gte(e,r){return this.setLimit("min",e,!0,xe.toString(r))}gt(e,r){return this.setLimit("min",e,!1,xe.toString(r))}lte(e,r){return this.setLimit("max",e,!0,xe.toString(r))}lt(e,r){return this.setLimit("max",e,!1,xe.toString(r))}setLimit(e,r,a,s){return new t({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:a,message:xe.toString(s)}]})}_addCheck(e){return new t({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:xe.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:xe.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:xe.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:xe.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:xe.toString(r)})}get minValue(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}};Us.create=t=>new Us({checks:[],typeName:Ie.ZodBigInt,coerce:t?.coerce??!1,...Ve(t)});var zs=class extends Be{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==pe.boolean){let a=this._getOrReturnCtx(e);return oe(a,{code:re.invalid_type,expected:pe.boolean,received:a.parsedType}),Oe}return Wt(e.data)}};zs.create=t=>new zs({typeName:Ie.ZodBoolean,coerce:t?.coerce||!1,...Ve(t)});var Bs=class t extends Be{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==pe.date){let i=this._getOrReturnCtx(e);return oe(i,{code:re.invalid_type,expected:pe.date,received:i.parsedType}),Oe}if(Number.isNaN(e.data.getTime())){let i=this._getOrReturnCtx(e);return oe(i,{code:re.invalid_date}),Oe}let a=new Zt,s;for(let i of this._def.checks)i.kind==="min"?e.data.getTime()<i.value&&(s=this._getOrReturnCtx(e,s),oe(s,{code:re.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),a.dirty()):i.kind==="max"?e.data.getTime()>i.value&&(s=this._getOrReturnCtx(e,s),oe(s,{code:re.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),a.dirty()):at.assertNever(i);return{status:a.value,value:new Date(e.data.getTime())}}_addCheck(e){return new t({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:xe.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:xe.toString(r)})}get minDate(){let e=null;for(let r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(let r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}};Bs.create=t=>new Bs({checks:[],coerce:t?.coerce||!1,typeName:Ie.ZodDate,...Ve(t)});var di=class extends Be{_parse(e){if(this._getType(e)!==pe.symbol){let a=this._getOrReturnCtx(e);return oe(a,{code:re.invalid_type,expected:pe.symbol,received:a.parsedType}),Oe}return Wt(e.data)}};di.create=t=>new di({typeName:Ie.ZodSymbol,...Ve(t)});var Zs=class extends Be{_parse(e){if(this._getType(e)!==pe.undefined){let a=this._getOrReturnCtx(e);return oe(a,{code:re.invalid_type,expected:pe.undefined,received:a.parsedType}),Oe}return Wt(e.data)}};Zs.create=t=>new Zs({typeName:Ie.ZodUndefined,...Ve(t)});var Vs=class extends Be{_parse(e){if(this._getType(e)!==pe.null){let a=this._getOrReturnCtx(e);return oe(a,{code:re.invalid_type,expected:pe.null,received:a.parsedType}),Oe}return Wt(e.data)}};Vs.create=t=>new Vs({typeName:Ie.ZodNull,...Ve(t)});var ds=class extends Be{constructor(){super(...arguments),this._any=!0}_parse(e){return Wt(e.data)}};ds.create=t=>new ds({typeName:Ie.ZodAny,...Ve(t)});var Fa=class extends Be{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Wt(e.data)}};Fa.create=t=>new Fa({typeName:Ie.ZodUnknown,...Ve(t)});var Xr=class extends Be{_parse(e){let r=this._getOrReturnCtx(e);return oe(r,{code:re.invalid_type,expected:pe.never,received:r.parsedType}),Oe}};Xr.create=t=>new Xr({typeName:Ie.ZodNever,...Ve(t)});var pi=class extends Be{_parse(e){if(this._getType(e)!==pe.undefined){let a=this._getOrReturnCtx(e);return oe(a,{code:re.invalid_type,expected:pe.void,received:a.parsedType}),Oe}return Wt(e.data)}};pi.create=t=>new pi({typeName:Ie.ZodVoid,...Ve(t)});var qa=class t extends Be{_parse(e){let{ctx:r,status:a}=this._processInputParams(e),s=this._def;if(r.parsedType!==pe.array)return oe(r,{code:re.invalid_type,expected:pe.array,received:r.parsedType}),Oe;if(s.exactLength!==null){let n=r.data.length>s.exactLength.value,o=r.data.length<s.exactLength.value;(n||o)&&(oe(r,{code:n?re.too_big:re.too_small,minimum:o?s.exactLength.value:void 0,maximum:n?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),a.dirty())}if(s.minLength!==null&&r.data.length<s.minLength.value&&(oe(r,{code:re.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),a.dirty()),s.maxLength!==null&&r.data.length>s.maxLength.value&&(oe(r,{code:re.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),a.dirty()),r.common.async)return Promise.all([...r.data].map((n,o)=>s.type._parseAsync(new Dr(r,n,r.path,o)))).then(n=>Zt.mergeArray(a,n));let i=[...r.data].map((n,o)=>s.type._parseSync(new Dr(r,n,r.path,o)));return Zt.mergeArray(a,i)}get element(){return this._def.type}min(e,r){return new t({...this._def,minLength:{value:e,message:xe.toString(r)}})}max(e,r){return new t({...this._def,maxLength:{value:e,message:xe.toString(r)}})}length(e,r){return new t({...this._def,exactLength:{value:e,message:xe.toString(r)}})}nonempty(e){return this.min(1,e)}};qa.create=(t,e)=>new qa({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Ie.ZodArray,...Ve(e)});function ci(t){if(t instanceof ar){let e={};for(let r in t.shape){let a=t.shape[r];e[r]=jr.create(ci(a))}return new ar({...t._def,shape:()=>e})}else return t instanceof qa?new qa({...t._def,type:ci(t.element)}):t instanceof jr?jr.create(ci(t.unwrap())):t instanceof va?va.create(ci(t.unwrap())):t instanceof ha?ha.create(t.items.map(e=>ci(e))):t}var ar=class t extends Be{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;let e=this._def.shape(),r=at.objectKeys(e);return this._cached={shape:e,keys:r},this._cached}_parse(e){if(this._getType(e)!==pe.object){let c=this._getOrReturnCtx(e);return oe(c,{code:re.invalid_type,expected:pe.object,received:c.parsedType}),Oe}let{status:a,ctx:s}=this._processInputParams(e),{shape:i,keys:n}=this._getCached(),o=[];if(!(this._def.catchall instanceof Xr&&this._def.unknownKeys==="strip"))for(let c in s.data)n.includes(c)||o.push(c);let l=[];for(let c of n){let u=i[c],d=s.data[c];l.push({key:{status:"valid",value:c},value:u._parse(new Dr(s,d,s.path,c)),alwaysSet:c in s.data})}if(this._def.catchall instanceof Xr){let c=this._def.unknownKeys;if(c==="passthrough")for(let u of o)l.push({key:{status:"valid",value:u},value:{status:"valid",value:s.data[u]}});else if(c==="strict")o.length>0&&(oe(s,{code:re.unrecognized_keys,keys:o}),a.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{let c=this._def.catchall;for(let u of o){let d=s.data[u];l.push({key:{status:"valid",value:u},value:c._parse(new Dr(s,d,s.path,u)),alwaysSet:u in s.data})}}return s.common.async?Promise.resolve().then(async()=>{let c=[];for(let u of l){let d=await u.key,h=await u.value;c.push({key:d,value:h,alwaysSet:u.alwaysSet})}return c}).then(c=>Zt.mergeObjectSync(a,c)):Zt.mergeObjectSync(a,l)}get shape(){return this._def.shape()}strict(e){return xe.errToObj,new t({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,a)=>{let s=this._def.errorMap?.(r,a).message??a.defaultError;return r.code==="unrecognized_keys"?{message:xe.errToObj(e).message??s}:{message:s}}}:{}})}strip(){return new t({...this._def,unknownKeys:"strip"})}passthrough(){return new t({...this._def,unknownKeys:"passthrough"})}extend(e){return new t({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new t({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Ie.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new t({...this._def,catchall:e})}pick(e){let r={};for(let a of at.objectKeys(e))e[a]&&this.shape[a]&&(r[a]=this.shape[a]);return new t({...this._def,shape:()=>r})}omit(e){let r={};for(let a of at.objectKeys(this.shape))e[a]||(r[a]=this.shape[a]);return new t({...this._def,shape:()=>r})}deepPartial(){return ci(this)}partial(e){let r={};for(let a of at.objectKeys(this.shape)){let s=this.shape[a];e&&!e[a]?r[a]=s:r[a]=s.optional()}return new t({...this._def,shape:()=>r})}required(e){let r={};for(let a of at.objectKeys(this.shape))if(e&&!e[a])r[a]=this.shape[a];else{let i=this.shape[a];for(;i instanceof jr;)i=i._def.innerType;r[a]=i}return new t({...this._def,shape:()=>r})}keyof(){return x0(at.objectKeys(this.shape))}};ar.create=(t,e)=>new ar({shape:()=>t,unknownKeys:"strip",catchall:Xr.create(),typeName:Ie.ZodObject,...Ve(e)});ar.strictCreate=(t,e)=>new ar({shape:()=>t,unknownKeys:"strict",catchall:Xr.create(),typeName:Ie.ZodObject,...Ve(e)});ar.lazycreate=(t,e)=>new ar({shape:t,unknownKeys:"strip",catchall:Xr.create(),typeName:Ie.ZodObject,...Ve(e)});var Hs=class extends Be{_parse(e){let{ctx:r}=this._processInputParams(e),a=this._def.options;function s(i){for(let o of i)if(o.result.status==="valid")return o.result;for(let o of i)if(o.result.status==="dirty")return r.common.issues.push(...o.ctx.common.issues),o.result;let n=i.map(o=>new yr(o.ctx.common.issues));return oe(r,{code:re.invalid_union,unionErrors:n}),Oe}if(r.common.async)return Promise.all(a.map(async i=>{let n={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:n}),ctx:n}})).then(s);{let i,n=[];for(let l of a){let c={...r,common:{...r.common,issues:[]},parent:null},u=l._parseSync({data:r.data,path:r.path,parent:c});if(u.status==="valid")return u;u.status==="dirty"&&!i&&(i={result:u,ctx:c}),c.common.issues.length&&n.push(c.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;let o=n.map(l=>new yr(l));return oe(r,{code:re.invalid_union,unionErrors:o}),Oe}}get options(){return this._def.options}};Hs.create=(t,e)=>new Hs({options:t,typeName:Ie.ZodUnion,...Ve(e)});var $a=t=>t instanceof Ws?$a(t.schema):t instanceof xr?$a(t.innerType()):t instanceof Ks?[t.value]:t instanceof Js?t.options:t instanceof Qs?at.objectValues(t.enum):t instanceof Ys?$a(t._def.innerType):t instanceof Zs?[void 0]:t instanceof Vs?[null]:t instanceof jr?[void 0,...$a(t.unwrap())]:t instanceof va?[null,...$a(t.unwrap())]:t instanceof Oo||t instanceof en?$a(t.unwrap()):t instanceof Xs?$a(t._def.innerType):[],_l=class t extends Be{_parse(e){let{ctx:r}=this._processInputParams(e);if(r.parsedType!==pe.object)return oe(r,{code:re.invalid_type,expected:pe.object,received:r.parsedType}),Oe;let a=this.discriminator,s=r.data[a],i=this.optionsMap.get(s);return i?r.common.async?i._parseAsync({data:r.data,path:r.path,parent:r}):i._parseSync({data:r.data,path:r.path,parent:r}):(oe(r,{code:re.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[a]}),Oe)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,a){let s=new Map;for(let i of r){let n=$a(i.shape[e]);if(!n.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let o of n){if(s.has(o))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(o)}`);s.set(o,i)}}return new t({typeName:Ie.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:s,...Ve(a)})}};function kf(t,e){let r=La(t),a=La(e);if(t===e)return{valid:!0,data:t};if(r===pe.object&&a===pe.object){let s=at.objectKeys(e),i=at.objectKeys(t).filter(o=>s.indexOf(o)!==-1),n={...t,...e};for(let o of i){let l=kf(t[o],e[o]);if(!l.valid)return{valid:!1};n[o]=l.data}return{valid:!0,data:n}}else if(r===pe.array&&a===pe.array){if(t.length!==e.length)return{valid:!1};let s=[];for(let i=0;i<t.length;i++){let n=t[i],o=e[i],l=kf(n,o);if(!l.valid)return{valid:!1};s.push(l.data)}return{valid:!0,data:s}}else return r===pe.date&&a===pe.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}var Gs=class extends Be{_parse(e){let{status:r,ctx:a}=this._processInputParams(e),s=(i,n)=>{if(If(i)||If(n))return Oe;let o=kf(i.value,n.value);return o.valid?((Af(i)||Af(n))&&r.dirty(),{status:r.value,value:o.data}):(oe(a,{code:re.invalid_intersection_types}),Oe)};return a.common.async?Promise.all([this._def.left._parseAsync({data:a.data,path:a.path,parent:a}),this._def.right._parseAsync({data:a.data,path:a.path,parent:a})]).then(([i,n])=>s(i,n)):s(this._def.left._parseSync({data:a.data,path:a.path,parent:a}),this._def.right._parseSync({data:a.data,path:a.path,parent:a}))}};Gs.create=(t,e,r)=>new Gs({left:t,right:e,typeName:Ie.ZodIntersection,...Ve(r)});var ha=class t extends Be{_parse(e){let{status:r,ctx:a}=this._processInputParams(e);if(a.parsedType!==pe.array)return oe(a,{code:re.invalid_type,expected:pe.array,received:a.parsedType}),Oe;if(a.data.length<this._def.items.length)return oe(a,{code:re.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Oe;!this._def.rest&&a.data.length>this._def.items.length&&(oe(a,{code:re.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());let i=[...a.data].map((n,o)=>{let l=this._def.items[o]||this._def.rest;return l?l._parse(new Dr(a,n,a.path,o)):null}).filter(n=>!!n);return a.common.async?Promise.all(i).then(n=>Zt.mergeArray(r,n)):Zt.mergeArray(r,i)}get items(){return this._def.items}rest(e){return new t({...this._def,rest:e})}};ha.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ha({items:t,typeName:Ie.ZodTuple,rest:null,...Ve(e)})};var wl=class t extends Be{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:r,ctx:a}=this._processInputParams(e);if(a.parsedType!==pe.object)return oe(a,{code:re.invalid_type,expected:pe.object,received:a.parsedType}),Oe;let s=[],i=this._def.keyType,n=this._def.valueType;for(let o in a.data)s.push({key:i._parse(new Dr(a,o,a.path,o)),value:n._parse(new Dr(a,a.data[o],a.path,o)),alwaysSet:o in a.data});return a.common.async?Zt.mergeObjectAsync(r,s):Zt.mergeObjectSync(r,s)}get element(){return this._def.valueType}static create(e,r,a){return r instanceof Be?new t({keyType:e,valueType:r,typeName:Ie.ZodRecord,...Ve(a)}):new t({keyType:us.create(),valueType:e,typeName:Ie.ZodRecord,...Ve(r)})}},fi=class extends Be{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:r,ctx:a}=this._processInputParams(e);if(a.parsedType!==pe.map)return oe(a,{code:re.invalid_type,expected:pe.map,received:a.parsedType}),Oe;let s=this._def.keyType,i=this._def.valueType,n=[...a.data.entries()].map(([o,l],c)=>({key:s._parse(new Dr(a,o,a.path,[c,"key"])),value:i._parse(new Dr(a,l,a.path,[c,"value"]))}));if(a.common.async){let o=new Map;return Promise.resolve().then(async()=>{for(let l of n){let c=await l.key,u=await l.value;if(c.status==="aborted"||u.status==="aborted")return Oe;(c.status==="dirty"||u.status==="dirty")&&r.dirty(),o.set(c.value,u.value)}return{status:r.value,value:o}})}else{let o=new Map;for(let l of n){let c=l.key,u=l.value;if(c.status==="aborted"||u.status==="aborted")return Oe;(c.status==="dirty"||u.status==="dirty")&&r.dirty(),o.set(c.value,u.value)}return{status:r.value,value:o}}}};fi.create=(t,e,r)=>new fi({valueType:e,keyType:t,typeName:Ie.ZodMap,...Ve(r)});var mi=class t extends Be{_parse(e){let{status:r,ctx:a}=this._processInputParams(e);if(a.parsedType!==pe.set)return oe(a,{code:re.invalid_type,expected:pe.set,received:a.parsedType}),Oe;let s=this._def;s.minSize!==null&&a.data.size<s.minSize.value&&(oe(a,{code:re.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),r.dirty()),s.maxSize!==null&&a.data.size>s.maxSize.value&&(oe(a,{code:re.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),r.dirty());let i=this._def.valueType;function n(l){let c=new Set;for(let u of l){if(u.status==="aborted")return Oe;u.status==="dirty"&&r.dirty(),c.add(u.value)}return{status:r.value,value:c}}let o=[...a.data.values()].map((l,c)=>i._parse(new Dr(a,l,a.path,c)));return a.common.async?Promise.all(o).then(l=>n(l)):n(o)}min(e,r){return new t({...this._def,minSize:{value:e,message:xe.toString(r)}})}max(e,r){return new t({...this._def,maxSize:{value:e,message:xe.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}};mi.create=(t,e)=>new mi({valueType:t,minSize:null,maxSize:null,typeName:Ie.ZodSet,...Ve(e)});var Sl=class t extends Be{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:r}=this._processInputParams(e);if(r.parsedType!==pe.function)return oe(r,{code:re.invalid_type,expected:pe.function,received:r.parsedType}),Oe;function a(o,l){return bl({data:o,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,xl(),ui].filter(c=>!!c),issueData:{code:re.invalid_arguments,argumentsError:l}})}function s(o,l){return bl({data:o,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,xl(),ui].filter(c=>!!c),issueData:{code:re.invalid_return_type,returnTypeError:l}})}let i={errorMap:r.common.contextualErrorMap},n=r.data;if(this._def.returns instanceof ps){let o=this;return Wt(async function(...l){let c=new yr([]),u=await o._def.args.parseAsync(l,i).catch(p=>{throw c.addIssue(a(l,p)),c}),d=await Reflect.apply(n,this,u);return await o._def.returns._def.type.parseAsync(d,i).catch(p=>{throw c.addIssue(s(d,p)),c})})}else{let o=this;return Wt(function(...l){let c=o._def.args.safeParse(l,i);if(!c.success)throw new yr([a(l,c.error)]);let u=Reflect.apply(n,this,c.data),d=o._def.returns.safeParse(u,i);if(!d.success)throw new yr([s(u,d.error)]);return d.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new t({...this._def,args:ha.create(e).rest(Fa.create())})}returns(e){return new t({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,r,a){return new t({args:e||ha.create([]).rest(Fa.create()),returns:r||Fa.create(),typeName:Ie.ZodFunction,...Ve(a)})}},Ws=class extends Be{get schema(){return this._def.getter()}_parse(e){let{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}};Ws.create=(t,e)=>new Ws({getter:t,typeName:Ie.ZodLazy,...Ve(e)});var Ks=class extends Be{_parse(e){if(e.data!==this._def.value){let r=this._getOrReturnCtx(e);return oe(r,{received:r.data,code:re.invalid_literal,expected:this._def.value}),Oe}return{status:"valid",value:e.data}}get value(){return this._def.value}};Ks.create=(t,e)=>new Ks({value:t,typeName:Ie.ZodLiteral,...Ve(e)});function x0(t,e){return new Js({values:t,typeName:Ie.ZodEnum,...Ve(e)})}var Js=class t extends Be{_parse(e){if(typeof e.data!="string"){let r=this._getOrReturnCtx(e),a=this._def.values;return oe(r,{expected:at.joinValues(a),received:r.parsedType,code:re.invalid_type}),Oe}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){let r=this._getOrReturnCtx(e),a=this._def.values;return oe(r,{received:r.data,code:re.invalid_enum_value,options:a}),Oe}return Wt(e.data)}get options(){return this._def.values}get enum(){let e={};for(let r of this._def.values)e[r]=r;return e}get Values(){let e={};for(let r of this._def.values)e[r]=r;return e}get Enum(){let e={};for(let r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return t.create(e,{...this._def,...r})}exclude(e,r=this._def){return t.create(this.options.filter(a=>!e.includes(a)),{...this._def,...r})}};Js.create=x0;var Qs=class extends Be{_parse(e){let r=at.getValidEnumValues(this._def.values),a=this._getOrReturnCtx(e);if(a.parsedType!==pe.string&&a.parsedType!==pe.number){let s=at.objectValues(r);return oe(a,{expected:at.joinValues(s),received:a.parsedType,code:re.invalid_type}),Oe}if(this._cache||(this._cache=new Set(at.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){let s=at.objectValues(r);return oe(a,{received:a.data,code:re.invalid_enum_value,options:s}),Oe}return Wt(e.data)}get enum(){return this._def.values}};Qs.create=(t,e)=>new Qs({values:t,typeName:Ie.ZodNativeEnum,...Ve(e)});var ps=class extends Be{unwrap(){return this._def.type}_parse(e){let{ctx:r}=this._processInputParams(e);if(r.parsedType!==pe.promise&&r.common.async===!1)return oe(r,{code:re.invalid_type,expected:pe.promise,received:r.parsedType}),Oe;let a=r.parsedType===pe.promise?r.data:Promise.resolve(r.data);return Wt(a.then(s=>this._def.type.parseAsync(s,{path:r.path,errorMap:r.common.contextualErrorMap})))}};ps.create=(t,e)=>new ps({type:t,typeName:Ie.ZodPromise,...Ve(e)});var xr=class extends Be{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ie.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:r,ctx:a}=this._processInputParams(e),s=this._def.effect||null,i={addIssue:n=>{oe(a,n),n.fatal?r.abort():r.dirty()},get path(){return a.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){let n=s.transform(a.data,i);if(a.common.async)return Promise.resolve(n).then(async o=>{if(r.value==="aborted")return Oe;let l=await this._def.schema._parseAsync({data:o,path:a.path,parent:a});return l.status==="aborted"?Oe:l.status==="dirty"||r.value==="dirty"?li(l.value):l});{if(r.value==="aborted")return Oe;let o=this._def.schema._parseSync({data:n,path:a.path,parent:a});return o.status==="aborted"?Oe:o.status==="dirty"||r.value==="dirty"?li(o.value):o}}if(s.type==="refinement"){let n=o=>{let l=s.refinement(o,i);if(a.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(a.common.async===!1){let o=this._def.schema._parseSync({data:a.data,path:a.path,parent:a});return o.status==="aborted"?Oe:(o.status==="dirty"&&r.dirty(),n(o.value),{status:r.value,value:o.value})}else return this._def.schema._parseAsync({data:a.data,path:a.path,parent:a}).then(o=>o.status==="aborted"?Oe:(o.status==="dirty"&&r.dirty(),n(o.value).then(()=>({status:r.value,value:o.value}))))}if(s.type==="transform")if(a.common.async===!1){let n=this._def.schema._parseSync({data:a.data,path:a.path,parent:a});if(!qs(n))return Oe;let o=s.transform(n.value,i);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:o}}else return this._def.schema._parseAsync({data:a.data,path:a.path,parent:a}).then(n=>qs(n)?Promise.resolve(s.transform(n.value,i)).then(o=>({status:r.value,value:o})):Oe);at.assertNever(s)}};xr.create=(t,e,r)=>new xr({schema:t,typeName:Ie.ZodEffects,effect:e,...Ve(r)});xr.createWithPreprocess=(t,e,r)=>new xr({schema:e,effect:{type:"preprocess",transform:t},typeName:Ie.ZodEffects,...Ve(r)});var jr=class extends Be{_parse(e){return this._getType(e)===pe.undefined?Wt(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};jr.create=(t,e)=>new jr({innerType:t,typeName:Ie.ZodOptional,...Ve(e)});var va=class extends Be{_parse(e){return this._getType(e)===pe.null?Wt(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};va.create=(t,e)=>new va({innerType:t,typeName:Ie.ZodNullable,...Ve(e)});var Ys=class extends Be{_parse(e){let{ctx:r}=this._processInputParams(e),a=r.data;return r.parsedType===pe.undefined&&(a=this._def.defaultValue()),this._def.innerType._parse({data:a,path:r.path,parent:r})}removeDefault(){return this._def.innerType}};Ys.create=(t,e)=>new Ys({innerType:t,typeName:Ie.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Ve(e)});var Xs=class extends Be{_parse(e){let{ctx:r}=this._processInputParams(e),a={...r,common:{...r.common,issues:[]}},s=this._def.innerType._parse({data:a.data,path:a.path,parent:{...a}});return To(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new yr(a.common.issues)},input:a.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new yr(a.common.issues)},input:a.data})}}removeCatch(){return this._def.innerType}};Xs.create=(t,e)=>new Xs({innerType:t,typeName:Ie.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Ve(e)});var hi=class extends Be{_parse(e){if(this._getType(e)!==pe.nan){let a=this._getOrReturnCtx(e);return oe(a,{code:re.invalid_type,expected:pe.nan,received:a.parsedType}),Oe}return{status:"valid",value:e.data}}};hi.create=t=>new hi({typeName:Ie.ZodNaN,...Ve(t)});var ML=Symbol("zod_brand"),Oo=class extends Be{_parse(e){let{ctx:r}=this._processInputParams(e),a=r.data;return this._def.type._parse({data:a,path:r.path,parent:r})}unwrap(){return this._def.type}},Io=class t extends Be{_parse(e){let{status:r,ctx:a}=this._processInputParams(e);if(a.common.async)return(async()=>{let i=await this._def.in._parseAsync({data:a.data,path:a.path,parent:a});return i.status==="aborted"?Oe:i.status==="dirty"?(r.dirty(),li(i.value)):this._def.out._parseAsync({data:i.value,path:a.path,parent:a})})();{let s=this._def.in._parseSync({data:a.data,path:a.path,parent:a});return s.status==="aborted"?Oe:s.status==="dirty"?(r.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:a.path,parent:a})}}static create(e,r){return new t({in:e,out:r,typeName:Ie.ZodPipeline})}},en=class extends Be{_parse(e){let r=this._def.innerType._parse(e),a=s=>(qs(s)&&(s.value=Object.freeze(s.value)),s);return To(r)?r.then(s=>a(s)):a(r)}unwrap(){return this._def.innerType}};en.create=(t,e)=>new en({innerType:t,typeName:Ie.ZodReadonly,...Ve(e)});function t0(t,e){let r=typeof t=="function"?t(e):typeof t=="string"?{message:t}:t;return typeof r=="string"?{message:r}:r}function b0(t,e={},r){return t?ds.create().superRefine((a,s)=>{let i=t(a);if(i instanceof Promise)return i.then(n=>{if(!n){let o=t0(e,a),l=o.fatal??r??!0;s.addIssue({code:"custom",...o,fatal:l})}});if(!i){let n=t0(e,a),o=n.fatal??r??!0;s.addIssue({code:"custom",...n,fatal:o})}}):ds.create()}var UL={object:ar.lazycreate},Ie;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Ie||(Ie={}));var zL=(t,e={message:`Input not instance of ${t.name}`})=>b0(r=>r instanceof t,e),_0=us.create,w0=Ms.create,BL=hi.create,ZL=Us.create,S0=zs.create,VL=Bs.create,HL=di.create,GL=Zs.create,WL=Vs.create,KL=ds.create,JL=Fa.create,QL=Xr.create,YL=pi.create,XL=qa.create,eF=ar.create,tF=ar.strictCreate,rF=Hs.create,aF=_l.create,sF=Gs.create,nF=ha.create,iF=wl.create,oF=fi.create,cF=mi.create,lF=Sl.create,uF=Ws.create,dF=Ks.create,pF=Js.create,fF=Qs.create,mF=ps.create,r0=xr.create,hF=jr.create,vF=va.create,gF=xr.createWithPreprocess,yF=Io.create,xF=()=>_0().optional(),bF=()=>w0().optional(),_F=()=>S0().optional(),wF={string:t=>us.create({...t,coerce:!0}),number:t=>Ms.create({...t,coerce:!0}),boolean:t=>zs.create({...t,coerce:!0}),bigint:t=>Us.create({...t,coerce:!0}),date:t=>Bs.create({...t,coerce:!0})},SF=Oe;var Pl="2.0",E0=S.union([S.string(),S.number().int()]),P0=S.string(),EF=S.object({progressToken:S.optional(E0)}).passthrough(),Nr=S.object({_meta:S.optional(EF)}).passthrough(),sr=S.object({method:S.string(),params:S.optional(Nr)}),Ao=S.object({_meta:S.optional(S.object({}).passthrough())}).passthrough(),ga=S.object({method:S.string(),params:S.optional(Ao)}),$r=S.object({_meta:S.optional(S.object({}).passthrough())}).passthrough(),Rl=S.union([S.string(),S.number().int()]),PF=S.object({jsonrpc:S.literal(Pl),id:Rl}).merge(sr).strict();var RF=S.object({jsonrpc:S.literal(Pl)}).merge(ga).strict();var CF=S.object({jsonrpc:S.literal(Pl),id:Rl,result:$r}).strict();var a0;(function(t){t[t.ConnectionClosed=-32e3]="ConnectionClosed",t[t.RequestTimeout=-32001]="RequestTimeout",t[t.ParseError=-32700]="ParseError",t[t.InvalidRequest=-32600]="InvalidRequest",t[t.MethodNotFound=-32601]="MethodNotFound",t[t.InvalidParams=-32602]="InvalidParams",t[t.InternalError=-32603]="InternalError"})(a0||(a0={}));var TF=S.object({jsonrpc:S.literal(Pl),id:Rl,error:S.object({code:S.number().int(),message:S.string(),data:S.optional(S.unknown())})}).strict();var dJ=S.union([PF,RF,CF,TF]),R0=$r.strict(),C0=ga.extend({method:S.literal("notifications/cancelled"),params:Ao.extend({requestId:Rl,reason:S.string().optional()})}),ko=S.object({name:S.string(),title:S.optional(S.string())}).passthrough(),T0=ko.extend({version:S.string()}),OF=S.object({experimental:S.optional(S.object({}).passthrough()),sampling:S.optional(S.object({}).passthrough()),elicitation:S.optional(S.object({}).passthrough()),roots:S.optional(S.object({listChanged:S.optional(S.boolean())}).passthrough())}).passthrough(),IF=sr.extend({method:S.literal("initialize"),params:Nr.extend({protocolVersion:S.string(),capabilities:OF,clientInfo:T0})}),AF=S.object({experimental:S.optional(S.object({}).passthrough()),logging:S.optional(S.object({}).passthrough()),completions:S.optional(S.object({}).passthrough()),prompts:S.optional(S.object({listChanged:S.optional(S.boolean())}).passthrough()),resources:S.optional(S.object({subscribe:S.optional(S.boolean()),listChanged:S.optional(S.boolean())}).passthrough()),tools:S.optional(S.object({listChanged:S.optional(S.boolean())}).passthrough())}).passthrough(),kF=$r.extend({protocolVersion:S.string(),capabilities:AF,serverInfo:T0,instructions:S.optional(S.string())}),jF=ga.extend({method:S.literal("notifications/initialized")}),O0=sr.extend({method:S.literal("ping")}),DF=S.object({progress:S.number(),total:S.optional(S.number()),message:S.optional(S.string())}).passthrough(),I0=ga.extend({method:S.literal("notifications/progress"),params:Ao.merge(DF).extend({progressToken:E0})}),Cl=sr.extend({params:Nr.extend({cursor:S.optional(P0)}).optional()}),Tl=$r.extend({nextCursor:S.optional(P0)}),A0=S.object({uri:S.string(),mimeType:S.optional(S.string()),_meta:S.optional(S.object({}).passthrough())}).passthrough(),k0=A0.extend({text:S.string()}),Lf=S.string().refine(t=>{try{return atob(t),!0}catch{return!1}},{message:"Invalid Base64 string"}),j0=A0.extend({blob:Lf}),D0=ko.extend({uri:S.string(),description:S.optional(S.string()),mimeType:S.optional(S.string()),_meta:S.optional(S.object({}).passthrough())}),NF=ko.extend({uriTemplate:S.string(),description:S.optional(S.string()),mimeType:S.optional(S.string()),_meta:S.optional(S.object({}).passthrough())}),$F=Cl.extend({method:S.literal("resources/list")}),LF=Tl.extend({resources:S.array(D0)}),FF=Cl.extend({method:S.literal("resources/templates/list")}),qF=Tl.extend({resourceTemplates:S.array(NF)}),MF=sr.extend({method:S.literal("resources/read"),params:Nr.extend({uri:S.string()})}),UF=$r.extend({contents:S.array(S.union([k0,j0]))}),zF=ga.extend({method:S.literal("notifications/resources/list_changed")}),BF=sr.extend({method:S.literal("resources/subscribe"),params:Nr.extend({uri:S.string()})}),ZF=sr.extend({method:S.literal("resources/unsubscribe"),params:Nr.extend({uri:S.string()})}),VF=ga.extend({method:S.literal("notifications/resources/updated"),params:Ao.extend({uri:S.string()})}),HF=S.object({name:S.string(),description:S.optional(S.string()),required:S.optional(S.boolean())}).passthrough(),GF=ko.extend({description:S.optional(S.string()),arguments:S.optional(S.array(HF)),_meta:S.optional(S.object({}).passthrough())}),WF=Cl.extend({method:S.literal("prompts/list")}),KF=Tl.extend({prompts:S.array(GF)}),JF=sr.extend({method:S.literal("prompts/get"),params:Nr.extend({name:S.string(),arguments:S.optional(S.record(S.string()))})}),Ff=S.object({type:S.literal("text"),text:S.string(),_meta:S.optional(S.object({}).passthrough())}).passthrough(),qf=S.object({type:S.literal("image"),data:Lf,mimeType:S.string(),_meta:S.optional(S.object({}).passthrough())}).passthrough(),Mf=S.object({type:S.literal("audio"),data:Lf,mimeType:S.string(),_meta:S.optional(S.object({}).passthrough())}).passthrough(),QF=S.object({type:S.literal("resource"),resource:S.union([k0,j0]),_meta:S.optional(S.object({}).passthrough())}).passthrough(),YF=D0.extend({type:S.literal("resource_link")}),N0=S.union([Ff,qf,Mf,YF,QF]),XF=S.object({role:S.enum(["user","assistant"]),content:N0}).passthrough(),eq=$r.extend({description:S.optional(S.string()),messages:S.array(XF)}),tq=ga.extend({method:S.literal("notifications/prompts/list_changed")}),rq=S.object({title:S.optional(S.string()),readOnlyHint:S.optional(S.boolean()),destructiveHint:S.optional(S.boolean()),idempotentHint:S.optional(S.boolean()),openWorldHint:S.optional(S.boolean())}).passthrough(),aq=ko.extend({description:S.optional(S.string()),inputSchema:S.object({type:S.literal("object"),properties:S.optional(S.object({}).passthrough()),required:S.optional(S.array(S.string()))}).passthrough(),outputSchema:S.optional(S.object({type:S.literal("object"),properties:S.optional(S.object({}).passthrough()),required:S.optional(S.array(S.string()))}).passthrough()),annotations:S.optional(rq),_meta:S.optional(S.object({}).passthrough())}),sq=Cl.extend({method:S.literal("tools/list")}),nq=Tl.extend({tools:S.array(aq)}),$0=$r.extend({content:S.array(N0).default([]),structuredContent:S.object({}).passthrough().optional(),isError:S.optional(S.boolean())}),pJ=$0.or($r.extend({toolResult:S.unknown()})),iq=sr.extend({method:S.literal("tools/call"),params:Nr.extend({name:S.string(),arguments:S.optional(S.record(S.unknown()))})}),oq=ga.extend({method:S.literal("notifications/tools/list_changed")}),L0=S.enum(["debug","info","notice","warning","error","critical","alert","emergency"]),cq=sr.extend({method:S.literal("logging/setLevel"),params:Nr.extend({level:L0})}),lq=ga.extend({method:S.literal("notifications/message"),params:Ao.extend({level:L0,logger:S.optional(S.string()),data:S.unknown()})}),uq=S.object({name:S.string().optional()}).passthrough(),dq=S.object({hints:S.optional(S.array(uq)),costPriority:S.optional(S.number().min(0).max(1)),speedPriority:S.optional(S.number().min(0).max(1)),intelligencePriority:S.optional(S.number().min(0).max(1))}).passthrough(),pq=S.object({role:S.enum(["user","assistant"]),content:S.union([Ff,qf,Mf])}).passthrough(),fq=sr.extend({method:S.literal("sampling/createMessage"),params:Nr.extend({messages:S.array(pq),systemPrompt:S.optional(S.string()),includeContext:S.optional(S.enum(["none","thisServer","allServers"])),temperature:S.optional(S.number()),maxTokens:S.number().int(),stopSequences:S.optional(S.array(S.string())),metadata:S.optional(S.object({}).passthrough()),modelPreferences:S.optional(dq)})}),mq=$r.extend({model:S.string(),stopReason:S.optional(S.enum(["endTurn","stopSequence","maxTokens"]).or(S.string())),role:S.enum(["user","assistant"]),content:S.discriminatedUnion("type",[Ff,qf,Mf])}),hq=S.object({type:S.literal("boolean"),title:S.optional(S.string()),description:S.optional(S.string()),default:S.optional(S.boolean())}).passthrough(),vq=S.object({type:S.literal("string"),title:S.optional(S.string()),description:S.optional(S.string()),minLength:S.optional(S.number()),maxLength:S.optional(S.number()),format:S.optional(S.enum(["email","uri","date","date-time"]))}).passthrough(),gq=S.object({type:S.enum(["number","integer"]),title:S.optional(S.string()),description:S.optional(S.string()),minimum:S.optional(S.number()),maximum:S.optional(S.number())}).passthrough(),yq=S.object({type:S.literal("string"),title:S.optional(S.string()),description:S.optional(S.string()),enum:S.array(S.string()),enumNames:S.optional(S.array(S.string()))}).passthrough(),xq=S.union([hq,vq,gq,yq]),bq=sr.extend({method:S.literal("elicitation/create"),params:Nr.extend({message:S.string(),requestedSchema:S.object({type:S.literal("object"),properties:S.record(S.string(),xq),required:S.optional(S.array(S.string()))}).passthrough()})}),_q=$r.extend({action:S.enum(["accept","decline","cancel"]),content:S.optional(S.record(S.string(),S.unknown()))}),wq=S.object({type:S.literal("ref/resource"),uri:S.string()}).passthrough(),Sq=S.object({type:S.literal("ref/prompt"),name:S.string()}).passthrough(),Eq=sr.extend({method:S.literal("completion/complete"),params:Nr.extend({ref:S.union([Sq,wq]),argument:S.object({name:S.string(),value:S.string()}).passthrough(),context:S.optional(S.object({arguments:S.optional(S.record(S.string(),S.string()))}))})}),Pq=$r.extend({completion:S.object({values:S.array(S.string()).max(100),total:S.optional(S.number().int()),hasMore:S.optional(S.boolean())}).passthrough()}),Rq=S.object({uri:S.string().startsWith("file://"),name:S.optional(S.string()),_meta:S.optional(S.object({}).passthrough())}).passthrough(),Cq=sr.extend({method:S.literal("roots/list")}),Tq=$r.extend({roots:S.array(Rq)}),Oq=ga.extend({method:S.literal("notifications/roots/list_changed")}),fJ=S.union([O0,IF,Eq,cq,JF,WF,$F,FF,MF,BF,ZF,iq,sq]),mJ=S.union([C0,I0,jF,Oq]),hJ=S.union([R0,mq,_q,Tq]),vJ=S.union([O0,fq,bq,Cq]),gJ=S.union([C0,I0,lq,VF,zF,oq,tq]),yJ=S.union([R0,kF,Pq,eq,KF,LF,qF,UF,$0,nq]);var xJ=T$(lL(),1);var bJ=Symbol("Let zodToJsonSchema decide on which parser to use");var _J=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");var jf;(function(t){t.Completable="McpCompletable"})(jf||(jf={}));var El=class extends Be{_parse(e){let{ctx:r}=this._processInputParams(e),a=r.data;return this._def.type._parse({data:a,path:r.path,parent:r})}unwrap(){return this._def.type}};El.create=(t,e)=>new El({type:t,typeName:jf.Completable,complete:e.complete,...Iq(e)});function Iq(t){if(!t)return{};let{errorMap:e,invalid_type_error:r,required_error:a,description:s}=t;if(e&&(r||a))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(n,o)=>{var l,c;let{message:u}=t;return n.code==="invalid_enum_value"?{message:u??o.defaultError}:typeof o.data>"u"?{message:(l=u??a)!==null&&l!==void 0?l:o.defaultError}:n.code!=="invalid_type"?{message:o.defaultError}:{message:(c=u??r)!==null&&c!==void 0?c:o.defaultError}},description:s}}function F0({prompt:t,options:e}){let r=e?.pathToClaudeCodeExecutable;if(!r){let a=(0,c0.fileURLToPath)(Aq.url),s=(0,Ef.join)(a,"..");r=(0,Ef.join)(s,"cli.js")}return mL({prompt:t,options:{...e,pathToClaudeCodeExecutable:r}})}var ba=require("path");var fs=Pe(require("vscode"),1);var tn=Pe(require("vscode"),1);function gi(){return tn.window.tabGroups.all.flatMap(t=>t.tabs)}function yi(t,e){return new Promise((r,a)=>{let s,i=setInterval(()=>{let n=t();n&&(clearInterval(i),s&&clearTimeout(s),r(n))},100);e&&(s=setTimeout(()=>{clearInterval(i),a(new Error(`Timeout waiting after ${e}ms`))},e))})}async function rn(t,e){if(!t)return;let r=t.input;if(r instanceof tn.TabInputTextDiff)try{await(await tn.workspace.openTextDocument(r.modified)).save()}catch(a){e.error("Error saving modified file:",a)}try{await tn.window.tabGroups.close(t)}catch{}}async function q0(t,e,r,a,s,i,n){let o=[],c=`${s||"Claude Code"} (${Math.random().toString(36).substring(2,8)})`,u=[],d;if(i){let m=`/temp/${c}`,v=r.createFile(m,a).uri;d=await fs.workspace.openTextDocument(v),t.info("Editable uri: ",v.toString());let g=new Promise(w=>{o.push(fs.workspace.onWillSaveTextDocument(C=>{if(C.document.uri.toString()===v.toString()){let T=C.document.getText();w(T)}}))});fs.workspace.getConfiguration("files").get("autoSave")==="off"?(t.info("files.autoSave is off, waiting for file save"),u.push(g)):t.info("files.autoSave is on, cannot save to exit");let b={preview:!1,preserveFocus:!0};await fs.window.showTextDocument(d,b)}else{let m=`/temp/readonly/${c}`,f=e.createFile(m,a);d=await fs.workspace.openTextDocument(f),await fs.window.showTextDocument(d,{preview:!1})}let h=await yi(()=>gi().find(m=>m.label===c),1e3);n?.addEventListener("abort",()=>{rn(h,t)});let p=yi(()=>!gi().some(m=>m.label===c)).then(()=>{if(t.info("Tab closed",c),i)return d.getText()});return u.push(p),await Promise.race(u).finally(()=>{o.forEach(m=>m.dispose())}).then(m=>(t.info("File save operation completed",m),m)).finally(()=>{rn(h,t)})}var _t=Pe(require("vscode"),1),X0=Pe(require("fs"),1);function ea(){}ea.prototype={diff:function(e,r){var a,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=s.callback;typeof s=="function"&&(i=s,s={});var n=this;function o(C){return C=n.postProcess(C,s),i?(setTimeout(function(){i(C)},0),!0):C}e=this.castInput(e,s),r=this.castInput(r,s),e=this.removeEmpty(this.tokenize(e,s)),r=this.removeEmpty(this.tokenize(r,s));var l=r.length,c=e.length,u=1,d=l+c;s.maxEditLength!=null&&(d=Math.min(d,s.maxEditLength));var h=(a=s.timeout)!==null&&a!==void 0?a:1/0,p=Date.now()+h,m=[{oldPos:-1,lastComponent:void 0}],f=this.extractCommon(m[0],r,e,0,s);if(m[0].oldPos+1>=c&&f+1>=l)return o(M0(n,m[0].lastComponent,r,e,n.useLongestToken));var v=-1/0,g=1/0;function b(){for(var C=Math.max(v,-u);C<=Math.min(g,u);C+=2){var T=void 0,R=m[C-1],O=m[C+1];R&&(m[C-1]=void 0);var L=!1;if(O){var D=O.oldPos-C;L=O&&0<=D&&D<l}var F=R&&R.oldPos+1<c;if(!L&&!F){m[C]=void 0;continue}if(!F||L&&R.oldPos<O.oldPos?T=n.addToPath(O,!0,!1,0,s):T=n.addToPath(R,!1,!0,1,s),f=n.extractCommon(T,r,e,C,s),T.oldPos+1>=c&&f+1>=l)return o(M0(n,T.lastComponent,r,e,n.useLongestToken));m[C]=T,T.oldPos+1>=c&&(g=Math.min(g,C-1)),f+1>=l&&(v=Math.max(v,C+1))}u++}if(i)(function C(){setTimeout(function(){if(u>d||Date.now()>p)return i();b()||C()},0)})();else for(;u<=d&&Date.now()<=p;){var w=b();if(w)return w}},addToPath:function(e,r,a,s,i){var n=e.lastComponent;return n&&!i.oneChangePerToken&&n.added===r&&n.removed===a?{oldPos:e.oldPos+s,lastComponent:{count:n.count+1,added:r,removed:a,previousComponent:n.previousComponent}}:{oldPos:e.oldPos+s,lastComponent:{count:1,added:r,removed:a,previousComponent:n}}},extractCommon:function(e,r,a,s,i){for(var n=r.length,o=a.length,l=e.oldPos,c=l-s,u=0;c+1<n&&l+1<o&&this.equals(a[l+1],r[c+1],i);)c++,l++,u++,i.oneChangePerToken&&(e.lastComponent={count:1,previousComponent:e.lastComponent,added:!1,removed:!1});return u&&!i.oneChangePerToken&&(e.lastComponent={count:u,previousComponent:e.lastComponent,added:!1,removed:!1}),e.oldPos=l,c},equals:function(e,r,a){return a.comparator?a.comparator(e,r):e===r||a.ignoreCase&&e.toLowerCase()===r.toLowerCase()},removeEmpty:function(e){for(var r=[],a=0;a<e.length;a++)e[a]&&r.push(e[a]);return r},castInput:function(e){return e},tokenize:function(e){return Array.from(e)},join:function(e){return e.join("")},postProcess:function(e){return e}};function M0(t,e,r,a,s){for(var i=[],n;e;)i.push(e),n=e.previousComponent,delete e.previousComponent,e=n;i.reverse();for(var o=0,l=i.length,c=0,u=0;o<l;o++){var d=i[o];if(d.removed)d.value=t.join(a.slice(u,u+d.count)),u+=d.count;else{if(!d.added&&s){var h=r.slice(c,c+d.count);h=h.map(function(p,m){var f=a[u+m];return f.length>p.length?f:p}),d.value=t.join(h)}else d.value=t.join(r.slice(c,c+d.count));c+=d.count,d.added||(u+=d.count)}}return i}var RJ=new ea;function U0(t,e){var r;for(r=0;r<t.length&&r<e.length;r++)if(t[r]!=e[r])return t.slice(0,r);return t.slice(0,r)}function z0(t,e){var r;if(!t||!e||t[t.length-1]!=e[e.length-1])return"";for(r=0;r<t.length&&r<e.length;r++)if(t[t.length-(r+1)]!=e[e.length-(r+1)])return t.slice(-r);return t.slice(-r)}function zf(t,e,r){if(t.slice(0,e.length)!=e)throw Error("string ".concat(JSON.stringify(t)," doesn't start with prefix ").concat(JSON.stringify(e),"; this is a bug"));return r+t.slice(e.length)}function Bf(t,e,r){if(!e)return t+r;if(t.slice(-e.length)!=e)throw Error("string ".concat(JSON.stringify(t)," doesn't end with suffix ").concat(JSON.stringify(e),"; this is a bug"));return t.slice(0,-e.length)+r}function jo(t,e){return zf(t,e,"")}function Ol(t,e){return Bf(t,e,"")}function B0(t,e){return e.slice(0,kq(t,e))}function kq(t,e){var r=0;t.length>e.length&&(r=t.length-e.length);var a=e.length;t.length<e.length&&(a=t.length);var s=Array(a),i=0;s[0]=0;for(var n=1;n<a;n++){for(e[n]==e[i]?s[n]=s[i]:s[n]=i;i>0&&e[n]!=e[i];)i=s[i];e[n]==e[i]&&i++}i=0;for(var o=r;o<t.length;o++){for(;i>0&&t[o]!=e[i];)i=s[i];t[o]==e[i]&&i++}return i}var Il="a-zA-Z0-9_\\u{C0}-\\u{FF}\\u{D8}-\\u{F6}\\u{F8}-\\u{2C6}\\u{2C8}-\\u{2D7}\\u{2DE}-\\u{2FF}\\u{1E00}-\\u{1EFF}",jq=new RegExp("[".concat(Il,"]+|\\s+|[^").concat(Il,"]"),"ug"),Al=new ea;Al.equals=function(t,e,r){return r.ignoreCase&&(t=t.toLowerCase(),e=e.toLowerCase()),t.trim()===e.trim()};Al.tokenize=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r;if(e.intlSegmenter){if(e.intlSegmenter.resolvedOptions().granularity!="word")throw new Error('The segmenter passed must have a granularity of "word"');r=Array.from(e.intlSegmenter.segment(t),function(i){return i.segment})}else r=t.match(jq)||[];var a=[],s=null;return r.forEach(function(i){/\s/.test(i)?s==null?a.push(i):a.push(a.pop()+i):/\s/.test(s)?a[a.length-1]==s?a.push(a.pop()+i):a.push(s+i):a.push(i),s=i}),a};Al.join=function(t){return t.map(function(e,r){return r==0?e:e.replace(/^\s+/,"")}).join("")};Al.postProcess=function(t,e){if(!t||e.oneChangePerToken)return t;var r=null,a=null,s=null;return t.forEach(function(i){i.added?a=i:i.removed?s=i:((a||s)&&Z0(r,s,a,i),r=i,a=null,s=null)}),(a||s)&&Z0(r,s,a,null),t};function Z0(t,e,r,a){if(e&&r){var s=e.value.match(/^\s*/)[0],i=e.value.match(/\s*$/)[0],n=r.value.match(/^\s*/)[0],o=r.value.match(/\s*$/)[0];if(t){var l=U0(s,n);t.value=Bf(t.value,n,l),e.value=jo(e.value,l),r.value=jo(r.value,l)}if(a){var c=z0(i,o);a.value=zf(a.value,o,c),e.value=Ol(e.value,c),r.value=Ol(r.value,c)}}else if(r)t&&(r.value=r.value.replace(/^\s*/,"")),a&&(a.value=a.value.replace(/^\s*/,""));else if(t&&a){var u=a.value.match(/^\s*/)[0],d=e.value.match(/^\s*/)[0],h=e.value.match(/\s*$/)[0],p=U0(u,d);e.value=jo(e.value,p);var m=z0(jo(u,p),h);e.value=Ol(e.value,m),a.value=zf(a.value,u,m),t.value=Bf(t.value,u,u.slice(0,u.length-m.length))}else if(a){var f=a.value.match(/^\s*/)[0],v=e.value.match(/\s*$/)[0],g=B0(v,f);e.value=Ol(e.value,g)}else if(t){var b=t.value.match(/\s*$/)[0],w=e.value.match(/^\s*/)[0],C=B0(b,w);e.value=jo(e.value,C)}}var Dq=new ea;Dq.tokenize=function(t){var e=new RegExp("(\\r?\\n)|[".concat(Il,"]+|[^\\S\\n\\r]+|[^").concat(Il,"]"),"ug");return t.match(e)||[]};var kl=new ea;kl.tokenize=function(t,e){e.stripTrailingCr&&(t=t.replace(/\r\n/g,`
`));var r=[],a=t.split(/(\n|\r\n)/);a[a.length-1]||a.pop();for(var s=0;s<a.length;s++){var i=a[s];s%2&&!e.newlineIsToken?r[r.length-1]+=i:r.push(i)}return r};kl.equals=function(t,e,r){return r.ignoreWhitespace?((!r.newlineIsToken||!t.includes(`
`))&&(t=t.trim()),(!r.newlineIsToken||!e.includes(`
`))&&(e=e.trim())):r.ignoreNewlineAtEof&&!r.newlineIsToken&&(t.endsWith(`
`)&&(t=t.slice(0,-1)),e.endsWith(`
`)&&(e=e.slice(0,-1))),ea.prototype.equals.call(this,t,e,r)};function V0(t,e,r){return kl.diff(t,e,r)}var Nq=new ea;Nq.tokenize=function(t){return t.split(/(\S.+?[.!?])(?=\s+|$)/)};var $q=new ea;$q.tokenize=function(t){return t.split(/([{}:;,]|\s+)/)};function H0(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,a)}return r}function G0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?H0(Object(r),!0).forEach(function(a){qq(t,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):H0(Object(r)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(r,a))})}return t}function Lq(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var a=r.call(t,e||"default");if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Fq(t){var e=Lq(t,"string");return typeof e=="symbol"?e:e+""}function Zf(t){"@babel/helpers - typeof";return Zf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zf(t)}function qq(t,e,r){return e=Fq(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Uf(t){return Mq(t)||Uq(t)||zq(t)||Bq()}function Mq(t){if(Array.isArray(t))return Vf(t)}function Uq(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function zq(t,e){if(t){if(typeof t=="string")return Vf(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Vf(t,e)}}function Vf(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,a=new Array(e);r<e;r++)a[r]=t[r];return a}function Bq(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Do=new ea;Do.useLongestToken=!0;Do.tokenize=kl.tokenize;Do.castInput=function(t,e){var r=e.undefinedReplacement,a=e.stringifyReplacer,s=a===void 0?function(i,n){return typeof n>"u"?r:n}:a;return typeof t=="string"?t:JSON.stringify(Hf(t,null,null,s),s,"  ")};Do.equals=function(t,e,r){return ea.prototype.equals.call(Do,t.replace(/,([\r\n])/g,"$1"),e.replace(/,([\r\n])/g,"$1"),r)};function Hf(t,e,r,a,s){e=e||[],r=r||[],a&&(t=a(s,t));var i;for(i=0;i<e.length;i+=1)if(e[i]===t)return r[i];var n;if(Object.prototype.toString.call(t)==="[object Array]"){for(e.push(t),n=new Array(t.length),r.push(n),i=0;i<t.length;i+=1)n[i]=Hf(t[i],e,r,a,s);return e.pop(),r.pop(),n}if(t&&t.toJSON&&(t=t.toJSON()),Zf(t)==="object"&&t!==null){e.push(t),n={},r.push(n);var o=[],l;for(l in t)Object.prototype.hasOwnProperty.call(t,l)&&o.push(l);for(o.sort(),i=0;i<o.length;i+=1)l=o[i],n[l]=Hf(t[l],e,r,a,l);e.pop(),r.pop()}else n=t;return n}var Gf=new ea;Gf.tokenize=function(t){return t.slice()};Gf.join=Gf.removeEmpty=function(t){return t};function W0(t,e,r,a,s,i,n){if(n||(n={}),typeof n=="function"&&(n={callback:n}),typeof n.context>"u"&&(n.context=4),n.newlineIsToken)throw new Error("newlineIsToken may not be used with patch-generation functions, only with diffing functions");if(n.callback){var o=n,l=o.callback;V0(r,a,G0(G0({},n),{},{callback:function(d){var h=c(d);l(h)}}))}else return c(V0(r,a,n));function c(u){if(!u)return;u.push({value:"",lines:[]});function d(L){return L.map(function(D){return" "+D})}for(var h=[],p=0,m=0,f=[],v=1,g=1,b=function(){var D=u[w],F=D.lines||Zq(D.value);if(D.lines=F,D.added||D.removed){var $;if(!p){var I=u[w-1];p=v,m=g,I&&(f=n.context>0?d(I.lines.slice(-n.context)):[],p-=f.length,m-=f.length)}($=f).push.apply($,Uf(F.map(function(V){return(D.added?"+":"-")+V}))),D.added?g+=F.length:v+=F.length}else{if(p)if(F.length<=n.context*2&&w<u.length-2){var k;(k=f).push.apply(k,Uf(d(F)))}else{var N,B=Math.min(F.length,n.context);(N=f).push.apply(N,Uf(d(F.slice(0,B))));var W={oldStart:p,oldLines:v-p+B,newStart:m,newLines:g-m+B,lines:f};h.push(W),p=0,m=0,f=[]}v+=F.length,g+=F.length}},w=0;w<u.length;w++)b();for(var C=0,T=h;C<T.length;C++)for(var R=T[C],O=0;O<R.lines.length;O++)R.lines[O].endsWith(`
`)?R.lines[O]=R.lines[O].slice(0,-1):(R.lines.splice(O+1,0,"\\ No newline at end of file"),O++);return{oldFileName:t,newFileName:e,oldHeader:s,newHeader:i,hunks:h}}}function Zq(t){var e=t.endsWith(`
`),r=t.split(`
`).map(function(a){return a+`
`});return e?r.pop():r.push(r.pop().slice(0,-1)),r}function J0(t,e){let r=t,a=[];if(!t&&e.length===1&&e[0]&&e[0].oldString===""&&e[0].newString==="")return"";for(let s of e){let i=s.oldString.replace(/\n+$/,"");for(let o of a)if(i!==""&&o.includes(i))throw new Error("Cannot edit file: old_string is a substring of a new_string from a previous edit.");let n=r;if(s.oldString===""?r=s.newString:r=Vq(r,s.oldString,s.newString,s.replaceAll),r===n)throw new Error("String not found in file. Failed to apply edit.");a.push(s.newString)}if(r===t)throw new Error("Original and edited file match exactly. Failed to apply edit.");return r}function Vq(t,e,r,a=!1){let s=a?(n,o,l)=>n.replaceAll(o,()=>l):(n,o,l)=>n.replace(o,()=>l);return r!==""?s(t,e,r):!e.endsWith(`
`)&&t.includes(e+`
`)?s(t,e+`
`,r):s(t,e,r)}function Wf(t,e,r,a){let i=Kq({filePath:t,oldContent:e,newContent:r,singleHunk:a==="single"});return i.length===0?[]:Hq(i)}function Hq(t){return t.map(e=>{let r=[],a=[],s=[];for(let i of e.lines)i.startsWith(" ")?(r.push(i.slice(1)),a.push(i.slice(1)),s.push(i.slice(1))):i.startsWith("-")?a.push(i.slice(1)):i.startsWith("+")&&s.push(i.slice(1));return{oldString:a.join(`
`),newString:s.join(`
`),replaceAll:!1}})}var Q0="<<:AMPERSAND_TOKEN:>>",Y0="<<:DOLLAR_TOKEN:>>";function K0(t){return t.replaceAll("&",Q0).replaceAll("$",Y0)}function Gq(t){return t.replaceAll(Q0,"&").replaceAll(Y0,"$")}var Wq=3;function Kq({filePath:t,oldContent:e,newContent:r,ignoreWhitespace:a=!1,singleHunk:s=!1}){return W0(t,t,K0(e),K0(r),void 0,void 0,{ignoreWhitespace:a,context:s?1e5:Wq}).hunks.map(i=>({...i,lines:i.lines.map(Gq)}))}async function ew(t,e,r,a,s,i,n,o,l){let c=a.split("/").pop()||a,u=s.split("/").pop()||s,h=`Claude\u2018s edit: ${c===u?c:`${c} \u2192 ${u}`} (${Math.random().toString(36).substring(2,8)})`;t.info("diff from",a,"to",s,"as",h),tw.push(h);let p=_t.Uri.file(a),m="";try{let W=await _t.workspace.openTextDocument(p);W.isDirty?(m=X0.readFileSync(a,"utf8"),p=e.createFile(a,m).uri):m=W.getText()}catch{t.info("leftTempFileProvider.createFile",a),p=e.createFile(a,"").uri}let f=J0(m,i),g=r.createFile(s,f).uri,b=await _t.workspace.openTextDocument(g);await Jq(t)>0&&await new Promise(W=>setTimeout(W,200));let C=f,T=f,R;_t.workspace.onDidChangeTextDocument(W=>{W.document.uri.toString()===g.toString()&&(C=T,T=W.document.getText(),W.contentChanges.length>3&&W.reason!==_t.TextDocumentChangeReason.Undo&&W.reason!==_t.TextDocumentChangeReason.Redo&&(R={time:Date.now(),contents:C}))});let O=[],L=new Promise(W=>{O.push(_t.workspace.onWillSaveTextDocument(V=>{if(V.document.uri.toString()===g.toString()){let K=V.document.getText();R&&Date.now()-R.time<500&&(K=R.contents),W(K)}}))}),D=new Promise(W=>{O.push(o(V=>{V.activeTab&&V.activeTab.label===h&&W(V)}))}).then(W=>{if(W.accepted)return t.info("diff_accepted",h),Wf(s,m,b.getText(),n?"multiple":"single")}),F={preview:!1,preserveFocus:!0},$=await _t.commands.executeCommand("vscode.diff",p,g,h,F);t.info("diff result",$,h,p,g,F);let I=await yi(()=>gi().find(W=>W.label===h),1e3);l?.addEventListener("abort",()=>{rn(I,t)});let k=yi(()=>!gi().some(W=>W.label===h)).then(()=>{t.info("tab_closed",h)}),N=L.then(async W=>Wf(s,m,W,n?"multiple":"single")),B=[k,D];return _t.workspace.getConfiguration("files").get("autoSave")==="off"?(t.info("files.autoSave is off, waiting for file save"),B.push(N)):t.info("files.autoSave is on, need explicit accept"),await Promise.race(B).finally(()=>{O.forEach(W=>W.dispose())}).then(W=>(t.info("diff operation completed",W),W)).finally(()=>{rn(I,t)})}var tw=[];async function Jq(t){let e=0;t.info("Closing all diff tabs in the editor...");for(let r of _t.window.tabGroups.all)for(let a of r.tabs)a.input instanceof _t.TabInputTextDiff&&tw.includes(a.label)&&(await rn(a,t),e++);return t.info(`Closed ${e} diff tabs.`),e}function rw(t){let e=new _t.EventEmitter;return t.push(_t.commands.registerCommand("claude-vscode.acceptProposedDiff",async()=>{let r=_t.window.tabGroups.activeTabGroup.activeTab;e.fire({accepted:!0,activeTab:r})})),t.push(_t.commands.registerCommand("claude-vscode.rejectProposedDiff",async()=>{let r=_t.window.tabGroups.activeTabGroup.activeTab;e.fire({accepted:!1,activeTab:r})})),e.event}var mn=Pe(require("path"),1),xt=Pe(require("fs"),1),hn=require("child_process"),vn=Pe(Yf(),1);var Xo=Pe(require("crypto"),1),ZP=Pe(require("http"),1);function No(t,e){return function(){return t.apply(e,arguments)}}var{toString:nM}=Object.prototype,{getPrototypeOf:em}=Object,Dl=(t=>e=>{let r=nM.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),ta=t=>(t=t.toLowerCase(),e=>Dl(e)===t),Nl=t=>e=>typeof e===t,{isArray:xi}=Array,$o=Nl("undefined");function iM(t){return t!==null&&!$o(t)&&t.constructor!==null&&!$o(t.constructor)&&br(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}var fw=ta("ArrayBuffer");function oM(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&fw(t.buffer),e}var cM=Nl("string"),br=Nl("function"),mw=Nl("number"),$l=t=>t!==null&&typeof t=="object",lM=t=>t===!0||t===!1,jl=t=>{if(Dl(t)!=="object")return!1;let e=em(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},uM=ta("Date"),dM=ta("File"),pM=ta("Blob"),fM=ta("FileList"),mM=t=>$l(t)&&br(t.pipe),hM=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||br(t.append)&&((e=Dl(t))==="formdata"||e==="object"&&br(t.toString)&&t.toString()==="[object FormData]"))},vM=ta("URLSearchParams"),[gM,yM,xM,bM]=["ReadableStream","Request","Response","Headers"].map(ta),_M=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Lo(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let a,s;if(typeof t!="object"&&(t=[t]),xi(t))for(a=0,s=t.length;a<s;a++)e.call(null,t[a],a,t);else{let i=r?Object.getOwnPropertyNames(t):Object.keys(t),n=i.length,o;for(a=0;a<n;a++)o=i[a],e.call(null,t[o],o,t)}}function hw(t,e){e=e.toLowerCase();let r=Object.keys(t),a=r.length,s;for(;a-- >0;)if(s=r[a],e===s.toLowerCase())return s;return null}var sn=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,vw=t=>!$o(t)&&t!==sn;function Xf(){let{caseless:t}=vw(this)&&this||{},e={},r=(a,s)=>{let i=t&&hw(e,s)||s;jl(e[i])&&jl(a)?e[i]=Xf(e[i],a):jl(a)?e[i]=Xf({},a):xi(a)?e[i]=a.slice():e[i]=a};for(let a=0,s=arguments.length;a<s;a++)arguments[a]&&Lo(arguments[a],r);return e}var wM=(t,e,r,{allOwnKeys:a}={})=>(Lo(e,(s,i)=>{r&&br(s)?t[i]=No(s,r):t[i]=s},{allOwnKeys:a}),t),SM=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),EM=(t,e,r,a)=>{t.prototype=Object.create(e.prototype,a),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},PM=(t,e,r,a)=>{let s,i,n,o={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),i=s.length;i-- >0;)n=s[i],(!a||a(n,t,e))&&!o[n]&&(e[n]=t[n],o[n]=!0);t=r!==!1&&em(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},RM=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;let a=t.indexOf(e,r);return a!==-1&&a===r},CM=t=>{if(!t)return null;if(xi(t))return t;let e=t.length;if(!mw(e))return null;let r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},TM=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&em(Uint8Array)),OM=(t,e)=>{let a=(t&&t[Symbol.iterator]).call(t),s;for(;(s=a.next())&&!s.done;){let i=s.value;e.call(t,i[0],i[1])}},IM=(t,e)=>{let r,a=[];for(;(r=t.exec(e))!==null;)a.push(r);return a},AM=ta("HTMLFormElement"),kM=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,a,s){return a.toUpperCase()+s}),pw=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),jM=ta("RegExp"),gw=(t,e)=>{let r=Object.getOwnPropertyDescriptors(t),a={};Lo(r,(s,i)=>{let n;(n=e(s,i,t))!==!1&&(a[i]=n||s)}),Object.defineProperties(t,a)},DM=t=>{gw(t,(e,r)=>{if(br(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;let a=t[r];if(br(a)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},NM=(t,e)=>{let r={},a=s=>{s.forEach(i=>{r[i]=!0})};return xi(t)?a(t):a(String(t).split(e)),r},$M=()=>{},LM=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function FM(t){return!!(t&&br(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}var qM=t=>{let e=new Array(10),r=(a,s)=>{if($l(a)){if(e.indexOf(a)>=0)return;if(!("toJSON"in a)){e[s]=a;let i=xi(a)?[]:{};return Lo(a,(n,o)=>{let l=r(n,s+1);!$o(l)&&(i[o]=l)}),e[s]=void 0,i}}return a};return r(t,0)},MM=ta("AsyncFunction"),UM=t=>t&&($l(t)||br(t))&&br(t.then)&&br(t.catch),yw=((t,e)=>t?setImmediate:e?((r,a)=>(sn.addEventListener("message",({source:s,data:i})=>{s===sn&&i===r&&a.length&&a.shift()()},!1),s=>{a.push(s),sn.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",br(sn.postMessage)),zM=typeof queueMicrotask<"u"?queueMicrotask.bind(sn):typeof process<"u"&&process.nextTick||yw,z={isArray:xi,isArrayBuffer:fw,isBuffer:iM,isFormData:hM,isArrayBufferView:oM,isString:cM,isNumber:mw,isBoolean:lM,isObject:$l,isPlainObject:jl,isReadableStream:gM,isRequest:yM,isResponse:xM,isHeaders:bM,isUndefined:$o,isDate:uM,isFile:dM,isBlob:pM,isRegExp:jM,isFunction:br,isStream:mM,isURLSearchParams:vM,isTypedArray:TM,isFileList:fM,forEach:Lo,merge:Xf,extend:wM,trim:_M,stripBOM:SM,inherits:EM,toFlatObject:PM,kindOf:Dl,kindOfTest:ta,endsWith:RM,toArray:CM,forEachEntry:OM,matchAll:IM,isHTMLForm:AM,hasOwnProperty:pw,hasOwnProp:pw,reduceDescriptors:gw,freezeMethods:DM,toObjectSet:NM,toCamelCase:kM,noop:$M,toFiniteNumber:LM,findKey:hw,global:sn,isContextDefined:vw,isSpecCompliantForm:FM,toJSONObject:qM,isAsyncFn:MM,isThenable:UM,setImmediate:yw,asap:zM};function bi(t,e,r,a,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),a&&(this.request=a),s&&(this.response=s,this.status=s.status?s.status:null)}z.inherits(bi,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:z.toJSONObject(this.config),code:this.code,status:this.status}}});var xw=bi.prototype,bw={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{bw[t]={value:t}});Object.defineProperties(bi,bw);Object.defineProperty(xw,"isAxiosError",{value:!0});bi.from=(t,e,r,a,s,i)=>{let n=Object.create(xw);return z.toFlatObject(t,n,function(l){return l!==Error.prototype},o=>o!=="isAxiosError"),bi.call(n,t.message,e,r,a,s),n.cause=t,n.name=t.name,i&&Object.assign(n,i),n};var ce=bi;var EE=Pe(SE(),1),Hl=EE.default;function _m(t){return z.isPlainObject(t)||z.isArray(t)}function RE(t){return z.endsWith(t,"[]")?t.slice(0,-2):t}function PE(t,e,r){return t?t.concat(e).map(function(s,i){return s=RE(s),!r&&i?"["+s+"]":s}).join(r?".":""):e}function Rz(t){return z.isArray(t)&&!t.some(_m)}var Cz=z.toFlatObject(z,{},null,function(e){return/^is[A-Z]/.test(e)});function Tz(t,e,r){if(!z.isObject(t))throw new TypeError("target must be an object");e=e||new(Hl||FormData),r=z.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(f,v){return!z.isUndefined(v[f])});let a=r.metaTokens,s=r.visitor||u,i=r.dots,n=r.indexes,l=(r.Blob||typeof Blob<"u"&&Blob)&&z.isSpecCompliantForm(e);if(!z.isFunction(s))throw new TypeError("visitor must be a function");function c(m){if(m===null)return"";if(z.isDate(m))return m.toISOString();if(!l&&z.isBlob(m))throw new ce("Blob is not supported. Use a Buffer instead.");return z.isArrayBuffer(m)||z.isTypedArray(m)?l&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function u(m,f,v){let g=m;if(m&&!v&&typeof m=="object"){if(z.endsWith(f,"{}"))f=a?f:f.slice(0,-2),m=JSON.stringify(m);else if(z.isArray(m)&&Rz(m)||(z.isFileList(m)||z.endsWith(f,"[]"))&&(g=z.toArray(m)))return f=RE(f),g.forEach(function(w,C){!(z.isUndefined(w)||w===null)&&e.append(n===!0?PE([f],C,i):n===null?f:f+"[]",c(w))}),!1}return _m(m)?!0:(e.append(PE(v,f,i),c(m)),!1)}let d=[],h=Object.assign(Cz,{defaultVisitor:u,convertValue:c,isVisitable:_m});function p(m,f){if(!z.isUndefined(m)){if(d.indexOf(m)!==-1)throw Error("Circular reference detected in "+f.join("."));d.push(m),z.forEach(m,function(g,b){(!(z.isUndefined(g)||g===null)&&s.call(e,g,z.isString(b)?b.trim():b,f,h))===!0&&p(g,f?f.concat(b):[b])}),d.pop()}}if(!z.isObject(t))throw new TypeError("data must be an object");return p(t),e}var ms=Tz;function CE(t){let e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(a){return e[a]})}function TE(t,e){this._pairs=[],t&&ms(t,this,e)}var OE=TE.prototype;OE.append=function(e,r){this._pairs.push([e,r])};OE.toString=function(e){let r=e?function(a){return e.call(this,a,CE)}:CE;return this._pairs.map(function(s){return r(s[0])+"="+r(s[1])},"").join("&")};var IE=TE;function Oz(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function on(t,e,r){if(!e)return t;let a=r&&r.encode||Oz;z.isFunction(r)&&(r={serialize:r});let s=r&&r.serialize,i;if(s?i=s(e,r):i=z.isURLSearchParams(e)?e.toString():new IE(e,r).toString(a),i){let n=t.indexOf("#");n!==-1&&(t=t.slice(0,n)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}var wm=class{constructor(){this.handlers=[]}use(e,r,a){return this.handlers.push({fulfilled:e,rejected:r,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){z.forEach(this.handlers,function(a){a!==null&&e(a)})}},Sm=wm;var Pi={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1};var DE=Pe(require("crypto"),1);var AE=Pe(require("url"),1),kE=AE.default.URLSearchParams;var Em="abcdefghijklmnopqrstuvwxyz",jE="0123456789",NE={DIGIT:jE,ALPHA:Em,ALPHA_DIGIT:Em+Em.toUpperCase()+jE},Iz=(t=16,e=NE.ALPHA_DIGIT)=>{let r="",{length:a}=e,s=new Uint32Array(t);DE.default.randomFillSync(s);for(let i=0;i<t;i++)r+=e[s[i]%a];return r},$E={isNode:!0,classes:{URLSearchParams:kE,FormData:Hl,Blob:typeof Blob<"u"&&Blob||null},ALPHABET:NE,generateString:Iz,protocols:["http","https","file","data"]};var Cm={};hg(Cm,{hasBrowserEnv:()=>Rm,hasStandardBrowserEnv:()=>Az,hasStandardBrowserWebWorkerEnv:()=>kz,navigator:()=>Pm,origin:()=>jz});var Rm=typeof window<"u"&&typeof document<"u",Pm=typeof navigator=="object"&&navigator||void 0,Az=Rm&&(!Pm||["ReactNative","NativeScript","NS"].indexOf(Pm.product)<0),kz=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",jz=Rm&&window.location.href||"http://localhost";var lt={...Cm,...$E};function Tm(t,e){return ms(t,new lt.classes.URLSearchParams,Object.assign({visitor:function(r,a,s,i){return lt.isNode&&z.isBuffer(r)?(this.append(a,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},e))}function Dz(t){return z.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Nz(t){let e={},r=Object.keys(t),a,s=r.length,i;for(a=0;a<s;a++)i=r[a],e[i]=t[i];return e}function $z(t){function e(r,a,s,i){let n=r[i++];if(n==="__proto__")return!0;let o=Number.isFinite(+n),l=i>=r.length;return n=!n&&z.isArray(s)?s.length:n,l?(z.hasOwnProp(s,n)?s[n]=[s[n],a]:s[n]=a,!o):((!s[n]||!z.isObject(s[n]))&&(s[n]=[]),e(r,a,s[n],i)&&z.isArray(s[n])&&(s[n]=Nz(s[n])),!o)}if(z.isFormData(t)&&z.isFunction(t.entries)){let r={};return z.forEachEntry(t,(a,s)=>{e(Dz(a),s,r,0)}),r}return null}var Gl=$z;function Lz(t,e,r){if(z.isString(t))try{return(e||JSON.parse)(t),z.trim(t)}catch(a){if(a.name!=="SyntaxError")throw a}return(r||JSON.stringify)(t)}var Om={transitional:Pi,adapter:["xhr","http","fetch"],transformRequest:[function(e,r){let a=r.getContentType()||"",s=a.indexOf("application/json")>-1,i=z.isObject(e);if(i&&z.isHTMLForm(e)&&(e=new FormData(e)),z.isFormData(e))return s?JSON.stringify(Gl(e)):e;if(z.isArrayBuffer(e)||z.isBuffer(e)||z.isStream(e)||z.isFile(e)||z.isBlob(e)||z.isReadableStream(e))return e;if(z.isArrayBufferView(e))return e.buffer;if(z.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(i){if(a.indexOf("application/x-www-form-urlencoded")>-1)return Tm(e,this.formSerializer).toString();if((o=z.isFileList(e))||a.indexOf("multipart/form-data")>-1){let l=this.env&&this.env.FormData;return ms(o?{"files[]":e}:e,l&&new l,this.formSerializer)}}return i||s?(r.setContentType("application/json",!1),Lz(e)):e}],transformResponse:[function(e){let r=this.transitional||Om.transitional,a=r&&r.forcedJSONParsing,s=this.responseType==="json";if(z.isResponse(e)||z.isReadableStream(e))return e;if(e&&z.isString(e)&&(a&&!this.responseType||s)){let n=!(r&&r.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(o){if(n)throw o.name==="SyntaxError"?ce.from(o,ce.ERR_BAD_RESPONSE,this,null,this.response):o}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:lt.classes.FormData,Blob:lt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};z.forEach(["delete","get","head","post","put","patch"],t=>{Om.headers[t]={}});var Ri=Om;var Fz=z.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),LE=t=>{let e={},r,a,s;return t&&t.split(`
`).forEach(function(n){s=n.indexOf(":"),r=n.substring(0,s).trim().toLowerCase(),a=n.substring(s+1).trim(),!(!r||e[r]&&Fz[r])&&(r==="set-cookie"?e[r]?e[r].push(a):e[r]=[a]:e[r]=e[r]?e[r]+", "+a:a)}),e};var FE=Symbol("internals");function zo(t){return t&&String(t).trim().toLowerCase()}function Wl(t){return t===!1||t==null?t:z.isArray(t)?t.map(Wl):String(t)}function qz(t){let e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g,a;for(;a=r.exec(t);)e[a[1]]=a[2];return e}var Mz=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Im(t,e,r,a,s){if(z.isFunction(a))return a.call(this,e,r);if(s&&(e=r),!!z.isString(e)){if(z.isString(a))return e.indexOf(a)!==-1;if(z.isRegExp(a))return a.test(e)}}function Uz(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,a)=>r.toUpperCase()+a)}function zz(t,e){let r=z.toCamelCase(" "+e);["get","set","has"].forEach(a=>{Object.defineProperty(t,a+r,{value:function(s,i,n){return this[a].call(this,e,s,i,n)},configurable:!0})})}var Ci=class{constructor(e){e&&this.set(e)}set(e,r,a){let s=this;function i(o,l,c){let u=zo(l);if(!u)throw new Error("header name must be a non-empty string");let d=z.findKey(s,u);(!d||s[d]===void 0||c===!0||c===void 0&&s[d]!==!1)&&(s[d||l]=Wl(o))}let n=(o,l)=>z.forEach(o,(c,u)=>i(c,u,l));if(z.isPlainObject(e)||e instanceof this.constructor)n(e,r);else if(z.isString(e)&&(e=e.trim())&&!Mz(e))n(LE(e),r);else if(z.isHeaders(e))for(let[o,l]of e.entries())i(l,o,a);else e!=null&&i(r,e,a);return this}get(e,r){if(e=zo(e),e){let a=z.findKey(this,e);if(a){let s=this[a];if(!r)return s;if(r===!0)return qz(s);if(z.isFunction(r))return r.call(this,s,a);if(z.isRegExp(r))return r.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=zo(e),e){let a=z.findKey(this,e);return!!(a&&this[a]!==void 0&&(!r||Im(this,this[a],a,r)))}return!1}delete(e,r){let a=this,s=!1;function i(n){if(n=zo(n),n){let o=z.findKey(a,n);o&&(!r||Im(a,a[o],o,r))&&(delete a[o],s=!0)}}return z.isArray(e)?e.forEach(i):i(e),s}clear(e){let r=Object.keys(this),a=r.length,s=!1;for(;a--;){let i=r[a];(!e||Im(this,this[i],i,e,!0))&&(delete this[i],s=!0)}return s}normalize(e){let r=this,a={};return z.forEach(this,(s,i)=>{let n=z.findKey(a,i);if(n){r[n]=Wl(s),delete r[i];return}let o=e?Uz(i):String(i).trim();o!==i&&delete r[i],r[o]=Wl(s),a[o]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){let r=Object.create(null);return z.forEach(this,(a,s)=>{a!=null&&a!==!1&&(r[s]=e&&z.isArray(a)?a.join(", "):a)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){let a=new this(e);return r.forEach(s=>a.set(s)),a}static accessor(e){let a=(this[FE]=this[FE]={accessors:{}}).accessors,s=this.prototype;function i(n){let o=zo(n);a[o]||(zz(s,n),a[o]=!0)}return z.isArray(e)?e.forEach(i):i(e),this}};Ci.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);z.reduceDescriptors(Ci.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(a){this[r]=a}}});z.freezeMethods(Ci);var wt=Ci;function Bo(t,e){let r=this||Ri,a=e||r,s=wt.from(a.headers),i=a.data;return z.forEach(t,function(o){i=o.call(r,i,s.normalize(),e?e.status:void 0)}),s.normalize(),i}function Zo(t){return!!(t&&t.__CANCEL__)}function qE(t,e,r){ce.call(this,t??"canceled",ce.ERR_CANCELED,e,r),this.name="CanceledError"}z.inherits(qE,ce,{__CANCEL__:!0});var _r=qE;function ya(t,e,r){let a=r.config.validateStatus;!r.status||!a||a(r.status)?t(r):e(new ce("Request failed with status code "+r.status,[ce.ERR_BAD_REQUEST,ce.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function Am(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function km(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function cn(t,e,r){let a=!Am(e);return t&&(a||r==!1)?km(t,e):e}var wP=Pe(UE(),1),SP=Pe(require("http"),1),EP=Pe(require("https"),1),PP=Pe(require("util"),1),RP=Pe(iP(),1),Ua=Pe(require("zlib"),1);var pn="1.8.4";function Ko(t){let e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}var O2=/^(?:([^;]+);)?(?:[^;]+;)?(base64|),([\s\S]*)$/;function Wm(t,e,r){let a=r&&r.Blob||lt.classes.Blob,s=Ko(t);if(e===void 0&&a&&(e=!0),s==="data"){t=s.length?t.slice(s.length+1):t;let i=O2.exec(t);if(!i)throw new ce("Invalid URL",ce.ERR_INVALID_URL);let n=i[1],o=i[2],l=i[3],c=Buffer.from(decodeURIComponent(l),o?"base64":"utf8");if(e){if(!a)throw new ce("Blob is not supported",ce.ERR_NOT_SUPPORT);return new a([c],{type:n})}return c}throw new ce("Unsupported protocol "+s,ce.ERR_NOT_SUPPORT)}var fn=Pe(require("stream"),1);var oP=Pe(require("stream"),1);var Km=Symbol("internals"),Jm=class extends oP.default.Transform{constructor(e){e=z.toFlatObject(e,{maxRate:0,chunkSize:64*1024,minChunkSize:100,timeWindow:500,ticksRate:2,samplesCount:15},null,(a,s)=>!z.isUndefined(s[a])),super({readableHighWaterMark:e.chunkSize});let r=this[Km]={timeWindow:e.timeWindow,chunkSize:e.chunkSize,maxRate:e.maxRate,minChunkSize:e.minChunkSize,bytesSeen:0,isCaptured:!1,notifiedBytesLoaded:0,ts:Date.now(),bytes:0,onReadCallback:null};this.on("newListener",a=>{a==="progress"&&(r.isCaptured||(r.isCaptured=!0))})}_read(e){let r=this[Km];return r.onReadCallback&&r.onReadCallback(),super._read(e)}_transform(e,r,a){let s=this[Km],i=s.maxRate,n=this.readableHighWaterMark,o=s.timeWindow,l=1e3/o,c=i/l,u=s.minChunkSize!==!1?Math.max(s.minChunkSize,c*.01):0,d=(p,m)=>{let f=Buffer.byteLength(p);s.bytesSeen+=f,s.bytes+=f,s.isCaptured&&this.emit("progress",s.bytesSeen),this.push(p)?process.nextTick(m):s.onReadCallback=()=>{s.onReadCallback=null,process.nextTick(m)}},h=(p,m)=>{let f=Buffer.byteLength(p),v=null,g=n,b,w=0;if(i){let C=Date.now();(!s.ts||(w=C-s.ts)>=o)&&(s.ts=C,b=c-s.bytes,s.bytes=b<0?-b:0,w=0),b=c-s.bytes}if(i){if(b<=0)return setTimeout(()=>{m(null,p)},o-w);b<g&&(g=b)}g&&f>g&&f-g>u&&(v=p.subarray(g),p=p.subarray(0,g)),d(p,v?()=>{process.nextTick(m,null,v)}:m)};h(e,function p(m,f){if(m)return a(m);f?h(f,p):a(null)})}},Qm=Jm;var CP=require("events");var lP=Pe(require("util"),1),uP=require("stream");var{asyncIterator:cP}=Symbol,I2=async function*(t){t.stream?yield*t.stream():t.arrayBuffer?yield await t.arrayBuffer():t[cP]?yield*t[cP]():yield t},eu=I2;var A2=lt.ALPHABET.ALPHA_DIGIT+"-_",Jo=typeof TextEncoder=="function"?new TextEncoder:new lP.default.TextEncoder,hs=`\r
`,k2=Jo.encode(hs),j2=2,Ym=class{constructor(e,r){let{escapeName:a}=this.constructor,s=z.isString(r),i=`Content-Disposition: form-data; name="${a(e)}"${!s&&r.name?`; filename="${a(r.name)}"`:""}${hs}`;s?r=Jo.encode(String(r).replace(/\r?\n|\r\n?/g,hs)):i+=`Content-Type: ${r.type||"application/octet-stream"}${hs}`,this.headers=Jo.encode(i+hs),this.contentLength=s?r.byteLength:r.size,this.size=this.headers.byteLength+this.contentLength+j2,this.name=e,this.value=r}async*encode(){yield this.headers;let{value:e}=this;z.isTypedArray(e)?yield e:yield*eu(e),yield k2}static escapeName(e){return String(e).replace(/[\r\n"]/g,r=>({"\r":"%0D","\n":"%0A",'"':"%22"})[r])}},D2=(t,e,r)=>{let{tag:a="form-data-boundary",size:s=25,boundary:i=a+"-"+lt.generateString(s,A2)}=r||{};if(!z.isFormData(t))throw TypeError("FormData instance required");if(i.length<1||i.length>70)throw Error("boundary must be 10-70 characters long");let n=Jo.encode("--"+i+hs),o=Jo.encode("--"+i+"--"+hs+hs),l=o.byteLength,c=Array.from(t.entries()).map(([d,h])=>{let p=new Ym(d,h);return l+=p.size,p});l+=n.byteLength*c.length,l=z.toFiniteNumber(l);let u={"Content-Type":`multipart/form-data; boundary=${i}`};return Number.isFinite(l)&&(u["Content-Length"]=l),e&&e(u),uP.Readable.from(async function*(){for(let d of c)yield n,yield*d.encode();yield o}())},dP=D2;var pP=Pe(require("stream"),1),Xm=class extends pP.default.Transform{__transform(e,r,a){this.push(e),a()}_transform(e,r,a){if(e.length!==0&&(this._transform=this.__transform,e[0]!==120)){let s=Buffer.alloc(2);s[0]=120,s[1]=156,this.push(s,r)}this.__transform(e,r,a)}},fP=Xm;var N2=(t,e)=>z.isAsyncFn(t)?function(...r){let a=r.pop();t.apply(this,r).then(s=>{try{e?a(null,...e(s)):a(null,s)}catch(i){a(i)}},a)}:t,mP=N2;function $2(t,e){t=t||10;let r=new Array(t),a=new Array(t),s=0,i=0,n;return e=e!==void 0?e:1e3,function(l){let c=Date.now(),u=a[i];n||(n=c),r[s]=l,a[s]=c;let d=i,h=0;for(;d!==s;)h+=r[d++],d=d%t;if(s=(s+1)%t,s===i&&(i=(i+1)%t),c-n<e)return;let p=u&&c-u;return p?Math.round(h*1e3/p):void 0}}var hP=$2;function L2(t,e){let r=0,a=1e3/e,s,i,n=(c,u=Date.now())=>{r=u,s=null,i&&(clearTimeout(i),i=null),t.apply(null,c)};return[(...c)=>{let u=Date.now(),d=u-r;d>=a?n(c,u):(s=c,i||(i=setTimeout(()=>{i=null,n(s)},a-d)))},()=>s&&n(s)]}var vP=L2;var Ma=(t,e,r=3)=>{let a=0,s=hP(50,250);return vP(i=>{let n=i.loaded,o=i.lengthComputable?i.total:void 0,l=n-a,c=s(l),u=n<=o;a=n;let d={loaded:n,total:o,progress:o?n/o:void 0,bytes:l,rate:c||void 0,estimated:c&&o&&u?(o-n)/c:void 0,event:i,lengthComputable:o!=null,[e?"download":"upload"]:!0};t(d)},r)},ki=(t,e)=>{let r=t!=null;return[a=>e[0]({lengthComputable:r,total:t,loaded:a}),e[1]]},ji=t=>(...e)=>z.asap(()=>t(...e));var gP={flush:Ua.default.constants.Z_SYNC_FLUSH,finishFlush:Ua.default.constants.Z_SYNC_FLUSH},F2={flush:Ua.default.constants.BROTLI_OPERATION_FLUSH,finishFlush:Ua.default.constants.BROTLI_OPERATION_FLUSH},yP=z.isFunction(Ua.default.createBrotliDecompress),{http:q2,https:M2}=RP.default,U2=/https:?/,xP=lt.protocols.map(t=>t+":"),bP=(t,[e,r])=>(t.on("end",r).on("error",r),e);function z2(t,e){t.beforeRedirects.proxy&&t.beforeRedirects.proxy(t),t.beforeRedirects.config&&t.beforeRedirects.config(t,e)}function TP(t,e,r){let a=e;if(!a&&a!==!1){let s=wP.default.getProxyForUrl(r);s&&(a=new URL(s))}if(a){if(a.username&&(a.auth=(a.username||"")+":"+(a.password||"")),a.auth){(a.auth.username||a.auth.password)&&(a.auth=(a.auth.username||"")+":"+(a.auth.password||""));let i=Buffer.from(a.auth,"utf8").toString("base64");t.headers["Proxy-Authorization"]="Basic "+i}t.headers.host=t.hostname+(t.port?":"+t.port:"");let s=a.hostname||a.host;t.hostname=s,t.host=s,t.port=a.port,t.path=r,a.protocol&&(t.protocol=a.protocol.includes(":")?a.protocol:`${a.protocol}:`)}t.beforeRedirects.proxy=function(i){TP(i,e,i.href)}}var B2=typeof process<"u"&&z.kindOf(process)==="process",Z2=t=>new Promise((e,r)=>{let a,s,i=(l,c)=>{s||(s=!0,a&&a(l,c))},n=l=>{i(l),e(l)},o=l=>{i(l,!0),r(l)};t(n,o,l=>a=l).catch(o)}),V2=({address:t,family:e})=>{if(!z.isString(t))throw TypeError("address must be a string");return{address:t,family:e||(t.indexOf(".")<0?6:4)}},_P=(t,e)=>V2(z.isObject(t)?t:{address:t,family:e}),OP=B2&&function(e){return Z2(async function(a,s,i){let{data:n,lookup:o,family:l}=e,{responseType:c,responseEncoding:u}=e,d=e.method.toUpperCase(),h,p=!1,m;if(o){let V=mP(o,K=>z.isArray(K)?K:[K]);o=(K,Q,X)=>{V(K,Q,(ae,ue,Qe)=>{if(ae)return X(ae);let ye=z.isArray(ue)?ue.map(Ce=>_P(Ce)):[_P(ue,Qe)];Q.all?X(ae,ye):X(ae,ye[0].address,ye[0].family)})}}let f=new CP.EventEmitter,v=()=>{e.cancelToken&&e.cancelToken.unsubscribe(g),e.signal&&e.signal.removeEventListener("abort",g),f.removeAllListeners()};i((V,K)=>{h=!0,K&&(p=!0,v())});function g(V){f.emit("abort",!V||V.type?new _r(null,e,m):V)}f.once("abort",s),(e.cancelToken||e.signal)&&(e.cancelToken&&e.cancelToken.subscribe(g),e.signal&&(e.signal.aborted?g():e.signal.addEventListener("abort",g)));let b=cn(e.baseURL,e.url,e.allowAbsoluteUrls),w=new URL(b,lt.hasBrowserEnv?lt.origin:void 0),C=w.protocol||xP[0];if(C==="data:"){let V;if(d!=="GET")return ya(a,s,{status:405,statusText:"method not allowed",headers:{},config:e});try{V=Wm(e.url,c==="blob",{Blob:e.env&&e.env.Blob})}catch(K){throw ce.from(K,ce.ERR_BAD_REQUEST,e)}return c==="text"?(V=V.toString(u),(!u||u==="utf8")&&(V=z.stripBOM(V))):c==="stream"&&(V=fn.default.Readable.from(V)),ya(a,s,{data:V,status:200,statusText:"OK",headers:new wt,config:e})}if(xP.indexOf(C)===-1)return s(new ce("Unsupported protocol "+C,ce.ERR_BAD_REQUEST,e));let T=wt.from(e.headers).normalize();T.set("User-Agent","axios/"+pn,!1);let{onUploadProgress:R,onDownloadProgress:O}=e,L=e.maxRate,D,F;if(z.isSpecCompliantForm(n)){let V=T.getContentType(/boundary=([-_\w\d]{10,70})/i);n=dP(n,K=>{T.set(K)},{tag:`axios-${pn}-boundary`,boundary:V&&V[1]||void 0})}else if(z.isFormData(n)&&z.isFunction(n.getHeaders)){if(T.set(n.getHeaders()),!T.hasContentLength())try{let V=await PP.default.promisify(n.getLength).call(n);Number.isFinite(V)&&V>=0&&T.setContentLength(V)}catch{}}else if(z.isBlob(n)||z.isFile(n))n.size&&T.setContentType(n.type||"application/octet-stream"),T.setContentLength(n.size||0),n=fn.default.Readable.from(eu(n));else if(n&&!z.isStream(n)){if(!Buffer.isBuffer(n))if(z.isArrayBuffer(n))n=Buffer.from(new Uint8Array(n));else if(z.isString(n))n=Buffer.from(n,"utf-8");else return s(new ce("Data after transformation must be a string, an ArrayBuffer, a Buffer, or a Stream",ce.ERR_BAD_REQUEST,e));if(T.setContentLength(n.length,!1),e.maxBodyLength>-1&&n.length>e.maxBodyLength)return s(new ce("Request body larger than maxBodyLength limit",ce.ERR_BAD_REQUEST,e))}let $=z.toFiniteNumber(T.getContentLength());z.isArray(L)?(D=L[0],F=L[1]):D=F=L,n&&(R||D)&&(z.isStream(n)||(n=fn.default.Readable.from(n,{objectMode:!1})),n=fn.default.pipeline([n,new Qm({maxRate:z.toFiniteNumber(D)})],z.noop),R&&n.on("progress",bP(n,ki($,Ma(ji(R),!1,3)))));let I;if(e.auth){let V=e.auth.username||"",K=e.auth.password||"";I=V+":"+K}if(!I&&w.username){let V=w.username,K=w.password;I=V+":"+K}I&&T.delete("authorization");let k;try{k=on(w.pathname+w.search,e.params,e.paramsSerializer).replace(/^\?/,"")}catch(V){let K=new Error(V.message);return K.config=e,K.url=e.url,K.exists=!0,s(K)}T.set("Accept-Encoding","gzip, compress, deflate"+(yP?", br":""),!1);let N={path:k,method:d,headers:T.toJSON(),agents:{http:e.httpAgent,https:e.httpsAgent},auth:I,protocol:C,family:l,beforeRedirect:z2,beforeRedirects:{}};!z.isUndefined(o)&&(N.lookup=o),e.socketPath?N.socketPath=e.socketPath:(N.hostname=w.hostname.startsWith("[")?w.hostname.slice(1,-1):w.hostname,N.port=w.port,TP(N,e.proxy,C+"//"+w.hostname+(w.port?":"+w.port:"")+N.path));let B,W=U2.test(N.protocol);if(N.agent=W?e.httpsAgent:e.httpAgent,e.transport?B=e.transport:e.maxRedirects===0?B=W?EP.default:SP.default:(e.maxRedirects&&(N.maxRedirects=e.maxRedirects),e.beforeRedirect&&(N.beforeRedirects.config=e.beforeRedirect),B=W?M2:q2),e.maxBodyLength>-1?N.maxBodyLength=e.maxBodyLength:N.maxBodyLength=1/0,e.insecureHTTPParser&&(N.insecureHTTPParser=e.insecureHTTPParser),m=B.request(N,function(K){if(m.destroyed)return;let Q=[K],X=+K.headers["content-length"];if(O||F){let Ce=new Qm({maxRate:z.toFiniteNumber(F)});O&&Ce.on("progress",bP(Ce,ki(X,Ma(ji(O),!0,3)))),Q.push(Ce)}let ae=K,ue=K.req||m;if(e.decompress!==!1&&K.headers["content-encoding"])switch((d==="HEAD"||K.statusCode===204)&&delete K.headers["content-encoding"],(K.headers["content-encoding"]||"").toLowerCase()){case"gzip":case"x-gzip":case"compress":case"x-compress":Q.push(Ua.default.createUnzip(gP)),delete K.headers["content-encoding"];break;case"deflate":Q.push(new fP),Q.push(Ua.default.createUnzip(gP)),delete K.headers["content-encoding"];break;case"br":yP&&(Q.push(Ua.default.createBrotliDecompress(F2)),delete K.headers["content-encoding"])}ae=Q.length>1?fn.default.pipeline(Q,z.noop):Q[0];let Qe=fn.default.finished(ae,()=>{Qe(),v()}),ye={status:K.statusCode,statusText:K.statusMessage,headers:new wt(K.headers),config:e,request:ue};if(c==="stream")ye.data=ae,ya(a,s,ye);else{let Ce=[],Ae=0;ae.on("data",function(U){Ce.push(U),Ae+=U.length,e.maxContentLength>-1&&Ae>e.maxContentLength&&(p=!0,ae.destroy(),s(new ce("maxContentLength size of "+e.maxContentLength+" exceeded",ce.ERR_BAD_RESPONSE,e,ue)))}),ae.on("aborted",function(){if(p)return;let U=new ce("stream has been aborted",ce.ERR_BAD_RESPONSE,e,ue);ae.destroy(U),s(U)}),ae.on("error",function(U){m.destroyed||s(ce.from(U,null,e,ue))}),ae.on("end",function(){try{let U=Ce.length===1?Ce[0]:Buffer.concat(Ce);c!=="arraybuffer"&&(U=U.toString(u),(!u||u==="utf8")&&(U=z.stripBOM(U))),ye.data=U}catch(U){return s(ce.from(U,null,e,ye.request,ye))}ya(a,s,ye)})}f.once("abort",Ce=>{ae.destroyed||(ae.emit("error",Ce),ae.destroy())})}),f.once("abort",V=>{s(V),m.destroy(V)}),m.on("error",function(K){s(ce.from(K,null,e,m))}),m.on("socket",function(K){K.setKeepAlive(!0,1e3*60)}),e.timeout){let V=parseInt(e.timeout,10);if(Number.isNaN(V)){s(new ce("error trying to parse `config.timeout` to int",ce.ERR_BAD_OPTION_VALUE,e,m));return}m.setTimeout(V,function(){if(h)return;let Q=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",X=e.transitional||Pi;e.timeoutErrorMessage&&(Q=e.timeoutErrorMessage),s(new ce(Q,X.clarifyTimeoutError?ce.ETIMEDOUT:ce.ECONNABORTED,e,m)),g()})}if(z.isStream(n)){let V=!1,K=!1;n.on("end",()=>{V=!0}),n.once("error",Q=>{K=!0,m.destroy(Q)}),n.on("close",()=>{!V&&!K&&g(new _r("Request stream has been aborted",e,m))}),n.pipe(m)}else m.end(n)})};var IP=lt.hasStandardBrowserEnv?((t,e)=>r=>(r=new URL(r,lt.origin),t.protocol===r.protocol&&t.host===r.host&&(e||t.port===r.port)))(new URL(lt.origin),lt.navigator&&/(msie|trident)/i.test(lt.navigator.userAgent)):()=>!0;var AP=lt.hasStandardBrowserEnv?{write(t,e,r,a,s,i){let n=[t+"="+encodeURIComponent(e)];z.isNumber(r)&&n.push("expires="+new Date(r).toGMTString()),z.isString(a)&&n.push("path="+a),z.isString(s)&&n.push("domain="+s),i===!0&&n.push("secure"),document.cookie=n.join("; ")},read(t){let e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};var kP=t=>t instanceof wt?{...t}:t;function aa(t,e){e=e||{};let r={};function a(c,u,d,h){return z.isPlainObject(c)&&z.isPlainObject(u)?z.merge.call({caseless:h},c,u):z.isPlainObject(u)?z.merge({},u):z.isArray(u)?u.slice():u}function s(c,u,d,h){if(z.isUndefined(u)){if(!z.isUndefined(c))return a(void 0,c,d,h)}else return a(c,u,d,h)}function i(c,u){if(!z.isUndefined(u))return a(void 0,u)}function n(c,u){if(z.isUndefined(u)){if(!z.isUndefined(c))return a(void 0,c)}else return a(void 0,u)}function o(c,u,d){if(d in e)return a(c,u);if(d in t)return a(void 0,c)}let l={url:i,method:i,data:i,baseURL:n,transformRequest:n,transformResponse:n,paramsSerializer:n,timeout:n,timeoutMessage:n,withCredentials:n,withXSRFToken:n,adapter:n,responseType:n,xsrfCookieName:n,xsrfHeaderName:n,onUploadProgress:n,onDownloadProgress:n,decompress:n,maxContentLength:n,maxBodyLength:n,beforeRedirect:n,transport:n,httpAgent:n,httpsAgent:n,cancelToken:n,socketPath:n,responseEncoding:n,validateStatus:o,headers:(c,u,d)=>s(kP(c),kP(u),d,!0)};return z.forEach(Object.keys(Object.assign({},t,e)),function(u){let d=l[u]||s,h=d(t[u],e[u],u);z.isUndefined(h)&&d!==o||(r[u]=h)}),r}var tu=t=>{let e=aa({},t),{data:r,withXSRFToken:a,xsrfHeaderName:s,xsrfCookieName:i,headers:n,auth:o}=e;e.headers=n=wt.from(n),e.url=on(cn(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),o&&n.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):"")));let l;if(z.isFormData(r)){if(lt.hasStandardBrowserEnv||lt.hasStandardBrowserWebWorkerEnv)n.setContentType(void 0);else if((l=n.getContentType())!==!1){let[c,...u]=l?l.split(";").map(d=>d.trim()).filter(Boolean):[];n.setContentType([c||"multipart/form-data",...u].join("; "))}}if(lt.hasStandardBrowserEnv&&(a&&z.isFunction(a)&&(a=a(e)),a||a!==!1&&IP(e.url))){let c=s&&i&&AP.read(i);c&&n.set(s,c)}return e};var H2=typeof XMLHttpRequest<"u",jP=H2&&function(t){return new Promise(function(r,a){let s=tu(t),i=s.data,n=wt.from(s.headers).normalize(),{responseType:o,onUploadProgress:l,onDownloadProgress:c}=s,u,d,h,p,m;function f(){p&&p(),m&&m(),s.cancelToken&&s.cancelToken.unsubscribe(u),s.signal&&s.signal.removeEventListener("abort",u)}let v=new XMLHttpRequest;v.open(s.method.toUpperCase(),s.url,!0),v.timeout=s.timeout;function g(){if(!v)return;let w=wt.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),T={data:!o||o==="text"||o==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:w,config:t,request:v};ya(function(O){r(O),f()},function(O){a(O),f()},T),v=null}"onloadend"in v?v.onloadend=g:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(g)},v.onabort=function(){v&&(a(new ce("Request aborted",ce.ECONNABORTED,t,v)),v=null)},v.onerror=function(){a(new ce("Network Error",ce.ERR_NETWORK,t,v)),v=null},v.ontimeout=function(){let C=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded",T=s.transitional||Pi;s.timeoutErrorMessage&&(C=s.timeoutErrorMessage),a(new ce(C,T.clarifyTimeoutError?ce.ETIMEDOUT:ce.ECONNABORTED,t,v)),v=null},i===void 0&&n.setContentType(null),"setRequestHeader"in v&&z.forEach(n.toJSON(),function(C,T){v.setRequestHeader(T,C)}),z.isUndefined(s.withCredentials)||(v.withCredentials=!!s.withCredentials),o&&o!=="json"&&(v.responseType=s.responseType),c&&([h,m]=Ma(c,!0),v.addEventListener("progress",h)),l&&v.upload&&([d,p]=Ma(l),v.upload.addEventListener("progress",d),v.upload.addEventListener("loadend",p)),(s.cancelToken||s.signal)&&(u=w=>{v&&(a(!w||w.type?new _r(null,t,v):w),v.abort(),v=null)},s.cancelToken&&s.cancelToken.subscribe(u),s.signal&&(s.signal.aborted?u():s.signal.addEventListener("abort",u)));let b=Ko(s.url);if(b&&lt.protocols.indexOf(b)===-1){a(new ce("Unsupported protocol "+b+":",ce.ERR_BAD_REQUEST,t));return}v.send(i||null)})};var G2=(t,e)=>{let{length:r}=t=t?t.filter(Boolean):[];if(e||r){let a=new AbortController,s,i=function(c){if(!s){s=!0,o();let u=c instanceof Error?c:this.reason;a.abort(u instanceof ce?u:new _r(u instanceof Error?u.message:u))}},n=e&&setTimeout(()=>{n=null,i(new ce(`timeout ${e} of ms exceeded`,ce.ETIMEDOUT))},e),o=()=>{t&&(n&&clearTimeout(n),n=null,t.forEach(c=>{c.unsubscribe?c.unsubscribe(i):c.removeEventListener("abort",i)}),t=null)};t.forEach(c=>c.addEventListener("abort",i));let{signal:l}=a;return l.unsubscribe=()=>z.asap(o),l}},DP=G2;var W2=function*(t,e){let r=t.byteLength;if(!e||r<e){yield t;return}let a=0,s;for(;a<r;)s=a+e,yield t.slice(a,s),a=s},K2=async function*(t,e){for await(let r of J2(t))yield*W2(r,e)},J2=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}let e=t.getReader();try{for(;;){let{done:r,value:a}=await e.read();if(r)break;yield a}}finally{await e.cancel()}},eh=(t,e,r,a)=>{let s=K2(t,e),i=0,n,o=l=>{n||(n=!0,a&&a(l))};return new ReadableStream({async pull(l){try{let{done:c,value:u}=await s.next();if(c){o(),l.close();return}let d=u.byteLength;if(r){let h=i+=d;r(h)}l.enqueue(new Uint8Array(u))}catch(c){throw o(c),c}},cancel(l){return o(l),s.return()}},{highWaterMark:2})};var au=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",$P=au&&typeof ReadableStream=="function",Q2=au&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),LP=(t,...e)=>{try{return!!t(...e)}catch{return!1}},Y2=$P&&LP(()=>{let t=!1,e=new Request(lt.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),NP=64*1024,th=$P&&LP(()=>z.isReadableStream(new Response("").body)),ru={stream:th&&(t=>t.body)};au&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!ru[e]&&(ru[e]=z.isFunction(t[e])?r=>r[e]():(r,a)=>{throw new ce(`Response type '${e}' is not supported`,ce.ERR_NOT_SUPPORT,a)})})})(new Response);var X2=async t=>{if(t==null)return 0;if(z.isBlob(t))return t.size;if(z.isSpecCompliantForm(t))return(await new Request(lt.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(z.isArrayBufferView(t)||z.isArrayBuffer(t))return t.byteLength;if(z.isURLSearchParams(t)&&(t=t+""),z.isString(t))return(await Q2(t)).byteLength},e9=async(t,e)=>{let r=z.toFiniteNumber(t.getContentLength());return r??X2(e)},FP=au&&(async t=>{let{url:e,method:r,data:a,signal:s,cancelToken:i,timeout:n,onDownloadProgress:o,onUploadProgress:l,responseType:c,headers:u,withCredentials:d="same-origin",fetchOptions:h}=tu(t);c=c?(c+"").toLowerCase():"text";let p=DP([s,i&&i.toAbortSignal()],n),m,f=p&&p.unsubscribe&&(()=>{p.unsubscribe()}),v;try{if(l&&Y2&&r!=="get"&&r!=="head"&&(v=await e9(u,a))!==0){let T=new Request(e,{method:"POST",body:a,duplex:"half"}),R;if(z.isFormData(a)&&(R=T.headers.get("content-type"))&&u.setContentType(R),T.body){let[O,L]=ki(v,Ma(ji(l)));a=eh(T.body,NP,O,L)}}z.isString(d)||(d=d?"include":"omit");let g="credentials"in Request.prototype;m=new Request(e,{...h,signal:p,method:r.toUpperCase(),headers:u.normalize().toJSON(),body:a,duplex:"half",credentials:g?d:void 0});let b=await fetch(m),w=th&&(c==="stream"||c==="response");if(th&&(o||w&&f)){let T={};["status","statusText","headers"].forEach(D=>{T[D]=b[D]});let R=z.toFiniteNumber(b.headers.get("content-length")),[O,L]=o&&ki(R,Ma(ji(o),!0))||[];b=new Response(eh(b.body,NP,O,()=>{L&&L(),f&&f()}),T)}c=c||"text";let C=await ru[z.findKey(ru,c)||"text"](b,t);return!w&&f&&f(),await new Promise((T,R)=>{ya(T,R,{data:C,headers:wt.from(b.headers),status:b.status,statusText:b.statusText,config:t,request:m})})}catch(g){throw f&&f(),g&&g.name==="TypeError"&&/fetch/i.test(g.message)?Object.assign(new ce("Network Error",ce.ERR_NETWORK,t,m),{cause:g.cause||g}):ce.from(g,g&&g.code,t,m)}});var rh={http:OP,xhr:jP,fetch:FP};z.forEach(rh,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});var qP=t=>`- ${t}`,t9=t=>z.isFunction(t)||t===null||t===!1,su={getAdapter:t=>{t=z.isArray(t)?t:[t];let{length:e}=t,r,a,s={};for(let i=0;i<e;i++){r=t[i];let n;if(a=r,!t9(r)&&(a=rh[(n=String(r)).toLowerCase()],a===void 0))throw new ce(`Unknown adapter '${n}'`);if(a)break;s[n||"#"+i]=a}if(!a){let i=Object.entries(s).map(([o,l])=>`adapter ${o} `+(l===!1?"is not supported by the environment":"is not available in the build")),n=e?i.length>1?`since :
`+i.map(qP).join(`
`):" "+qP(i[0]):"as no adapter specified";throw new ce("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return a},adapters:rh};function ah(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new _r(null,t)}function nu(t){return ah(t),t.headers=wt.from(t.headers),t.data=Bo.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),su.getAdapter(t.adapter||Ri.adapter)(t).then(function(a){return ah(t),a.data=Bo.call(t,t.transformResponse,a),a.headers=wt.from(a.headers),a},function(a){return Zo(a)||(ah(t),a&&a.response&&(a.response.data=Bo.call(t,t.transformResponse,a.response),a.response.headers=wt.from(a.response.headers))),Promise.reject(a)})}var iu={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{iu[t]=function(a){return typeof a===t||"a"+(e<1?"n ":" ")+t}});var MP={};iu.transitional=function(e,r,a){function s(i,n){return"[Axios v"+pn+"] Transitional option '"+i+"'"+n+(a?". "+a:"")}return(i,n,o)=>{if(e===!1)throw new ce(s(n," has been removed"+(r?" in "+r:"")),ce.ERR_DEPRECATED);return r&&!MP[n]&&(MP[n]=!0,console.warn(s(n," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(i,n,o):!0}};iu.spelling=function(e){return(r,a)=>(console.warn(`${a} is likely a misspelling of ${e}`),!0)};function r9(t,e,r){if(typeof t!="object")throw new ce("options must be an object",ce.ERR_BAD_OPTION_VALUE);let a=Object.keys(t),s=a.length;for(;s-- >0;){let i=a[s],n=e[i];if(n){let o=t[i],l=o===void 0||n(o,i,t);if(l!==!0)throw new ce("option "+i+" must be "+l,ce.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new ce("Unknown option "+i,ce.ERR_BAD_OPTION)}}var Qo={assertOptions:r9,validators:iu};var xa=Qo.validators,Di=class{constructor(e){this.defaults=e,this.interceptors={request:new Sm,response:new Sm}}async request(e,r){try{return await this._request(e,r)}catch(a){if(a instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;let i=s.stack?s.stack.replace(/^.+\n/,""):"";try{a.stack?i&&!String(a.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(a.stack+=`
`+i):a.stack=i}catch{}}throw a}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=aa(this.defaults,r);let{transitional:a,paramsSerializer:s,headers:i}=r;a!==void 0&&Qo.assertOptions(a,{silentJSONParsing:xa.transitional(xa.boolean),forcedJSONParsing:xa.transitional(xa.boolean),clarifyTimeoutError:xa.transitional(xa.boolean)},!1),s!=null&&(z.isFunction(s)?r.paramsSerializer={serialize:s}:Qo.assertOptions(s,{encode:xa.function,serialize:xa.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Qo.assertOptions(r,{baseUrl:xa.spelling("baseURL"),withXsrfToken:xa.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let n=i&&z.merge(i.common,i[r.method]);i&&z.forEach(["delete","get","head","post","put","patch","common"],m=>{delete i[m]}),r.headers=wt.concat(n,i);let o=[],l=!0;this.interceptors.request.forEach(function(f){typeof f.runWhen=="function"&&f.runWhen(r)===!1||(l=l&&f.synchronous,o.unshift(f.fulfilled,f.rejected))});let c=[];this.interceptors.response.forEach(function(f){c.push(f.fulfilled,f.rejected)});let u,d=0,h;if(!l){let m=[nu.bind(this),void 0];for(m.unshift.apply(m,o),m.push.apply(m,c),h=m.length,u=Promise.resolve(r);d<h;)u=u.then(m[d++],m[d++]);return u}h=o.length;let p=r;for(d=0;d<h;){let m=o[d++],f=o[d++];try{p=m(p)}catch(v){f.call(this,v);break}}try{u=nu.call(this,p)}catch(m){return Promise.reject(m)}for(d=0,h=c.length;d<h;)u=u.then(c[d++],c[d++]);return u}getUri(e){e=aa(this.defaults,e);let r=cn(e.baseURL,e.url,e.allowAbsoluteUrls);return on(r,e.params,e.paramsSerializer)}};z.forEach(["delete","get","head","options"],function(e){Di.prototype[e]=function(r,a){return this.request(aa(a||{},{method:e,url:r,data:(a||{}).data}))}});z.forEach(["post","put","patch"],function(e){function r(a){return function(i,n,o){return this.request(aa(o||{},{method:e,headers:a?{"Content-Type":"multipart/form-data"}:{},url:i,data:n}))}}Di.prototype[e]=r(),Di.prototype[e+"Form"]=r(!0)});var Yo=Di;var sh=class t{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});let a=this;this.promise.then(s=>{if(!a._listeners)return;let i=a._listeners.length;for(;i-- >0;)a._listeners[i](s);a._listeners=null}),this.promise.then=s=>{let i,n=new Promise(o=>{a.subscribe(o),i=o}).then(s);return n.cancel=function(){a.unsubscribe(i)},n},e(function(i,n,o){a.reason||(a.reason=new _r(i,n,o),r(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;let r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){let e=new AbortController,r=a=>{e.abort(a)};return this.subscribe(r),e.signal.unsubscribe=()=>this.unsubscribe(r),e.signal}static source(){let e;return{token:new t(function(s){e=s}),cancel:e}}},UP=sh;function nh(t){return function(r){return t.apply(null,r)}}function ih(t){return z.isObject(t)&&t.isAxiosError===!0}var oh={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(oh).forEach(([t,e])=>{oh[e]=t});var zP=oh;function BP(t){let e=new Yo(t),r=No(Yo.prototype.request,e);return z.extend(r,Yo.prototype,e,{allOwnKeys:!0}),z.extend(r,e,null,{allOwnKeys:!0}),r.create=function(s){return BP(aa(t,s))},r}var Ot=BP(Ri);Ot.Axios=Yo;Ot.CanceledError=_r;Ot.CancelToken=UP;Ot.isCancel=Zo;Ot.VERSION=pn;Ot.toFormData=ms;Ot.AxiosError=ce;Ot.Cancel=Ot.CanceledError;Ot.all=function(e){return Promise.all(e)};Ot.spread=nh;Ot.isAxiosError=ih;Ot.mergeConfig=aa;Ot.AxiosHeaders=wt;Ot.formToJSON=t=>Gl(z.isHTMLForm(t)?new FormData(t):t);Ot.getAdapter=su.getAdapter;Ot.HttpStatusCode=zP;Ot.default=Ot;var Ni=Ot;var{Axios:yee,AxiosError:xee,CanceledError:bee,isCancel:_ee,CancelToken:wee,VERSION:See,all:Eee,Cancel:Pee,isAxiosError:Ree,spread:Cee,toFormData:Tee,AxiosHeaders:Oee,HttpStatusCode:Iee,formToJSON:Aee,getAdapter:kee,mergeConfig:jee}=Ni;var ou=class{constructor(e){this.logger=e;this.codeVerifier=this.generateCodeVerifier()}codeVerifier;server=null;manualAuthCodeResolver=null;getOAuthConfig(){return{CLAUDE_AI_AUTHORIZE_URL:"https://claude.ai/oauth/authorize",CONSOLE_AUTHORIZE_URL:"https://console.anthropic.com/oauth/authorize",TOKEN_URL:"https://console.anthropic.com/v1/oauth/token",CLIENT_ID:"9d1c250a-e61b-44d9-88ed-5944d1962f5e",MANUAL_REDIRECT_URL:"https://console.anthropic.com/oauth/code/callback",SCOPES:["org:create_api_key","user:profile","user:inference"],API_KEY_URL:"https://api.anthropic.com/api/oauth/claude_cli/create_api_key",SUCCESS_URL:"https://console.anthropic.com/oauth/code/success?app=claude-code",PROFILE_URL:"https://api.anthropic.com/api/oauth/profile"}}async startOAuthFlow(e,r){let a=await this.startCallbackServer(),s=this.generateCodeChallenge(this.codeVerifier),i=this.generateState(),n=this.buildAuthUrls({codeChallenge:s,state:i,port:a,loginWithClaudeAi:e});await r(n);let{code:o,isManualFlow:l}=await this.waitForAuthorizationCode(i,a);return await this.exchangeCodeForTokens(o,i,this.codeVerifier,l?void 0:a)}buildAuthUrls(e){let r=this.getOAuthConfig(),a=e.loginWithClaudeAi?r.CLAUDE_AI_AUTHORIZE_URL:r.CONSOLE_AUTHORIZE_URL,s=new URL(a);s.searchParams.set("code","true"),s.searchParams.set("client_id",r.CLIENT_ID),s.searchParams.set("response_type","code");let i=e.loginWithClaudeAi?["user:inference","user:profile"]:r.SCOPES;s.searchParams.set("scope",i.join(" ")),s.searchParams.set("code_challenge",e.codeChallenge),s.searchParams.set("code_challenge_method","S256"),s.searchParams.set("state",e.state),s.searchParams.set("redirect_uri",`http://localhost:${e.port}/callback`);let n=s.toString();s.searchParams.set("redirect_uri",r.MANUAL_REDIRECT_URL);let o=s.toString();return{automaticRedirectUrl:n,manualRedirectUrl:o}}async startCallbackServer(){return new Promise((e,r)=>{this.server=ZP.createServer(),this.server.listen(0,"127.0.0.1",()=>{let a=this.server.address();if(!a||typeof a=="string"){r(new Error("Failed to get server address"));return}e(a.port)}),this.server.on("error",r)})}async waitForAuthorizationCode(e,r){return new Promise((a,s)=>{if(!this.server){s(new Error("Server not started"));return}this.manualAuthCodeResolver=i=>{let n=i.trim().split("#");if(n[1]!==e)throw new Error("Invalid state parameter");a({code:n[0],isManualFlow:!0})},this.server.on("request",(i,n)=>{let o=new URL(i.url,`http://localhost:${r}`);if(o.pathname==="/callback"){let l=o.searchParams.get("code");if(o.searchParams.get("state")!==e){n.writeHead(400),n.end("Invalid state parameter"),s(new Error("Invalid state parameter"));return}if(!l){n.writeHead(400),n.end("Missing authorization code"),s(new Error("Missing authorization code"));return}let u=this.getOAuthConfig();n.writeHead(302,{Location:u.SUCCESS_URL}),n.end(),this.manualAuthCodeResolver=null,a({code:l,isManualFlow:!1})}})})}async exchangeCodeForTokens(e,r,a,s){let i=this.getOAuthConfig(),n={grant_type:"authorization_code",code:e,redirect_uri:s?`http://localhost:${s}/callback`:i.MANUAL_REDIRECT_URL,client_id:i.CLIENT_ID,code_verifier:a,state:r};try{let o=await Ni.post(i.TOKEN_URL,n,{headers:{"Content-Type":"application/json"}});if(o.status!==200)throw new Error(`Token exchange failed: ${o.statusText}`);let l=o.data,c={accessToken:l.access_token,refreshToken:l.refresh_token||null,expiresAt:l.expires_in?Date.now()+l.expires_in*1e3:null,scopes:l.scope?l.scope.split(" "):[],subscriptionType:null};if(c.scopes.includes("user:profile")){let u=await this.fetchProfileInfo(c.accessToken);c.subscriptionType=u.subscriptionType}return c}catch(o){let l=o;throw new Error(`Token exchange failed: ${l.response?.data?.error||l.response?.data?.message||l.message||"Unknown error"}`)}}handleManualAuthCodeInput(e){this.manualAuthCodeResolver&&e&&(this.manualAuthCodeResolver(e),this.manualAuthCodeResolver=null,this.cleanup())}async createApiKey(e){let r=this.getOAuthConfig();try{return(await Ni.post(r.API_KEY_URL,null,{headers:{Authorization:`Bearer ${e}`}})).data?.raw_key||null}catch{return null}}cleanup(){this.server&&(this.server.close(),this.server=null)}generateCodeVerifier(){return Xo.randomBytes(32).toString("base64url")}generateCodeChallenge(e){return Xo.createHash("sha256").update(e).digest("base64url")}generateState(){return Xo.randomBytes(32).toString("base64url")}async fetchProfileInfo(e){let r=this.getOAuthConfig();try{let s=(await Ni.get(r.PROFILE_URL,{headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}})).data?.organization?.organization_type,i=null;switch(s){case"claude_max":i="max";break;case"claude_pro":i="pro";break;case"claude_enterprise":i="enterprise";break;case"claude_team":i="team";break;default:i=null;break}return{subscriptionType:i}}catch(a){return this.logger.error(`Failed to fetch subscription: ${a}`),{subscriptionType:null}}}};var $i=class{constructor(e,r){this.logger=e;this.env=r;this.logger.log("AuthManager initialized")}currentOAuthService=null;getAuthStatus(){if(this.logger.log("Getting authentication status"),"CLAUDE_CODE_USE_BEDROCK"in this.env||"CLAUDE_CODE_USE_VERTEX"in this.env)return{authMethod:"3p",email:null,subscriptionType:null};let e=this.getApiKey(),r=this.getOAuthTokens();if(!e&&!r){this.logger.log("No authentication found");return}let a;r?a=r.scopes.includes("user:inference")?"claudeai":"console":a="api-key";let s={authMethod:a,email:null,subscriptionType:r?.subscriptionType||null};return this.logger.log(`Auth status: method=${s.authMethod}`),s}getOAuthTokens(){let r=this.readSecureStorage()?.claudeAiOauth;return r?(this.logger.log("OAuth tokens found in secure storage"),{accessToken:r.accessToken,refreshToken:r.refreshToken||null,expiresAt:r.expiresAt||null,scopes:r.scopes,subscriptionType:r.subscriptionType}):null}getApiKey(){if(process.platform==="darwin")try{let a=(0,vn.quote)(["security","find-generic-password","-a",process.env.USER||"user","-w","-s","Claude Code"]),s=(0,hn.execSync)(a,{encoding:"utf8"}).trim();if(s)return this.logger.log("API key found in macOS keychain"),s}catch{this.logger.log("Keychain read failed, trying file fallback")}let e=this.getConfigPath(),r=mn.join(e,"config.json");if(xt.existsSync(r))try{let a=JSON.parse(xt.readFileSync(r,"utf8"));if(a.primaryApiKey)return this.logger.log("API key found in config file"),a.primaryApiKey}catch{this.logger.warn("Failed to read config file")}return null}readSecureStorage(){if(process.platform==="darwin")try{let r=(0,vn.quote)(["security","find-generic-password","-a",process.env.USER||"user","-w","-s","Claude Code-credentials"]),a=(0,hn.execSync)(r,{encoding:"utf8"}).trim();if(a)return JSON.parse(a)}catch{this.logger.log("Keychain credentials read failed")}let e=mn.join(this.getConfigPath(),".credentials.json");if(xt.existsSync(e))try{let r=xt.readFileSync(e,"utf8");return JSON.parse(r)}catch{this.logger.log("Failed to read credentials file")}return null}async saveOAuthTokens(e){this.logger.log("Saving OAuth tokens to secure storage");let r=this.readSecureStorage()||{};if(r.claudeAiOauth={accessToken:e.accessToken,refreshToken:e.refreshToken||"",expiresAt:e.expiresAt||Date.now()+1*60*60*1e3,scopes:e.scopes,subscriptionType:e.subscriptionType},process.platform==="darwin")try{let i=JSON.stringify(r),n=(0,vn.quote)(["security","add-generic-password","-U","-a",process.env.USER||"user","-s","Claude Code-credentials","-w",i]);return(0,hn.execSync)(n),this.logger.log("OAuth tokens saved to macOS keychain"),!0}catch(i){this.logger.error(`Failed to save to keychain: ${i}`)}let a=this.getConfigPath();xt.existsSync(a)||xt.mkdirSync(a,{recursive:!0});let s=mn.join(a,".credentials.json");try{return xt.writeFileSync(s,JSON.stringify(r),{encoding:"utf8",mode:384}),this.logger.log("OAuth tokens saved to credentials file"),!0}catch(i){return this.logger.error(`Failed to save credentials: ${i}`),!1}}async saveApiKey(e){if(this.logger.log("Saving API key"),process.platform==="darwin")try{let i=(0,vn.quote)(["security","add-generic-password","-U","-a",process.env.USER||"user","-s","Claude Code","-w",e]);return(0,hn.execSync)(i),this.logger.log("API key saved to macOS keychain"),!0}catch(i){throw this.logger.error(`Failed to save API key to keychain: ${i}`),new Error("Unable to save API key to macOS Keychain. Please ensure VS Code has keychain access permissions.")}let r=this.getConfigPath();xt.existsSync(r)||xt.mkdirSync(r,{recursive:!0});let a=mn.join(r,"config.json"),s={};if(xt.existsSync(a))try{s=JSON.parse(xt.readFileSync(a,"utf8"))}catch{}s.primaryApiKey=e;try{return xt.writeFileSync(a,JSON.stringify(s,null,2),"utf8"),xt.chmodSync(a,384),this.logger.log("API key saved to config file"),!0}catch(i){return this.logger.error(`Failed to save API key: ${i}`),!1}}async logout(){this.logger.log("Logging out - clearing stored credentials");let e=!0;if(process.platform==="darwin"){try{let i=(0,vn.quote)(["security","delete-generic-password","-a",process.env.USER||"user","-s","Claude Code-credentials"]);(0,hn.execSync)(i)}catch{}try{let i=(0,vn.quote)(["security","delete-generic-password","-a",process.env.USER||"user","-s","Claude Code"]);(0,hn.execSync)(i)}catch{}}let r=this.getConfigPath(),a=mn.join(r,".credentials.json"),s=mn.join(r,"config.json");if(xt.existsSync(a))try{xt.unlinkSync(a)}catch{e=!1}if(xt.existsSync(s))try{let i=JSON.parse(xt.readFileSync(s,"utf8"));delete i.primaryApiKey,xt.writeFileSync(s,JSON.stringify(i,null,2),"utf8")}catch{e=!1}return this.logger.log(`Logout ${e?"successful":"failed"}`),e}getConfigPath(){return ei()}getAccessToken(){return this.getOAuthTokens()?.accessToken||null}getApiKeyDirect(){return this.getApiKey()}handleManualAuthCode(e){this.currentOAuthService?(this.logger.log("Handling manual auth code input"),this.currentOAuthService.handleManualAuthCodeInput(e)):this.logger.warn("No active OAuth service to handle manual auth code")}async login(e,r){this.logger.log(`Starting OAuth login flow: method=${e}`),this.currentOAuthService=new ou(this.logger);try{let a=await this.currentOAuthService.startOAuthFlow(e==="claudeai",r);if(!await this.saveOAuthTokens(a))throw this.logger.error("Failed to save OAuth tokens"),new Error("Failed to save OAuth tokens");if(!a.scopes.includes("user:inference")){this.logger.log("Creating API key for Console user");let n=await this.currentOAuthService.createApiKey(a.accessToken);if(n)await this.saveApiKey(n);else throw this.logger.error("Failed to create API key"),new Error("Failed to create API key")}this.logger.log("Login successful");let i=this.getAuthStatus();if(!i)throw new Error("Failed to retrieve auth status after login");return i}finally{this.currentOAuthService&&(this.currentOAuthService.cleanup(),this.currentOAuthService=null)}}};var a9=`
# VSCode Extension Context

You are running inside a VSCode native extension environment.

## Code References in Text
IMPORTANT: When referencing files or code locations, use markdown link syntax to make them clickable:
- For files: [filename.ts](src/filename.ts)
- For specific lines: [filename.ts:42](src/filename.ts#L42)
- For folders: [src/utils/](src/utils/)
Unless explicitly asked for by the user, DO NOT USE backtickets \` or HTML tags like code for file references - always use markdown [text](link) format.
The URL links should be relative paths from the root of  the user's workspace.

## User Selection Context
The user's IDE selection (if any) is included in the conversation context and marked with ide_selection tags. This represents code or text the user has highlighted in their editor and may or may not be relevant to their request.`,tc=class extends ll{constructor(r,a,s,i,n,o,l,c,u,d,h,p,m,f,v){super(a,ec(n),s,!!v,new $i(ec(n),cu()));this.context=r;this.cwd=a;this.settings=s;this.webview=i;this.output=n;this.leftTempFileProvider=c;this.rightTempFileProvider=u;this.readOnlyTempFileProvider=d;this.acceptOrRejectDiffs=h;this.getCurrentSelection=p;this.isVisible=m;this.makeVisible=f;this.panelTab=v;o(g=>{this.send({type:"request",channelId:"",requestId:"",request:{type:"insert_at_mention",text:g}})}),l(g=>{this.send({type:"request",channelId:"",requestId:"",request:{type:"selection_changed",selection:g}})})}send(r){this.webview.postMessage({type:"from-extension",message:r})}async processRequest(r,a){if(r.request.type==="get_current_selection")return{type:"get_current_selection_response",selection:this.getCurrentSelection()};if(r.request.type==="new_conversation_tab")return await ut.commands.executeCommand("claude-vscode.editor.open",ut.ViewColumn.Active),{type:"new_conversation_tab_response"};if(r.request.type==="rename_tab")return this.panelTab&&(this.panelTab.title=r.request.title),{type:"rename_tab_response"};if(r.request.type==="show_notification"){let{message:s,severity:i,buttons:n,onlyIfNotVisible:o}=r.request;if(o&&this.isVisible())return{type:"show_notification_response"};let l;switch(i){case"error":l=await ut.window.showErrorMessage(s,...n||[]);break;case"warning":l=await ut.window.showWarningMessage(s,...n||[]);break;case"info":default:l=await ut.window.showInformationMessage(s,...n||[]);break}return l&&this.makeVisible(),{type:"show_notification_response",buttonValue:l}}return super.processRequest(r,a)}spawnClaude(r,a,s,i,n,o){i9();let l=cu(),c={cwd:n||this.cwd,resume:a,canUseTool:s,permissionMode:o===void 0?"default":o,model:i===null?"default":i,stderr:h=>{this.output.trace(`From claude: ${h}`)},env:l,appendSystemPrompt:a9};if(!ut.workspace.getConfiguration("claude-code").get("useNodeExecution",!1)){let h=n9(this.context);sa.existsSync(h)&&(c.pathToClaudeCodeExecutable=h)}return c.pathToClaudeCodeExecutable||(o9(),c.pathToClaudeCodeExecutable=this.context.asAbsolutePath((0,ba.join)("resources","claude-code","cli.js"))),this.output.info(`Spawning Claude with SDK query function - cwd: ${c.cwd}, permission mode: ${o}, version: 2.0.1, ${c.pathToClaudeCodeExecutable}, resume: ${a}`),process.env.CLAUDE_CODE_ENTRYPOINT="claude-vscode",F0({prompt:r,options:c})}async openFile(r,a){let s=(0,ba.isAbsolute)(r)?r:(0,ba.join)(this.cwd,r);if(!sa.existsSync(s)&&!(0,ba.isAbsolute)(r)){let n=await Yp(r);n.length>0&&(s=(0,ba.join)(this.cwd,n[0].path))}let i=ut.Uri.file(s);if(sa.existsSync(s)&&sa.statSync(s).isDirectory()){ut.commands.executeCommand("revealInExplorer",i);return}ut.window.showTextDocument(i).then(n=>{if(a){let o=new ut.Range(new ut.Position((a.startLine||1)-1,0),new ut.Position((a.endLine||a.startLine||1)-1,0));n.revealRange(o,ut.TextEditorRevealType.InCenter),n.selection=new ut.Selection(o.start,o.end)}})}openConfigFile(r){let a,s=`{
  "mcpServers": {}
}
`,i=ei(),n=(0,ba.join)(i,".claude.json");switch(r){case"mcp-local":case"mcp-user":a=n;break;case"mcp-project":a=(0,ba.join)(this.cwd,".mcp.json");break;default:a=n;break}sa.existsSync(a)||sa.writeFileSync(a,s,"utf-8");let o=ut.Uri.file(a);ut.workspace.openTextDocument(o).then(l=>{ut.window.showTextDocument(l,{preview:!1})},l=>{this.output.error(`Failed to open config file ${a}: ${l}`)})}async openContent(r,a,s,i){return{type:"open_content_response",updatedContent:await q0(this.output,this.readOnlyTempFileProvider,this.rightTempFileProvider,r,a,s,i)}}async openDiff(r,a,s,i,n){return{type:"open_diff_response",newEdits:await ew(this.output,this.leftTempFileProvider,this.rightTempFileProvider,r,a,s,i,this.acceptOrRejectDiffs,n)}}async openURL(r){await ut.env.openExternal(ut.Uri.parse(r))}getAssetUris(){let r=Jb(),a=s=>this.webview.asWebviewUri(ut.Uri.file(this.context.asAbsolutePath(s))).toString();for(let s of Object.keys(r))r[s]={light:a(r[s].light),dark:a(r[s].dark)};return r}async findFiles(r){let a=ut.workspace.workspaceFolders;if(!a||a.length===0)return[];try{return await W_(r,this.cwd,ec(this.output))}catch(s){return this.output.warn(`Ripgrep search failed, falling back to VSCode findFiles: ${s}`),Yp(r)}}};function ec(t){return{log:(e,...r)=>t.info(e,...r),warn:(e,...r)=>t.warn(e,...r),error:(e,...r)=>t.error(e,...r)}}function s9(){if(process.platform!=="linux")return!1;try{if(sa.existsSync("/lib/libc.musl-x86_64.so.1")||sa.existsSync("/lib/libc.musl-aarch64.so.1"))return!0;let t=yo("ldd /bin/ls 2>/dev/null",{env:process.env,maxBuffer:1e6,timeout:2e4,stdio:["ignore","pipe","pipe"],shell:!0,reject:!1});return t.stdout&&t.stdout.includes("musl")}catch{return!1}}function n9(t){let e=process.platform==="win32"?"claude.exe":"claude",r=s9()?`${process.arch}-musl`:process.arch;return t.asAbsolutePath((0,ba.join)("resources","native-binaries",`${process.platform}-${r}`,e))}function i9(){if(process.platform==="win32")try{yo("where.exe",["git"],{stdio:"pipe",encoding:"utf8"})}catch{throw new Error("Claude Code on Windows requires git-bash (https://git-scm.com/downloads/win). If installed but not in PATH, set environment variable pointing to your bash.exe, similar to: CLAUDE_CODE_GIT_BASH_PATH=C:\\Program Files\\Git\\bin\\bash.exe")}}function o9(){try{let t=process.platform==="win32"?"node.exe":"node",r=yo(t,["--version"],{stdio:"pipe",encoding:"utf8"}).stdout.trim();if(!VP.default.gte(r,"18.0.0"))throw new Error(`Claude Code requires Node.js version 18 or higher. Found version ${r}.`)}catch(t){throw t instanceof Error&&t.message.includes("requires Node.js")?t:new Error("Claude Code requires Node.js version 18 or higher to be installed.")}}function cu(){let e=ut.workspace.getConfiguration("claude-code").get("environmentVariables",[]),r={...process.env};for(let a of e)a.name&&(r[a.name]=a.value||"");return r}var rc=class{constructor(e,r,a,s,i,n,o,l,c,u,d){this.extensionUri=e;this.context=r;this.output=a;this.settings=s;this.leftTempFileProvider=i;this.rightTempFileProvider=n;this.readOnlyTempFileProvider=o;this.acceptOrRejectDiffs=l;this.atMentionEvents=c;this.selectionChangedEvents=u;this.getSelection=d}static viewType="claudeVSCodeSidebar";disposables=[];allComms=new Set;resolveWebviewView(e,r,a){e.webview.options={enableScripts:!0,localResourceRoots:[St.Uri.joinPath(this.extensionUri,"webview"),St.Uri.joinPath(this.extensionUri,"resources")]},e.webview.html=this.getHtmlForWebview(e.webview),e.show(!0);let i=(St.workspace.workspaceFolders?.map(o=>o.uri.fsPath)||[])[0]||ch.homedir(),n=new tc(this.context,i,this.settings,e.webview,this.output,this.atMentionEvents,this.selectionChangedEvents,this.leftTempFileProvider,this.rightTempFileProvider,this.readOnlyTempFileProvider,this.acceptOrRejectDiffs,this.getSelection,()=>e.visible,()=>e.show(),void 0);this.allComms.add(n),e.webview.onDidReceiveMessage(o=>{this.output.info(`Received message from webview: ${JSON.stringify(o)}`),n?.fromClient(o)},null,this.disposables),e.onDidDispose(()=>{n?.shutdown(),this.allComms.delete(n)},null,this.disposables),e.onDidChangeVisibility(()=>{e.visible||n?.closeAllChannels()}),e.show(!0)}dispose(){for(;this.disposables.length;){let e=this.disposables.pop();e&&e.dispose()}}async notifyLogout(){for(let e of this.allComms)e.pushStateUpdate()}createPanel(){let e=!1,r=St.ViewColumn.Beside,a=St.window.tabGroups.all.find(i=>i.tabs.length===0?!1:i.tabs.every(n=>n.input instanceof St.TabInputWebview?n.input.viewType.includes("claudeVSCodePanel"):!1));a&&a.viewColumn?r=a.viewColumn:(r=this.findUnusedColumn(),e=!0);let s=St.window.createWebviewPanel("claudeVSCodePanel","Claude Code",r,{enableScripts:!0,retainContextWhenHidden:!0,localResourceRoots:[St.Uri.joinPath(this.extensionUri,"webview"),St.Uri.joinPath(this.extensionUri,"resources")]});return this.setupPanel(s),{startedInNewColumn:e}}findUnusedColumn(){let e=new Set;St.window.tabGroups.all.forEach(r=>{r.viewColumn!==void 0&&e.add(r.viewColumn)});for(let r=St.ViewColumn.One;r<=St.ViewColumn.Nine;r++)if(!e.has(r))return r;return St.ViewColumn.Beside}setupPanel(e){let a=(St.workspace.workspaceFolders?.map(i=>i.uri.fsPath)||[])[0]||ch.homedir();e.iconPath=St.Uri.file(HP.join(this.context.extensionPath,"resources","claude-logo.svg")),e.webview.html=this.getHtmlForWebview(e.webview);let s=new tc(this.context,a,this.settings,e.webview,this.output,this.atMentionEvents,this.selectionChangedEvents,this.leftTempFileProvider,this.rightTempFileProvider,this.readOnlyTempFileProvider,this.acceptOrRejectDiffs,this.getSelection,()=>e.visible,()=>e.reveal(),e);this.allComms.add(s),e.webview.onDidReceiveMessage(i=>{this.output.info(`Received message from webview: ${JSON.stringify(i)}`),s?.fromClient(i)},null,this.disposables),e.onDidDispose(()=>{s.shutdown(),this.allComms.delete(s)},null,this.disposables),this.disposables.push(e)}getHtmlForWebview(e){let r=St.Uri.joinPath(this.extensionUri,"webview","index.js"),a=e.asWebviewUri(r),s=St.Uri.joinPath(this.extensionUri,"webview","index.css"),i=e.asWebviewUri(s),n=Gn(),o=`style-src ${e.cspSource} 'unsafe-inline'`,l=`font-src ${e.cspSource}`,c=`img-src ${e.cspSource} https:`,u=`worker-src ${e.cspSource}`,d=St.workspace.getConfiguration("editor"),h=d.get("fontFamily")||"monospace",p=d.get("fontSize")||12,m=d.get("fontWeight")||"normal";return`<!DOCTYPE html>
      <html lang="en">
      <head>
        <meta charset="UTF-8">

        <!--
          Use a content security policy to only allow loading images from https or from our extension directory,
          and only allow scripts that have a specific nonce.
        -->
        <meta http-equiv="Content-Security-Policy" content="default-src 'none'; ${o}; ${l}; ${c}; script-src 'nonce-${n}'; ${u};">

        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link href="${i}" rel="stylesheet">
        <style>
          :root {
            --vscode-editor-font-family: ${h};
            --vscode-editor-font-size: ${p}px;
            --vscode-editor-font-weight: ${m};
          }
        </style>
      </head>
      <body>
        <div id="root"></div>

        <script nonce="${n}" src="${a}" type="module"></script>
      </body>
      </html>`}};var lu=Pe(require("vscode"),1);var c9=Pe(Jp(),1);var GP=Pe(require("child_process"),1),WP=require("util"),ete=(0,WP.promisify)(GP.execFile);var It=Pe(require("vscode"),1);function lh(t){return t.includes("\\")?t.startsWith("\\\\")?"/"+t.substring(2).replace(/\\/g,"/"):(/^[a-zA-Z]:/.test(t)&&(t=t.replace(/^([a-zA-Z]):/,(e,r)=>"/"+r.toLowerCase()+":")),t.replace(/\\/g,"/")):t}var uh=class{constructor(e,r){this.uri=e;this.contents=r;this.ctime=this.modifiedTime=Date.now()}type=It.FileType.File;ctime;modifiedTime;get mtime(){return this.modifiedTime}get size(){return this.data.length}get data(){return this.contents}write(e){this.modifiedTime=Date.now(),this.contents=e,this.emitter.fire()}emitter=new It.EventEmitter;onDidSave=this.emitter.event},ac=class{constructor(e){this.scheme=e}documents=new Map;createFile(e,r){let a=e;process.platform==="win32"&&(a=lh(e));let s=It.Uri.from({scheme:this.scheme,path:a}),i=this.documents.get(s.path);return i?(this.writeFile(s,new TextEncoder().encode(r)),i):(i=new uh(s,new TextEncoder().encode(r)),this.documents.set(s.path,i),i)}emitter=new It.EventEmitter;onDidChangeFile=this.emitter.event;watch(e){return new It.Disposable(()=>{})}stat(e){return this.find(e)}find(e){let r=e.path;process.platform==="win32"&&(r=lh(e.path));let a=this.documents.get(r);if(!a)throw It.FileSystemError.FileNotFound(e);return a}readDirectory(e){throw It.FileSystemError.FileNotFound(e)}readFile(e){let r=this.find(e).data;if(r)return r;throw It.FileSystemError.FileNotFound(e)}writeFile(e,r){this.find(e).write(r),this.emitter.fire([{type:It.FileChangeType.Changed,uri:e}])}createDirectory(e){throw It.FileSystemError.Unavailable()}delete(e){throw It.FileSystemError.Unavailable()}rename(e,r,a){throw It.FileSystemError.Unavailable()}},uu=class{constructor(e){this.scheme=e}documents=new Map;onDidChangeEmitter=new It.EventEmitter;onDidChange=this.onDidChangeEmitter.event;createFile(e,r){let a=e;process.platform==="win32"&&(a=lh(e));let s=It.Uri.from({scheme:this.scheme,path:a});return this.addDocument(s,r),s}provideTextDocumentContent(e){return this.documents.get(e.toString())||""}addDocument(e,r){this.documents.set(e.toString(),r),this.onDidChangeEmitter.fire(e)}};var N1=Pe(D1(),1);function pg(t){let e=t.document,r=e.fileName,a=t.selection;if(a.isEmpty)return{filePath:r,startLine:a.start.line+1,endLine:a.start.line+1};{let s=e.getText(a);return{filePath:r,startLine:a.start.line+1,endLine:a.end.line+1,startColumn:a.start.character,endColumn:a.end.character,selectedText:s}}}var Pc=Pe(require("vscode"),1),Bd=class{async getModel(){let r=Pc.workspace.getConfiguration("claude-code").get("selectedModel");return r||"default"}async setModel(e){await Pc.workspace.getConfiguration("claude-code").update("selectedModel",e,Pc.ConfigurationTarget.Global)}};var $1=!1;function j5(t){$1=!0;let e=nt.window.createOutputChannel("Claude VSCode",{log:!0});t.subscriptions.push(e),nt.commands.executeCommand("setContext","claude-vscode.updateSupported",!1),(0,N1.activateExtension)(t,e);let r=new Bd,a=new ac("_claude_vscode_fs_left");t.subscriptions.push(nt.workspace.registerFileSystemProvider(a.scheme,a));let s=new ac("_claude_vscode_fs_right");t.subscriptions.push(nt.workspace.registerFileSystemProvider(s.scheme,s));let i=new uu("_claude_vscode_fs_readonly");t.subscriptions.push(nt.workspace.registerTextDocumentContentProvider(i.scheme,i)),t.subscriptions.push($5(s.scheme));let n=rw(t.subscriptions),o=D5(t.subscriptions),l=N5(t.subscriptions),c=new rc(t.extensionUri,t,e,r,a,s,i,n,o,l,()=>Rc);t.subscriptions.push(c),t.subscriptions.push(nt.window.registerWebviewViewProvider(rc.viewType,c)),nt.window.registerWebviewPanelSerializer("claudeVSCodePanel",{async deserializeWebviewPanel(u,d){c.setupPanel(u)}}),t.subscriptions.push(nt.commands.registerCommand("claude-vscode.editor.open",async()=>{let{startedInNewColumn:u}=c.createPanel();u&&nt.commands.executeCommand("workbench.action.lockEditorGroup")})),t.subscriptions.push(nt.commands.registerCommand("claude-vscode.sidebar.open",async()=>{nt.commands.executeCommand("setContext","claude-code:sidebarVisible",!0),await nt.commands.executeCommand("claudeVSCodeSidebar.focus")})),t.subscriptions.push(nt.commands.registerCommand("claude-vscode.window.open",async()=>{c.createPanel(),await nt.commands.executeCommand("workbench.action.moveEditorToNewWindow")})),t.subscriptions.push(nt.commands.registerCommand("claude-vscode.logout",async()=>{await new $i(ec(e),cu()).logout()?(await c.notifyLogout(),nt.window.showInformationMessage("Successfully logged out from Claude")):nt.window.showErrorMessage("Failed to logout completely. Some credentials may remain.")}))}function D5(t){let e=new nt.EventEmitter;return t.push(nt.commands.registerCommand("claude-vscode.insertAtMention",async()=>{let r=nt.window.activeTextEditor;if(!r)return;let a=r.document,s=nt.workspace.asRelativePath(a.fileName),i=r.selection;if(i.isEmpty){e.fire(`@${s}`);return}let n=i.start.line+1,o=i.end.line+1,l=n!==o?`@${s}#${n}-${o}`:`@${s}#${n}`;e.fire(l)})),e.event}var Rc;function N5(t){let e=new nt.EventEmitter;return t.push(nt.window.onDidChangeTextEditorSelection(async r=>{if(!(r.textEditor!==nt.window.activeTextEditor||await Xp(r.textEditor.document.uri))){if(r.selections.length===0){e.fire(void 0);return}Rc=pg(r.textEditor),e.fire(Rc)}})),t.push(nt.window.onDidChangeActiveTextEditor(async r=>{!r||await Xp(r.document.uri)||(Rc=pg(r),e.fire(Rc))})),e.event}function $5(t){return nt.window.onDidChangeVisibleTextEditors(e=>{let r=e.some(a=>a?.document.uri.scheme===t);nt.commands.executeCommand("setContext","claude-vscode.viewingProposedDiff",r)})}function L5(){console.log("Claude code extension is now deactivated"),$1=!1}function F5(){return nt.window.tabGroups.all.flatMap(t=>t.tabs)}0&&(module.exports={activate,deactivate,openTabs});
/*! Bundled license information:

mime-db/index.js:
  (*!
   * mime-db
   * Copyright(c) 2014 Jonathan Ong
   * Copyright(c) 2015-2022 Douglas Christopher Wilson
   * MIT Licensed
   *)

mime-types/index.js:
  (*!
   * mime-types
   * Copyright(c) 2014 Jonathan Ong
   * Copyright(c) 2015 Douglas Christopher Wilson
   * MIT Licensed
   *)

uri-js/dist/es5/uri.all.js:
  (** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js *)

lodash-es/lodash.js:
  (**
   * @license
   * Lodash (Custom Build) <https://lodash.com/>
   * Build: `lodash modularize exports="es" -o ./`
   * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
   * Released under MIT license <https://lodash.com/license>
   * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
   * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
   *)
*/
